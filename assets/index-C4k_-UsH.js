(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function o(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(a){if(a.ep)return;a.ep=!0;const u=o(a);fetch(a.href,u)}})();function Py(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Yc={exports:{}},Vl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dg;function WT(){if(dg)return Vl;dg=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function o(l,a,u){var f=null;if(u!==void 0&&(f=""+u),a.key!==void 0&&(f=""+a.key),"key"in a){u={};for(var p in a)p!=="key"&&(u[p]=a[p])}else u=a;return a=u.ref,{$$typeof:e,type:l,key:f,ref:a!==void 0?a:null,props:u}}return Vl.Fragment=t,Vl.jsx=o,Vl.jsxs=o,Vl}var hg;function jT(){return hg||(hg=1,Yc.exports=WT()),Yc.exports}var Z=jT(),Jc={exports:{}},gt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pg;function tE(){if(pg)return gt;pg=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),S=Symbol.iterator;function E(x){return x===null||typeof x!="object"?null:(x=S&&x[S]||x["@@iterator"],typeof x=="function"?x:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,w={};function I(x,B,et){this.props=x,this.context=B,this.refs=w,this.updater=et||C}I.prototype.isReactComponent={},I.prototype.setState=function(x,B){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,B,"setState")},I.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function O(){}O.prototype=I.prototype;function U(x,B,et){this.props=x,this.context=B,this.refs=w,this.updater=et||C}var b=U.prototype=new O;b.constructor=U,N(b,I.prototype),b.isPureReactComponent=!0;var X=Array.isArray;function k(){}var F={H:null,A:null,T:null,S:null},W=Object.prototype.hasOwnProperty;function K(x,B,et){var lt=et.ref;return{$$typeof:e,type:x,key:B,ref:lt!==void 0?lt:null,props:et}}function ot(x,B){return K(x.type,B,x.props)}function it(x){return typeof x=="object"&&x!==null&&x.$$typeof===e}function pt(x){var B={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(et){return B[et]})}var ct=/\/+/g;function L(x,B){return typeof x=="object"&&x!==null&&x.key!=null?pt(""+x.key):B.toString(36)}function H(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(k,k):(x.status="pending",x.then(function(B){x.status==="pending"&&(x.status="fulfilled",x.value=B)},function(B){x.status==="pending"&&(x.status="rejected",x.reason=B)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function R(x,B,et,lt,st){var ht=typeof x;(ht==="undefined"||ht==="boolean")&&(x=null);var yt=!1;if(x===null)yt=!0;else switch(ht){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(x.$$typeof){case e:case t:yt=!0;break;case v:return yt=x._init,R(yt(x._payload),B,et,lt,st)}}if(yt)return st=st(x),yt=lt===""?"."+L(x,0):lt,X(st)?(et="",yt!=null&&(et=yt.replace(ct,"$&/")+"/"),R(st,B,et,"",function(Jo){return Jo})):st!=null&&(it(st)&&(st=ot(st,et+(st.key==null||x&&x.key===st.key?"":(""+st.key).replace(ct,"$&/")+"/")+yt)),B.push(st)),1;yt=0;var Vt=lt===""?".":lt+":";if(X(x))for(var Pt=0;Pt<x.length;Pt++)lt=x[Pt],ht=Vt+L(lt,Pt),yt+=R(lt,B,et,ht,st);else if(Pt=E(x),typeof Pt=="function")for(x=Pt.call(x),Pt=0;!(lt=x.next()).done;)lt=lt.value,ht=Vt+L(lt,Pt++),yt+=R(lt,B,et,ht,st);else if(ht==="object"){if(typeof x.then=="function")return R(H(x),B,et,lt,st);throw B=String(x),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return yt}function V(x,B,et){if(x==null)return x;var lt=[],st=0;return R(x,lt,"","",function(ht){return B.call(et,ht,st++)}),lt}function Y(x){if(x._status===-1){var B=x._result;B=B(),B.then(function(et){(x._status===0||x._status===-1)&&(x._status=1,x._result=et)},function(et){(x._status===0||x._status===-1)&&(x._status=2,x._result=et)}),x._status===-1&&(x._status=0,x._result=B)}if(x._status===1)return x._result.default;throw x._result}var tt=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},nt={map:V,forEach:function(x,B,et){V(x,function(){B.apply(this,arguments)},et)},count:function(x){var B=0;return V(x,function(){B++}),B},toArray:function(x){return V(x,function(B){return B})||[]},only:function(x){if(!it(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return gt.Activity=_,gt.Children=nt,gt.Component=I,gt.Fragment=o,gt.Profiler=a,gt.PureComponent=U,gt.StrictMode=l,gt.Suspense=y,gt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,gt.__COMPILER_RUNTIME={__proto__:null,c:function(x){return F.H.useMemoCache(x)}},gt.cache=function(x){return function(){return x.apply(null,arguments)}},gt.cacheSignal=function(){return null},gt.cloneElement=function(x,B,et){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var lt=N({},x.props),st=x.key;if(B!=null)for(ht in B.key!==void 0&&(st=""+B.key),B)!W.call(B,ht)||ht==="key"||ht==="__self"||ht==="__source"||ht==="ref"&&B.ref===void 0||(lt[ht]=B[ht]);var ht=arguments.length-2;if(ht===1)lt.children=et;else if(1<ht){for(var yt=Array(ht),Vt=0;Vt<ht;Vt++)yt[Vt]=arguments[Vt+2];lt.children=yt}return K(x.type,st,lt)},gt.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},gt.createElement=function(x,B,et){var lt,st={},ht=null;if(B!=null)for(lt in B.key!==void 0&&(ht=""+B.key),B)W.call(B,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(st[lt]=B[lt]);var yt=arguments.length-2;if(yt===1)st.children=et;else if(1<yt){for(var Vt=Array(yt),Pt=0;Pt<yt;Pt++)Vt[Pt]=arguments[Pt+2];st.children=Vt}if(x&&x.defaultProps)for(lt in yt=x.defaultProps,yt)st[lt]===void 0&&(st[lt]=yt[lt]);return K(x,ht,st)},gt.createRef=function(){return{current:null}},gt.forwardRef=function(x){return{$$typeof:p,render:x}},gt.isValidElement=it,gt.lazy=function(x){return{$$typeof:v,_payload:{_status:-1,_result:x},_init:Y}},gt.memo=function(x,B){return{$$typeof:m,type:x,compare:B===void 0?null:B}},gt.startTransition=function(x){var B=F.T,et={};F.T=et;try{var lt=x(),st=F.S;st!==null&&st(et,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(k,tt)}catch(ht){tt(ht)}finally{B!==null&&et.types!==null&&(B.types=et.types),F.T=B}},gt.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},gt.use=function(x){return F.H.use(x)},gt.useActionState=function(x,B,et){return F.H.useActionState(x,B,et)},gt.useCallback=function(x,B){return F.H.useCallback(x,B)},gt.useContext=function(x){return F.H.useContext(x)},gt.useDebugValue=function(){},gt.useDeferredValue=function(x,B){return F.H.useDeferredValue(x,B)},gt.useEffect=function(x,B){return F.H.useEffect(x,B)},gt.useEffectEvent=function(x){return F.H.useEffectEvent(x)},gt.useId=function(){return F.H.useId()},gt.useImperativeHandle=function(x,B,et){return F.H.useImperativeHandle(x,B,et)},gt.useInsertionEffect=function(x,B){return F.H.useInsertionEffect(x,B)},gt.useLayoutEffect=function(x,B){return F.H.useLayoutEffect(x,B)},gt.useMemo=function(x,B){return F.H.useMemo(x,B)},gt.useOptimistic=function(x,B){return F.H.useOptimistic(x,B)},gt.useReducer=function(x,B,et){return F.H.useReducer(x,B,et)},gt.useRef=function(x){return F.H.useRef(x)},gt.useState=function(x){return F.H.useState(x)},gt.useSyncExternalStore=function(x,B,et){return F.H.useSyncExternalStore(x,B,et)},gt.useTransition=function(){return F.H.useTransition()},gt.version="19.2.3",gt}var mg;function Jf(){return mg||(mg=1,Jc.exports=tE()),Jc.exports}var Nt=Jf();const eE=Py(Nt);var Xc={exports:{}},Pl={},Kc={exports:{}},Qc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gg;function nE(){return gg||(gg=1,(function(e){function t(R,V){var Y=R.length;R.push(V);t:for(;0<Y;){var tt=Y-1>>>1,nt=R[tt];if(0<a(nt,V))R[tt]=V,R[Y]=nt,Y=tt;else break t}}function o(R){return R.length===0?null:R[0]}function l(R){if(R.length===0)return null;var V=R[0],Y=R.pop();if(Y!==V){R[0]=Y;t:for(var tt=0,nt=R.length,x=nt>>>1;tt<x;){var B=2*(tt+1)-1,et=R[B],lt=B+1,st=R[lt];if(0>a(et,Y))lt<nt&&0>a(st,et)?(R[tt]=st,R[lt]=Y,tt=lt):(R[tt]=et,R[B]=Y,tt=B);else if(lt<nt&&0>a(st,Y))R[tt]=st,R[lt]=Y,tt=lt;else break t}}return V}function a(R,V){var Y=R.sortIndex-V.sortIndex;return Y!==0?Y:R.id-V.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();e.unstable_now=function(){return f.now()-p}}var y=[],m=[],v=1,_=null,S=3,E=!1,C=!1,N=!1,w=!1,I=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function b(R){for(var V=o(m);V!==null;){if(V.callback===null)l(m);else if(V.startTime<=R)l(m),V.sortIndex=V.expirationTime,t(y,V);else break;V=o(m)}}function X(R){if(N=!1,b(R),!C)if(o(y)!==null)C=!0,k||(k=!0,pt());else{var V=o(m);V!==null&&H(X,V.startTime-R)}}var k=!1,F=-1,W=5,K=-1;function ot(){return w?!0:!(e.unstable_now()-K<W)}function it(){if(w=!1,k){var R=e.unstable_now();K=R;var V=!0;try{t:{C=!1,N&&(N=!1,O(F),F=-1),E=!0;var Y=S;try{e:{for(b(R),_=o(y);_!==null&&!(_.expirationTime>R&&ot());){var tt=_.callback;if(typeof tt=="function"){_.callback=null,S=_.priorityLevel;var nt=tt(_.expirationTime<=R);if(R=e.unstable_now(),typeof nt=="function"){_.callback=nt,b(R),V=!0;break e}_===o(y)&&l(y),b(R)}else l(y);_=o(y)}if(_!==null)V=!0;else{var x=o(m);x!==null&&H(X,x.startTime-R),V=!1}}break t}finally{_=null,S=Y,E=!1}V=void 0}}finally{V?pt():k=!1}}}var pt;if(typeof U=="function")pt=function(){U(it)};else if(typeof MessageChannel<"u"){var ct=new MessageChannel,L=ct.port2;ct.port1.onmessage=it,pt=function(){L.postMessage(null)}}else pt=function(){I(it,0)};function H(R,V){F=I(function(){R(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_next=function(R){switch(S){case 1:case 2:case 3:var V=3;break;default:V=S}var Y=S;S=V;try{return R()}finally{S=Y}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(R,V){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var Y=S;S=R;try{return V()}finally{S=Y}},e.unstable_scheduleCallback=function(R,V,Y){var tt=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?tt+Y:tt):Y=tt,R){case 1:var nt=-1;break;case 2:nt=250;break;case 5:nt=1073741823;break;case 4:nt=1e4;break;default:nt=5e3}return nt=Y+nt,R={id:v++,callback:V,priorityLevel:R,startTime:Y,expirationTime:nt,sortIndex:-1},Y>tt?(R.sortIndex=Y,t(m,R),o(y)===null&&R===o(m)&&(N?(O(F),F=-1):N=!0,H(X,Y-tt))):(R.sortIndex=nt,t(y,R),C||E||(C=!0,k||(k=!0,pt()))),R},e.unstable_shouldYield=ot,e.unstable_wrapCallback=function(R){var V=S;return function(){var Y=S;S=V;try{return R.apply(this,arguments)}finally{S=Y}}}})(Qc)),Qc}var yg;function iE(){return yg||(yg=1,Kc.exports=nE()),Kc.exports}var Zc={exports:{}},ue={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vg;function oE(){if(vg)return ue;vg=1;var e=Jf();function t(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var l={d:{f:o,r:function(){throw Error(t(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},a=Symbol.for("react.portal");function u(y,m,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:y,containerInfo:m,implementation:v}}var f=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ue.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,ue.createPortal=function(y,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return u(y,m,null,v)},ue.flushSync=function(y){var m=f.T,v=l.p;try{if(f.T=null,l.p=2,y)return y()}finally{f.T=m,l.p=v,l.d.f()}},ue.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,l.d.C(y,m))},ue.prefetchDNS=function(y){typeof y=="string"&&l.d.D(y)},ue.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var v=m.as,_=p(v,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,E=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?l.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:E}):v==="script"&&l.d.X(y,{crossOrigin:_,integrity:S,fetchPriority:E,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ue.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=p(m.as,m.crossOrigin);l.d.M(y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&l.d.M(y)},ue.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,_=p(v,m.crossOrigin);l.d.L(y,v,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ue.preloadModule=function(y,m){if(typeof y=="string")if(m){var v=p(m.as,m.crossOrigin);l.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else l.d.m(y)},ue.requestFormReset=function(y){l.d.r(y)},ue.unstable_batchedUpdates=function(y,m){return y(m)},ue.useFormState=function(y,m,v){return f.H.useFormState(y,m,v)},ue.useFormStatus=function(){return f.H.useHostTransitionStatus()},ue.version="19.2.3",ue}var _g;function lE(){if(_g)return Zc.exports;_g=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Zc.exports=oE(),Zc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sg;function rE(){if(Sg)return Pl;Sg=1;var e=iE(),t=Jf(),o=lE();function l(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)i+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,r=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(r=i.return),n=i.return;while(n)}return i.tag===3?r:null}function f(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function p(n){if(n.tag===31){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function y(n){if(u(n)!==n)throw Error(l(188))}function m(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(l(188));return i!==n?null:n}for(var r=n,s=i;;){var h=r.return;if(h===null)break;var g=h.alternate;if(g===null){if(s=h.return,s!==null){r=s;continue}break}if(h.child===g.child){for(g=h.child;g;){if(g===r)return y(h),n;if(g===s)return y(h),i;g=g.sibling}throw Error(l(188))}if(r.return!==s.return)r=h,s=g;else{for(var T=!1,A=h.child;A;){if(A===r){T=!0,r=h,s=g;break}if(A===s){T=!0,s=h,r=g;break}A=A.sibling}if(!T){for(A=g.child;A;){if(A===r){T=!0,r=g,s=h;break}if(A===s){T=!0,s=g,r=h;break}A=A.sibling}if(!T)throw Error(l(189))}}if(r.alternate!==s)throw Error(l(190))}if(r.tag!==3)throw Error(l(188));return r.stateNode.current===r?n:i}function v(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=v(n),i!==null)return i;n=n.sibling}return null}var _=Object.assign,S=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),U=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),ot=Symbol.for("react.memo_cache_sentinel"),it=Symbol.iterator;function pt(n){return n===null||typeof n!="object"?null:(n=it&&n[it]||n["@@iterator"],typeof n=="function"?n:null)}var ct=Symbol.for("react.client.reference");function L(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===ct?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case I:return"Profiler";case w:return"StrictMode";case X:return"Suspense";case k:return"SuspenseList";case K:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case C:return"Portal";case U:return n.displayName||"Context";case O:return(n._context.displayName||"Context")+".Consumer";case b:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case F:return i=n.displayName||null,i!==null?i:L(n.type)||"Memo";case W:i=n._payload,n=n._init;try{return L(n(i))}catch{}}return null}var H=Array.isArray,R=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y={pending:!1,data:null,method:null,action:null},tt=[],nt=-1;function x(n){return{current:n}}function B(n){0>nt||(n.current=tt[nt],tt[nt]=null,nt--)}function et(n,i){nt++,tt[nt]=n.current,n.current=i}var lt=x(null),st=x(null),ht=x(null),yt=x(null);function Vt(n,i){switch(et(ht,i),et(st,n),et(lt,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?Gm(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=Gm(i),n=Hm(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}B(lt),et(lt,n)}function Pt(){B(lt),B(st),B(ht)}function Jo(n){n.memoizedState!==null&&et(yt,n);var i=lt.current,r=Hm(i,n.type);i!==r&&(et(st,n),et(lt,r))}function sr(n){st.current===n&&(B(lt),B(st)),yt.current===n&&(B(yt),Gl._currentValue=Y)}var Ms,fd;function gi(n){if(Ms===void 0)try{throw Error()}catch(r){var i=r.stack.trim().match(/\n( *(at )?)/);Ms=i&&i[1]||"",fd=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ms+n+fd}var ws=!1;function Ns(n,i){if(!n||ws)return"";ws=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(i){var j=function(){throw Error()};if(Object.defineProperty(j.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(j,[])}catch(J){var P=J}Reflect.construct(n,[],j)}else{try{j.call()}catch(J){P=J}n.call(j.prototype)}}else{try{throw Error()}catch(J){P=J}(j=n())&&typeof j.catch=="function"&&j.catch(function(){})}}catch(J){if(J&&P&&typeof J.stack=="string")return[J.stack,P.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=s.DetermineComponentFrameRoot(),T=g[0],A=g[1];if(T&&A){var M=T.split(`
`),q=A.split(`
`);for(h=s=0;s<M.length&&!M[s].includes("DetermineComponentFrameRoot");)s++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(s===M.length||h===q.length)for(s=M.length-1,h=q.length-1;1<=s&&0<=h&&M[s]!==q[h];)h--;for(;1<=s&&0<=h;s--,h--)if(M[s]!==q[h]){if(s!==1||h!==1)do if(s--,h--,0>h||M[s]!==q[h]){var Q=`
`+M[s].replace(" at new "," at ");return n.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",n.displayName)),Q}while(1<=s&&0<=h);break}}}finally{ws=!1,Error.prepareStackTrace=r}return(r=n?n.displayName||n.name:"")?gi(r):""}function N_(n,i){switch(n.tag){case 26:case 27:case 5:return gi(n.type);case 16:return gi("Lazy");case 13:return n.child!==i&&i!==null?gi("Suspense Fallback"):gi("Suspense");case 19:return gi("SuspenseList");case 0:case 15:return Ns(n.type,!1);case 11:return Ns(n.type.render,!1);case 1:return Ns(n.type,!0);case 31:return gi("Activity");default:return""}}function dd(n){try{var i="",r=null;do i+=N_(n,r),r=n,n=n.return;while(n);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Is=Object.prototype.hasOwnProperty,Ds=e.unstable_scheduleCallback,bs=e.unstable_cancelCallback,I_=e.unstable_shouldYield,D_=e.unstable_requestPaint,Ee=e.unstable_now,b_=e.unstable_getCurrentPriorityLevel,hd=e.unstable_ImmediatePriority,pd=e.unstable_UserBlockingPriority,ur=e.unstable_NormalPriority,U_=e.unstable_LowPriority,md=e.unstable_IdlePriority,L_=e.log,G_=e.unstable_setDisableYieldValue,Xo=null,Ae=null;function Bn(n){if(typeof L_=="function"&&G_(n),Ae&&typeof Ae.setStrictMode=="function")try{Ae.setStrictMode(Xo,n)}catch{}}var Ce=Math.clz32?Math.clz32:q_,H_=Math.log,z_=Math.LN2;function q_(n){return n>>>=0,n===0?32:31-(H_(n)/z_|0)|0}var cr=256,fr=262144,dr=4194304;function yi(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function hr(n,i,r){var s=n.pendingLanes;if(s===0)return 0;var h=0,g=n.suspendedLanes,T=n.pingedLanes;n=n.warmLanes;var A=s&134217727;return A!==0?(s=A&~g,s!==0?h=yi(s):(T&=A,T!==0?h=yi(T):r||(r=A&~n,r!==0&&(h=yi(r))))):(A=s&~g,A!==0?h=yi(A):T!==0?h=yi(T):r||(r=s&~n,r!==0&&(h=yi(r)))),h===0?0:i!==0&&i!==h&&(i&g)===0&&(g=h&-h,r=i&-i,g>=r||g===32&&(r&4194048)!==0)?i:h}function Ko(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function V_(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gd(){var n=dr;return dr<<=1,(dr&62914560)===0&&(dr=4194304),n}function Us(n){for(var i=[],r=0;31>r;r++)i.push(n);return i}function Qo(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function P_(n,i,r,s,h,g){var T=n.pendingLanes;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=r,n.entangledLanes&=r,n.errorRecoveryDisabledLanes&=r,n.shellSuspendCounter=0;var A=n.entanglements,M=n.expirationTimes,q=n.hiddenUpdates;for(r=T&~r;0<r;){var Q=31-Ce(r),j=1<<Q;A[Q]=0,M[Q]=-1;var P=q[Q];if(P!==null)for(q[Q]=null,Q=0;Q<P.length;Q++){var J=P[Q];J!==null&&(J.lane&=-536870913)}r&=~j}s!==0&&yd(n,s,0),g!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=g&~(T&~i))}function yd(n,i,r){n.pendingLanes|=i,n.suspendedLanes&=~i;var s=31-Ce(i);n.entangledLanes|=i,n.entanglements[s]=n.entanglements[s]|1073741824|r&261930}function vd(n,i){var r=n.entangledLanes|=i;for(n=n.entanglements;r;){var s=31-Ce(r),h=1<<s;h&i|n[s]&i&&(n[s]|=i),r&=~h}}function _d(n,i){var r=i&-i;return r=(r&42)!==0?1:Ls(r),(r&(n.suspendedLanes|i))!==0?0:r}function Ls(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Gs(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Sd(){var n=V.p;return n!==0?n:(n=window.event,n===void 0?32:lg(n.type))}function Td(n,i){var r=V.p;try{return V.p=n,i()}finally{V.p=r}}var kn=Math.random().toString(36).slice(2),oe="__reactFiber$"+kn,pe="__reactProps$"+kn,Oi="__reactContainer$"+kn,Hs="__reactEvents$"+kn,B_="__reactListeners$"+kn,k_="__reactHandles$"+kn,Ed="__reactResources$"+kn,Zo="__reactMarker$"+kn;function zs(n){delete n[oe],delete n[pe],delete n[Hs],delete n[B_],delete n[k_]}function Fi(n){var i=n[oe];if(i)return i;for(var r=n.parentNode;r;){if(i=r[Oi]||r[oe]){if(r=i.alternate,i.child!==null||r!==null&&r.child!==null)for(n=Om(n);n!==null;){if(r=n[oe])return r;n=Om(n)}return i}n=r,r=n.parentNode}return null}function Yi(n){if(n=n[oe]||n[Oi]){var i=n.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return n}return null}function $o(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(l(33))}function Ji(n){var i=n[Ed];return i||(i=n[Ed]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ee(n){n[Zo]=!0}var Ad=new Set,Cd={};function vi(n,i){Xi(n,i),Xi(n+"Capture",i)}function Xi(n,i){for(Cd[n]=i,n=0;n<i.length;n++)Ad.add(i[n])}var O_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rd={},xd={};function F_(n){return Is.call(xd,n)?!0:Is.call(Rd,n)?!1:O_.test(n)?xd[n]=!0:(Rd[n]=!0,!1)}function pr(n,i,r){if(F_(i))if(r===null)n.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var s=i.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+r)}}function mr(n,i,r){if(r===null)n.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+r)}}function pn(n,i,r,s){if(s===null)n.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttributeNS(i,r,""+s)}}function Le(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Md(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Y_(n,i,r){var s=Object.getOwnPropertyDescriptor(n.constructor.prototype,i);if(!n.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,g=s.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return h.call(this)},set:function(T){r=""+T,g.call(this,T)}}),Object.defineProperty(n,i,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(T){r=""+T},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function qs(n){if(!n._valueTracker){var i=Md(n)?"checked":"value";n._valueTracker=Y_(n,i,""+n[i])}}function wd(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var r=i.getValue(),s="";return n&&(s=Md(n)?n.checked?"true":"false":n.value),n=s,n!==r?(i.setValue(n),!0):!1}function gr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var J_=/[\n"\\]/g;function Ge(n){return n.replace(J_,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Vs(n,i,r,s,h,g,T,A){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),i!=null?T==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Le(i)):n.value!==""+Le(i)&&(n.value=""+Le(i)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),i!=null?Ps(n,T,Le(i)):r!=null?Ps(n,T,Le(r)):s!=null&&n.removeAttribute("value"),h==null&&g!=null&&(n.defaultChecked=!!g),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.name=""+Le(A):n.removeAttribute("name")}function Nd(n,i,r,s,h,g,T,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.type=g),i!=null||r!=null){if(!(g!=="submit"&&g!=="reset"||i!=null)){qs(n);return}r=r!=null?""+Le(r):"",i=i!=null?""+Le(i):r,A||i===n.value||(n.value=i),n.defaultValue=i}s=s??h,s=typeof s!="function"&&typeof s!="symbol"&&!!s,n.checked=A?n.checked:!!s,n.defaultChecked=!!s,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T),qs(n)}function Ps(n,i,r){i==="number"&&gr(n.ownerDocument)===n||n.defaultValue===""+r||(n.defaultValue=""+r)}function Ki(n,i,r,s){if(n=n.options,i){i={};for(var h=0;h<r.length;h++)i["$"+r[h]]=!0;for(r=0;r<n.length;r++)h=i.hasOwnProperty("$"+n[r].value),n[r].selected!==h&&(n[r].selected=h),h&&s&&(n[r].defaultSelected=!0)}else{for(r=""+Le(r),i=null,h=0;h<n.length;h++){if(n[h].value===r){n[h].selected=!0,s&&(n[h].defaultSelected=!0);return}i!==null||n[h].disabled||(i=n[h])}i!==null&&(i.selected=!0)}}function Id(n,i,r){if(i!=null&&(i=""+Le(i),i!==n.value&&(n.value=i),r==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=r!=null?""+Le(r):""}function Dd(n,i,r,s){if(i==null){if(s!=null){if(r!=null)throw Error(l(92));if(H(s)){if(1<s.length)throw Error(l(93));s=s[0]}r=s}r==null&&(r=""),i=r}r=Le(i),n.defaultValue=r,s=n.textContent,s===r&&s!==""&&s!==null&&(n.value=s),qs(n)}function Qi(n,i){if(i){var r=n.firstChild;if(r&&r===n.lastChild&&r.nodeType===3){r.nodeValue=i;return}}n.textContent=i}var X_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bd(n,i,r){var s=i.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?s?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":s?n.setProperty(i,r):typeof r!="number"||r===0||X_.has(i)?i==="float"?n.cssFloat=r:n[i]=(""+r).trim():n[i]=r+"px"}function Ud(n,i,r){if(i!=null&&typeof i!="object")throw Error(l(62));if(n=n.style,r!=null){for(var s in r)!r.hasOwnProperty(s)||i!=null&&i.hasOwnProperty(s)||(s.indexOf("--")===0?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="");for(var h in i)s=i[h],i.hasOwnProperty(h)&&r[h]!==s&&bd(n,h,s)}else for(var g in i)i.hasOwnProperty(g)&&bd(n,g,i[g])}function Bs(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var K_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Q_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yr(n){return Q_.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function mn(){}var ks=null;function Os(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Zi=null,$i=null;function Ld(n){var i=Yi(n);if(i&&(n=i.stateNode)){var r=n[pe]||null;t:switch(n=i.stateNode,i.type){case"input":if(Vs(n,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),i=r.name,r.type==="radio"&&i!=null){for(r=n;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Ge(""+i)+'"][type="radio"]'),i=0;i<r.length;i++){var s=r[i];if(s!==n&&s.form===n.form){var h=s[pe]||null;if(!h)throw Error(l(90));Vs(s,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<r.length;i++)s=r[i],s.form===n.form&&wd(s)}break t;case"textarea":Id(n,r.value,r.defaultValue);break t;case"select":i=r.value,i!=null&&Ki(n,!!r.multiple,i,!1)}}}var Fs=!1;function Gd(n,i,r){if(Fs)return n(i,r);Fs=!0;try{var s=n(i);return s}finally{if(Fs=!1,(Zi!==null||$i!==null)&&(oa(),Zi&&(i=Zi,n=$i,$i=Zi=null,Ld(i),n)))for(i=0;i<n.length;i++)Ld(n[i])}}function Wo(n,i){var r=n.stateNode;if(r===null)return null;var s=r[pe]||null;if(s===null)return null;r=s[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(n=n.type,s=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!s;break t;default:n=!1}if(n)return null;if(r&&typeof r!="function")throw Error(l(231,i,typeof r));return r}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ys=!1;if(gn)try{var jo={};Object.defineProperty(jo,"passive",{get:function(){Ys=!0}}),window.addEventListener("test",jo,jo),window.removeEventListener("test",jo,jo)}catch{Ys=!1}var On=null,Js=null,vr=null;function Hd(){if(vr)return vr;var n,i=Js,r=i.length,s,h="value"in On?On.value:On.textContent,g=h.length;for(n=0;n<r&&i[n]===h[n];n++);var T=r-n;for(s=1;s<=T&&i[r-s]===h[g-s];s++);return vr=h.slice(n,1<s?1-s:void 0)}function _r(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Sr(){return!0}function zd(){return!1}function me(n){function i(r,s,h,g,T){this._reactName=r,this._targetInst=h,this.type=s,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var A in n)n.hasOwnProperty(A)&&(r=n[A],this[A]=r?r(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Sr:zd,this.isPropagationStopped=zd,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Sr)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Sr)},persist:function(){},isPersistent:Sr}),i}var _i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tr=me(_i),tl=_({},_i,{view:0,detail:0}),Z_=me(tl),Xs,Ks,el,Er=_({},tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==el&&(el&&n.type==="mousemove"?(Xs=n.screenX-el.screenX,Ks=n.screenY-el.screenY):Ks=Xs=0,el=n),Xs)},movementY:function(n){return"movementY"in n?n.movementY:Ks}}),qd=me(Er),$_=_({},Er,{dataTransfer:0}),W_=me($_),j_=_({},tl,{relatedTarget:0}),Qs=me(j_),tS=_({},_i,{animationName:0,elapsedTime:0,pseudoElement:0}),eS=me(tS),nS=_({},_i,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),iS=me(nS),oS=_({},_i,{data:0}),Vd=me(oS),lS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sS(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=aS[n])?!!i[n]:!1}function Zs(){return sS}var uS=_({},tl,{key:function(n){if(n.key){var i=lS[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=_r(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?rS[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zs,charCode:function(n){return n.type==="keypress"?_r(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?_r(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),cS=me(uS),fS=_({},Er,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pd=me(fS),dS=_({},tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zs}),hS=me(dS),pS=_({},_i,{propertyName:0,elapsedTime:0,pseudoElement:0}),mS=me(pS),gS=_({},Er,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),yS=me(gS),vS=_({},_i,{newState:0,oldState:0}),_S=me(vS),SS=[9,13,27,32],$s=gn&&"CompositionEvent"in window,nl=null;gn&&"documentMode"in document&&(nl=document.documentMode);var TS=gn&&"TextEvent"in window&&!nl,Bd=gn&&(!$s||nl&&8<nl&&11>=nl),kd=" ",Od=!1;function Fd(n,i){switch(n){case"keyup":return SS.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yd(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Wi=!1;function ES(n,i){switch(n){case"compositionend":return Yd(i);case"keypress":return i.which!==32?null:(Od=!0,kd);case"textInput":return n=i.data,n===kd&&Od?null:n;default:return null}}function AS(n,i){if(Wi)return n==="compositionend"||!$s&&Fd(n,i)?(n=Hd(),vr=Js=On=null,Wi=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Bd&&i.locale!=="ko"?null:i.data;default:return null}}var CS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jd(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!CS[n.type]:i==="textarea"}function Xd(n,i,r,s){Zi?$i?$i.push(s):$i=[s]:Zi=s,i=fa(i,"onChange"),0<i.length&&(r=new Tr("onChange","change",null,r,s),n.push({event:r,listeners:i}))}var il=null,ol=null;function RS(n){Nm(n,0)}function Ar(n){var i=$o(n);if(wd(i))return n}function Kd(n,i){if(n==="change")return i}var Qd=!1;if(gn){var Ws;if(gn){var js="oninput"in document;if(!js){var Zd=document.createElement("div");Zd.setAttribute("oninput","return;"),js=typeof Zd.oninput=="function"}Ws=js}else Ws=!1;Qd=Ws&&(!document.documentMode||9<document.documentMode)}function $d(){il&&(il.detachEvent("onpropertychange",Wd),ol=il=null)}function Wd(n){if(n.propertyName==="value"&&Ar(ol)){var i=[];Xd(i,ol,n,Os(n)),Gd(RS,i)}}function xS(n,i,r){n==="focusin"?($d(),il=i,ol=r,il.attachEvent("onpropertychange",Wd)):n==="focusout"&&$d()}function MS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ar(ol)}function wS(n,i){if(n==="click")return Ar(i)}function NS(n,i){if(n==="input"||n==="change")return Ar(i)}function IS(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Re=typeof Object.is=="function"?Object.is:IS;function ll(n,i){if(Re(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var r=Object.keys(n),s=Object.keys(i);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var h=r[s];if(!Is.call(i,h)||!Re(n[h],i[h]))return!1}return!0}function jd(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function th(n,i){var r=jd(n);n=0;for(var s;r;){if(r.nodeType===3){if(s=n+r.textContent.length,n<=i&&s>=i)return{node:r,offset:i-n};n=s}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=jd(r)}}function eh(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?eh(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function nh(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=gr(n.document);i instanceof n.HTMLIFrameElement;){try{var r=typeof i.contentWindow.location.href=="string"}catch{r=!1}if(r)n=i.contentWindow;else break;i=gr(n.document)}return i}function tu(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var DS=gn&&"documentMode"in document&&11>=document.documentMode,ji=null,eu=null,rl=null,nu=!1;function ih(n,i,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;nu||ji==null||ji!==gr(s)||(s=ji,"selectionStart"in s&&tu(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),rl&&ll(rl,s)||(rl=s,s=fa(eu,"onSelect"),0<s.length&&(i=new Tr("onSelect","select",null,i,r),n.push({event:i,listeners:s}),i.target=ji)))}function Si(n,i){var r={};return r[n.toLowerCase()]=i.toLowerCase(),r["Webkit"+n]="webkit"+i,r["Moz"+n]="moz"+i,r}var to={animationend:Si("Animation","AnimationEnd"),animationiteration:Si("Animation","AnimationIteration"),animationstart:Si("Animation","AnimationStart"),transitionrun:Si("Transition","TransitionRun"),transitionstart:Si("Transition","TransitionStart"),transitioncancel:Si("Transition","TransitionCancel"),transitionend:Si("Transition","TransitionEnd")},iu={},oh={};gn&&(oh=document.createElement("div").style,"AnimationEvent"in window||(delete to.animationend.animation,delete to.animationiteration.animation,delete to.animationstart.animation),"TransitionEvent"in window||delete to.transitionend.transition);function Ti(n){if(iu[n])return iu[n];if(!to[n])return n;var i=to[n],r;for(r in i)if(i.hasOwnProperty(r)&&r in oh)return iu[n]=i[r];return n}var lh=Ti("animationend"),rh=Ti("animationiteration"),ah=Ti("animationstart"),bS=Ti("transitionrun"),US=Ti("transitionstart"),LS=Ti("transitioncancel"),sh=Ti("transitionend"),uh=new Map,ou="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ou.push("scrollEnd");function $e(n,i){uh.set(n,i),vi(i,[n])}var Cr=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},He=[],eo=0,lu=0;function Rr(){for(var n=eo,i=lu=eo=0;i<n;){var r=He[i];He[i++]=null;var s=He[i];He[i++]=null;var h=He[i];He[i++]=null;var g=He[i];if(He[i++]=null,s!==null&&h!==null){var T=s.pending;T===null?h.next=h:(h.next=T.next,T.next=h),s.pending=h}g!==0&&ch(r,h,g)}}function xr(n,i,r,s){He[eo++]=n,He[eo++]=i,He[eo++]=r,He[eo++]=s,lu|=s,n.lanes|=s,n=n.alternate,n!==null&&(n.lanes|=s)}function ru(n,i,r,s){return xr(n,i,r,s),Mr(n)}function Ei(n,i){return xr(n,null,null,i),Mr(n)}function ch(n,i,r){n.lanes|=r;var s=n.alternate;s!==null&&(s.lanes|=r);for(var h=!1,g=n.return;g!==null;)g.childLanes|=r,s=g.alternate,s!==null&&(s.childLanes|=r),g.tag===22&&(n=g.stateNode,n===null||n._visibility&1||(h=!0)),n=g,g=g.return;return n.tag===3?(g=n.stateNode,h&&i!==null&&(h=31-Ce(r),n=g.hiddenUpdates,s=n[h],s===null?n[h]=[i]:s.push(i),i.lane=r|536870912),g):null}function Mr(n){if(50<wl)throw wl=0,mc=null,Error(l(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var no={};function GS(n,i,r,s){this.tag=n,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xe(n,i,r,s){return new GS(n,i,r,s)}function au(n){return n=n.prototype,!(!n||!n.isReactComponent)}function yn(n,i){var r=n.alternate;return r===null?(r=xe(n.tag,i,n.key,n.mode),r.elementType=n.elementType,r.type=n.type,r.stateNode=n.stateNode,r.alternate=n,n.alternate=r):(r.pendingProps=i,r.type=n.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=n.flags&65011712,r.childLanes=n.childLanes,r.lanes=n.lanes,r.child=n.child,r.memoizedProps=n.memoizedProps,r.memoizedState=n.memoizedState,r.updateQueue=n.updateQueue,i=n.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},r.sibling=n.sibling,r.index=n.index,r.ref=n.ref,r.refCleanup=n.refCleanup,r}function fh(n,i){n.flags&=65011714;var r=n.alternate;return r===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=r.childLanes,n.lanes=r.lanes,n.child=r.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=r.memoizedProps,n.memoizedState=r.memoizedState,n.updateQueue=r.updateQueue,n.type=r.type,i=r.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function wr(n,i,r,s,h,g){var T=0;if(s=n,typeof n=="function")au(n)&&(T=1);else if(typeof n=="string")T=PT(n,r,lt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case K:return n=xe(31,r,i,h),n.elementType=K,n.lanes=g,n;case N:return Ai(r.children,h,g,i);case w:T=8,h|=24;break;case I:return n=xe(12,r,i,h|2),n.elementType=I,n.lanes=g,n;case X:return n=xe(13,r,i,h),n.elementType=X,n.lanes=g,n;case k:return n=xe(19,r,i,h),n.elementType=k,n.lanes=g,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case U:T=10;break t;case O:T=9;break t;case b:T=11;break t;case F:T=14;break t;case W:T=16,s=null;break t}T=29,r=Error(l(130,n===null?"null":typeof n,"")),s=null}return i=xe(T,r,i,h),i.elementType=n,i.type=s,i.lanes=g,i}function Ai(n,i,r,s){return n=xe(7,n,s,i),n.lanes=r,n}function su(n,i,r){return n=xe(6,n,null,i),n.lanes=r,n}function dh(n){var i=xe(18,null,null,0);return i.stateNode=n,i}function uu(n,i,r){return i=xe(4,n.children!==null?n.children:[],n.key,i),i.lanes=r,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var hh=new WeakMap;function ze(n,i){if(typeof n=="object"&&n!==null){var r=hh.get(n);return r!==void 0?r:(i={value:n,source:i,stack:dd(i)},hh.set(n,i),i)}return{value:n,source:i,stack:dd(i)}}var io=[],oo=0,Nr=null,al=0,qe=[],Ve=0,Fn=null,rn=1,an="";function vn(n,i){io[oo++]=al,io[oo++]=Nr,Nr=n,al=i}function ph(n,i,r){qe[Ve++]=rn,qe[Ve++]=an,qe[Ve++]=Fn,Fn=n;var s=rn;n=an;var h=32-Ce(s)-1;s&=~(1<<h),r+=1;var g=32-Ce(i)+h;if(30<g){var T=h-h%5;g=(s&(1<<T)-1).toString(32),s>>=T,h-=T,rn=1<<32-Ce(i)+h|r<<h|s,an=g+n}else rn=1<<g|r<<h|s,an=n}function cu(n){n.return!==null&&(vn(n,1),ph(n,1,0))}function fu(n){for(;n===Nr;)Nr=io[--oo],io[oo]=null,al=io[--oo],io[oo]=null;for(;n===Fn;)Fn=qe[--Ve],qe[Ve]=null,an=qe[--Ve],qe[Ve]=null,rn=qe[--Ve],qe[Ve]=null}function mh(n,i){qe[Ve++]=rn,qe[Ve++]=an,qe[Ve++]=Fn,rn=i.id,an=i.overflow,Fn=n}var le=null,Bt=null,Ct=!1,Yn=null,Pe=!1,du=Error(l(519));function Jn(n){var i=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw sl(ze(i,n)),du}function gh(n){var i=n.stateNode,r=n.type,s=n.memoizedProps;switch(i[oe]=n,i[pe]=s,r){case"dialog":Tt("cancel",i),Tt("close",i);break;case"iframe":case"object":case"embed":Tt("load",i);break;case"video":case"audio":for(r=0;r<Il.length;r++)Tt(Il[r],i);break;case"source":Tt("error",i);break;case"img":case"image":case"link":Tt("error",i),Tt("load",i);break;case"details":Tt("toggle",i);break;case"input":Tt("invalid",i),Nd(i,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Tt("invalid",i);break;case"textarea":Tt("invalid",i),Dd(i,s.value,s.defaultValue,s.children)}r=s.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||i.textContent===""+r||s.suppressHydrationWarning===!0||Um(i.textContent,r)?(s.popover!=null&&(Tt("beforetoggle",i),Tt("toggle",i)),s.onScroll!=null&&Tt("scroll",i),s.onScrollEnd!=null&&Tt("scrollend",i),s.onClick!=null&&(i.onclick=mn),i=!0):i=!1,i||Jn(n,!0)}function yh(n){for(le=n.return;le;)switch(le.tag){case 5:case 31:case 13:Pe=!1;return;case 27:case 3:Pe=!0;return;default:le=le.return}}function lo(n){if(n!==le)return!1;if(!Ct)return yh(n),Ct=!0,!1;var i=n.tag,r;if((r=i!==3&&i!==27)&&((r=i===5)&&(r=n.type,r=!(r!=="form"&&r!=="button")||Ic(n.type,n.memoizedProps)),r=!r),r&&Bt&&Jn(n),yh(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(l(317));Bt=km(n)}else if(i===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(l(317));Bt=km(n)}else i===27?(i=Bt,ri(n.type)?(n=Gc,Gc=null,Bt=n):Bt=i):Bt=le?ke(n.stateNode.nextSibling):null;return!0}function Ci(){Bt=le=null,Ct=!1}function hu(){var n=Yn;return n!==null&&(_e===null?_e=n:_e.push.apply(_e,n),Yn=null),n}function sl(n){Yn===null?Yn=[n]:Yn.push(n)}var pu=x(null),Ri=null,_n=null;function Xn(n,i,r){et(pu,i._currentValue),i._currentValue=r}function Sn(n){n._currentValue=pu.current,B(pu)}function mu(n,i,r){for(;n!==null;){var s=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,s!==null&&(s.childLanes|=i)):s!==null&&(s.childLanes&i)!==i&&(s.childLanes|=i),n===r)break;n=n.return}}function gu(n,i,r,s){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var g=h.dependencies;if(g!==null){var T=h.child;g=g.firstContext;t:for(;g!==null;){var A=g;g=h;for(var M=0;M<i.length;M++)if(A.context===i[M]){g.lanes|=r,A=g.alternate,A!==null&&(A.lanes|=r),mu(g.return,r,n),s||(T=null);break t}g=A.next}}else if(h.tag===18){if(T=h.return,T===null)throw Error(l(341));T.lanes|=r,g=T.alternate,g!==null&&(g.lanes|=r),mu(T,r,n),T=null}else T=h.child;if(T!==null)T.return=h;else for(T=h;T!==null;){if(T===n){T=null;break}if(h=T.sibling,h!==null){h.return=T.return,T=h;break}T=T.return}h=T}}function ro(n,i,r,s){n=null;for(var h=i,g=!1;h!==null;){if(!g){if((h.flags&524288)!==0)g=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var T=h.alternate;if(T===null)throw Error(l(387));if(T=T.memoizedProps,T!==null){var A=h.type;Re(h.pendingProps.value,T.value)||(n!==null?n.push(A):n=[A])}}else if(h===yt.current){if(T=h.alternate,T===null)throw Error(l(387));T.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(Gl):n=[Gl])}h=h.return}n!==null&&gu(i,n,r,s),i.flags|=262144}function Ir(n){for(n=n.firstContext;n!==null;){if(!Re(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function xi(n){Ri=n,_n=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function re(n){return vh(Ri,n)}function Dr(n,i){return Ri===null&&xi(n),vh(n,i)}function vh(n,i){var r=i._currentValue;if(i={context:i,memoizedValue:r,next:null},_n===null){if(n===null)throw Error(l(308));_n=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else _n=_n.next=i;return r}var HS=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(r,s){n.push(s)}};this.abort=function(){i.aborted=!0,n.forEach(function(r){return r()})}},zS=e.unstable_scheduleCallback,qS=e.unstable_NormalPriority,Zt={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yu(){return{controller:new HS,data:new Map,refCount:0}}function ul(n){n.refCount--,n.refCount===0&&zS(qS,function(){n.controller.abort()})}var cl=null,vu=0,ao=0,so=null;function VS(n,i){if(cl===null){var r=cl=[];vu=0,ao=Tc(),so={status:"pending",value:void 0,then:function(s){r.push(s)}}}return vu++,i.then(_h,_h),i}function _h(){if(--vu===0&&cl!==null){so!==null&&(so.status="fulfilled");var n=cl;cl=null,ao=0,so=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function PS(n,i){var r=[],s={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return n.then(function(){s.status="fulfilled",s.value=i;for(var h=0;h<r.length;h++)(0,r[h])(i)},function(h){for(s.status="rejected",s.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),s}var Sh=R.S;R.S=function(n,i){im=Ee(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&VS(n,i),Sh!==null&&Sh(n,i)};var Mi=x(null);function _u(){var n=Mi.current;return n!==null?n:zt.pooledCache}function br(n,i){i===null?et(Mi,Mi.current):et(Mi,i.pool)}function Th(){var n=_u();return n===null?null:{parent:Zt._currentValue,pool:n}}var uo=Error(l(460)),Su=Error(l(474)),Ur=Error(l(542)),Lr={then:function(){}};function Eh(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Ah(n,i,r){switch(r=n[r],r===void 0?n.push(i):r!==i&&(i.then(mn,mn),i=r),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Rh(n),n;default:if(typeof i.status=="string")i.then(mn,mn);else{if(n=zt,n!==null&&100<n.shellSuspendCounter)throw Error(l(482));n=i,n.status="pending",n.then(function(s){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=s}},function(s){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=s}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Rh(n),n}throw Ni=i,uo}}function wi(n){try{var i=n._init;return i(n._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Ni=r,uo):r}}var Ni=null;function Ch(){if(Ni===null)throw Error(l(459));var n=Ni;return Ni=null,n}function Rh(n){if(n===uo||n===Ur)throw Error(l(483))}var co=null,fl=0;function Gr(n){var i=fl;return fl+=1,co===null&&(co=[]),Ah(co,n,i)}function dl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Hr(n,i){throw i.$$typeof===S?Error(l(525)):(n=Object.prototype.toString.call(i),Error(l(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function xh(n){function i(G,D){if(n){var z=G.deletions;z===null?(G.deletions=[D],G.flags|=16):z.push(D)}}function r(G,D){if(!n)return null;for(;D!==null;)i(G,D),D=D.sibling;return null}function s(G){for(var D=new Map;G!==null;)G.key!==null?D.set(G.key,G):D.set(G.index,G),G=G.sibling;return D}function h(G,D){return G=yn(G,D),G.index=0,G.sibling=null,G}function g(G,D,z){return G.index=z,n?(z=G.alternate,z!==null?(z=z.index,z<D?(G.flags|=67108866,D):z):(G.flags|=67108866,D)):(G.flags|=1048576,D)}function T(G){return n&&G.alternate===null&&(G.flags|=67108866),G}function A(G,D,z,$){return D===null||D.tag!==6?(D=su(z,G.mode,$),D.return=G,D):(D=h(D,z),D.return=G,D)}function M(G,D,z,$){var ft=z.type;return ft===N?Q(G,D,z.props.children,$,z.key):D!==null&&(D.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===W&&wi(ft)===D.type)?(D=h(D,z.props),dl(D,z),D.return=G,D):(D=wr(z.type,z.key,z.props,null,G.mode,$),dl(D,z),D.return=G,D)}function q(G,D,z,$){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=uu(z,G.mode,$),D.return=G,D):(D=h(D,z.children||[]),D.return=G,D)}function Q(G,D,z,$,ft){return D===null||D.tag!==7?(D=Ai(z,G.mode,$,ft),D.return=G,D):(D=h(D,z),D.return=G,D)}function j(G,D,z){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=su(""+D,G.mode,z),D.return=G,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case E:return z=wr(D.type,D.key,D.props,null,G.mode,z),dl(z,D),z.return=G,z;case C:return D=uu(D,G.mode,z),D.return=G,D;case W:return D=wi(D),j(G,D,z)}if(H(D)||pt(D))return D=Ai(D,G.mode,z,null),D.return=G,D;if(typeof D.then=="function")return j(G,Gr(D),z);if(D.$$typeof===U)return j(G,Dr(G,D),z);Hr(G,D)}return null}function P(G,D,z,$){var ft=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ft!==null?null:A(G,D,""+z,$);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case E:return z.key===ft?M(G,D,z,$):null;case C:return z.key===ft?q(G,D,z,$):null;case W:return z=wi(z),P(G,D,z,$)}if(H(z)||pt(z))return ft!==null?null:Q(G,D,z,$,null);if(typeof z.then=="function")return P(G,D,Gr(z),$);if(z.$$typeof===U)return P(G,D,Dr(G,z),$);Hr(G,z)}return null}function J(G,D,z,$,ft){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return G=G.get(z)||null,A(D,G,""+$,ft);if(typeof $=="object"&&$!==null){switch($.$$typeof){case E:return G=G.get($.key===null?z:$.key)||null,M(D,G,$,ft);case C:return G=G.get($.key===null?z:$.key)||null,q(D,G,$,ft);case W:return $=wi($),J(G,D,z,$,ft)}if(H($)||pt($))return G=G.get(z)||null,Q(D,G,$,ft,null);if(typeof $.then=="function")return J(G,D,z,Gr($),ft);if($.$$typeof===U)return J(G,D,z,Dr(D,$),ft);Hr(D,$)}return null}function at(G,D,z,$){for(var ft=null,Mt=null,ut=D,_t=D=0,At=null;ut!==null&&_t<z.length;_t++){ut.index>_t?(At=ut,ut=null):At=ut.sibling;var wt=P(G,ut,z[_t],$);if(wt===null){ut===null&&(ut=At);break}n&&ut&&wt.alternate===null&&i(G,ut),D=g(wt,D,_t),Mt===null?ft=wt:Mt.sibling=wt,Mt=wt,ut=At}if(_t===z.length)return r(G,ut),Ct&&vn(G,_t),ft;if(ut===null){for(;_t<z.length;_t++)ut=j(G,z[_t],$),ut!==null&&(D=g(ut,D,_t),Mt===null?ft=ut:Mt.sibling=ut,Mt=ut);return Ct&&vn(G,_t),ft}for(ut=s(ut);_t<z.length;_t++)At=J(ut,G,_t,z[_t],$),At!==null&&(n&&At.alternate!==null&&ut.delete(At.key===null?_t:At.key),D=g(At,D,_t),Mt===null?ft=At:Mt.sibling=At,Mt=At);return n&&ut.forEach(function(fi){return i(G,fi)}),Ct&&vn(G,_t),ft}function dt(G,D,z,$){if(z==null)throw Error(l(151));for(var ft=null,Mt=null,ut=D,_t=D=0,At=null,wt=z.next();ut!==null&&!wt.done;_t++,wt=z.next()){ut.index>_t?(At=ut,ut=null):At=ut.sibling;var fi=P(G,ut,wt.value,$);if(fi===null){ut===null&&(ut=At);break}n&&ut&&fi.alternate===null&&i(G,ut),D=g(fi,D,_t),Mt===null?ft=fi:Mt.sibling=fi,Mt=fi,ut=At}if(wt.done)return r(G,ut),Ct&&vn(G,_t),ft;if(ut===null){for(;!wt.done;_t++,wt=z.next())wt=j(G,wt.value,$),wt!==null&&(D=g(wt,D,_t),Mt===null?ft=wt:Mt.sibling=wt,Mt=wt);return Ct&&vn(G,_t),ft}for(ut=s(ut);!wt.done;_t++,wt=z.next())wt=J(ut,G,_t,wt.value,$),wt!==null&&(n&&wt.alternate!==null&&ut.delete(wt.key===null?_t:wt.key),D=g(wt,D,_t),Mt===null?ft=wt:Mt.sibling=wt,Mt=wt);return n&&ut.forEach(function($T){return i(G,$T)}),Ct&&vn(G,_t),ft}function Ht(G,D,z,$){if(typeof z=="object"&&z!==null&&z.type===N&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case E:t:{for(var ft=z.key;D!==null;){if(D.key===ft){if(ft=z.type,ft===N){if(D.tag===7){r(G,D.sibling),$=h(D,z.props.children),$.return=G,G=$;break t}}else if(D.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===W&&wi(ft)===D.type){r(G,D.sibling),$=h(D,z.props),dl($,z),$.return=G,G=$;break t}r(G,D);break}else i(G,D);D=D.sibling}z.type===N?($=Ai(z.props.children,G.mode,$,z.key),$.return=G,G=$):($=wr(z.type,z.key,z.props,null,G.mode,$),dl($,z),$.return=G,G=$)}return T(G);case C:t:{for(ft=z.key;D!==null;){if(D.key===ft)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){r(G,D.sibling),$=h(D,z.children||[]),$.return=G,G=$;break t}else{r(G,D);break}else i(G,D);D=D.sibling}$=uu(z,G.mode,$),$.return=G,G=$}return T(G);case W:return z=wi(z),Ht(G,D,z,$)}if(H(z))return at(G,D,z,$);if(pt(z)){if(ft=pt(z),typeof ft!="function")throw Error(l(150));return z=ft.call(z),dt(G,D,z,$)}if(typeof z.then=="function")return Ht(G,D,Gr(z),$);if(z.$$typeof===U)return Ht(G,D,Dr(G,z),$);Hr(G,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,D!==null&&D.tag===6?(r(G,D.sibling),$=h(D,z),$.return=G,G=$):(r(G,D),$=su(z,G.mode,$),$.return=G,G=$),T(G)):r(G,D)}return function(G,D,z,$){try{fl=0;var ft=Ht(G,D,z,$);return co=null,ft}catch(ut){if(ut===uo||ut===Ur)throw ut;var Mt=xe(29,ut,null,G.mode);return Mt.lanes=$,Mt.return=G,Mt}finally{}}}var Ii=xh(!0),Mh=xh(!1),Kn=!1;function Tu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Eu(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Qn(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Zn(n,i,r){var s=n.updateQueue;if(s===null)return null;if(s=s.shared,(Dt&2)!==0){var h=s.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),s.pending=i,i=Mr(n),ch(n,null,r),i}return xr(n,s,i,r),Mr(n)}function hl(n,i,r){if(i=i.updateQueue,i!==null&&(i=i.shared,(r&4194048)!==0)){var s=i.lanes;s&=n.pendingLanes,r|=s,i.lanes=r,vd(n,r)}}function Au(n,i){var r=n.updateQueue,s=n.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var h=null,g=null;if(r=r.firstBaseUpdate,r!==null){do{var T={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};g===null?h=g=T:g=g.next=T,r=r.next}while(r!==null);g===null?h=g=i:g=g.next=i}else h=g=i;r={baseState:s.baseState,firstBaseUpdate:h,lastBaseUpdate:g,shared:s.shared,callbacks:s.callbacks},n.updateQueue=r;return}n=r.lastBaseUpdate,n===null?r.firstBaseUpdate=i:n.next=i,r.lastBaseUpdate=i}var Cu=!1;function pl(){if(Cu){var n=so;if(n!==null)throw n}}function ml(n,i,r,s){Cu=!1;var h=n.updateQueue;Kn=!1;var g=h.firstBaseUpdate,T=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var M=A,q=M.next;M.next=null,T===null?g=q:T.next=q,T=M;var Q=n.alternate;Q!==null&&(Q=Q.updateQueue,A=Q.lastBaseUpdate,A!==T&&(A===null?Q.firstBaseUpdate=q:A.next=q,Q.lastBaseUpdate=M))}if(g!==null){var j=h.baseState;T=0,Q=q=M=null,A=g;do{var P=A.lane&-536870913,J=P!==A.lane;if(J?(Et&P)===P:(s&P)===P){P!==0&&P===ao&&(Cu=!0),Q!==null&&(Q=Q.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});t:{var at=n,dt=A;P=i;var Ht=r;switch(dt.tag){case 1:if(at=dt.payload,typeof at=="function"){j=at.call(Ht,j,P);break t}j=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=dt.payload,P=typeof at=="function"?at.call(Ht,j,P):at,P==null)break t;j=_({},j,P);break t;case 2:Kn=!0}}P=A.callback,P!==null&&(n.flags|=64,J&&(n.flags|=8192),J=h.callbacks,J===null?h.callbacks=[P]:J.push(P))}else J={lane:P,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Q===null?(q=Q=J,M=j):Q=Q.next=J,T|=P;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;J=A,A=J.next,J.next=null,h.lastBaseUpdate=J,h.shared.pending=null}}while(!0);Q===null&&(M=j),h.baseState=M,h.firstBaseUpdate=q,h.lastBaseUpdate=Q,g===null&&(h.shared.lanes=0),ei|=T,n.lanes=T,n.memoizedState=j}}function wh(n,i){if(typeof n!="function")throw Error(l(191,n));n.call(i)}function Nh(n,i){var r=n.callbacks;if(r!==null)for(n.callbacks=null,n=0;n<r.length;n++)wh(r[n],i)}var fo=x(null),zr=x(0);function Ih(n,i){n=Nn,et(zr,n),et(fo,i),Nn=n|i.baseLanes}function Ru(){et(zr,Nn),et(fo,fo.current)}function xu(){Nn=zr.current,B(fo),B(zr)}var Me=x(null),Be=null;function $n(n){var i=n.alternate;et(Kt,Kt.current&1),et(Me,n),Be===null&&(i===null||fo.current!==null||i.memoizedState!==null)&&(Be=n)}function Mu(n){et(Kt,Kt.current),et(Me,n),Be===null&&(Be=n)}function Dh(n){n.tag===22?(et(Kt,Kt.current),et(Me,n),Be===null&&(Be=n)):Wn()}function Wn(){et(Kt,Kt.current),et(Me,Me.current)}function we(n){B(Me),Be===n&&(Be=null),B(Kt)}var Kt=x(0);function qr(n){for(var i=n;i!==null;){if(i.tag===13){var r=i.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Uc(r)||Lc(r)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Tn=0,vt=null,Lt=null,$t=null,Vr=!1,ho=!1,Di=!1,Pr=0,gl=0,po=null,BS=0;function Jt(){throw Error(l(321))}function wu(n,i){if(i===null)return!1;for(var r=0;r<i.length&&r<n.length;r++)if(!Re(n[r],i[r]))return!1;return!0}function Nu(n,i,r,s,h,g){return Tn=g,vt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,R.H=n===null||n.memoizedState===null?pp:Fu,Di=!1,g=r(s,h),Di=!1,ho&&(g=Uh(i,r,s,h)),bh(n),g}function bh(n){R.H=_l;var i=Lt!==null&&Lt.next!==null;if(Tn=0,$t=Lt=vt=null,Vr=!1,gl=0,po=null,i)throw Error(l(300));n===null||Wt||(n=n.dependencies,n!==null&&Ir(n)&&(Wt=!0))}function Uh(n,i,r,s){vt=n;var h=0;do{if(ho&&(po=null),gl=0,ho=!1,25<=h)throw Error(l(301));if(h+=1,$t=Lt=null,n.updateQueue!=null){var g=n.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}R.H=mp,g=i(r,s)}while(ho);return g}function kS(){var n=R.H,i=n.useState()[0];return i=typeof i.then=="function"?yl(i):i,n=n.useState()[0],(Lt!==null?Lt.memoizedState:null)!==n&&(vt.flags|=1024),i}function Iu(){var n=Pr!==0;return Pr=0,n}function Du(n,i,r){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~r}function bu(n){if(Vr){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Vr=!1}Tn=0,$t=Lt=vt=null,ho=!1,gl=Pr=0,po=null}function fe(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?vt.memoizedState=$t=n:$t=$t.next=n,$t}function Qt(){if(Lt===null){var n=vt.alternate;n=n!==null?n.memoizedState:null}else n=Lt.next;var i=$t===null?vt.memoizedState:$t.next;if(i!==null)$t=i,Lt=n;else{if(n===null)throw vt.alternate===null?Error(l(467)):Error(l(310));Lt=n,n={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},$t===null?vt.memoizedState=$t=n:$t=$t.next=n}return $t}function Br(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yl(n){var i=gl;return gl+=1,po===null&&(po=[]),n=Ah(po,n,i),i=vt,($t===null?i.memoizedState:$t.next)===null&&(i=i.alternate,R.H=i===null||i.memoizedState===null?pp:Fu),n}function kr(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return yl(n);if(n.$$typeof===U)return re(n)}throw Error(l(438,String(n)))}function Uu(n){var i=null,r=vt.updateQueue;if(r!==null&&(i=r.memoCache),i==null){var s=vt.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(i={data:s.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),r===null&&(r=Br(),vt.updateQueue=r),r.memoCache=i,r=i.data[i.index],r===void 0)for(r=i.data[i.index]=Array(n),s=0;s<n;s++)r[s]=ot;return i.index++,r}function En(n,i){return typeof i=="function"?i(n):i}function Or(n){var i=Qt();return Lu(i,Lt,n)}function Lu(n,i,r){var s=n.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=r;var h=n.baseQueue,g=s.pending;if(g!==null){if(h!==null){var T=h.next;h.next=g.next,g.next=T}i.baseQueue=h=g,s.pending=null}if(g=n.baseState,h===null)n.memoizedState=g;else{i=h.next;var A=T=null,M=null,q=i,Q=!1;do{var j=q.lane&-536870913;if(j!==q.lane?(Et&j)===j:(Tn&j)===j){var P=q.revertLane;if(P===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),j===ao&&(Q=!0);else if((Tn&P)===P){q=q.next,P===ao&&(Q=!0);continue}else j={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},M===null?(A=M=j,T=g):M=M.next=j,vt.lanes|=P,ei|=P;j=q.action,Di&&r(g,j),g=q.hasEagerState?q.eagerState:r(g,j)}else P={lane:j,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},M===null?(A=M=P,T=g):M=M.next=P,vt.lanes|=j,ei|=j;q=q.next}while(q!==null&&q!==i);if(M===null?T=g:M.next=A,!Re(g,n.memoizedState)&&(Wt=!0,Q&&(r=so,r!==null)))throw r;n.memoizedState=g,n.baseState=T,n.baseQueue=M,s.lastRenderedState=g}return h===null&&(s.lanes=0),[n.memoizedState,s.dispatch]}function Gu(n){var i=Qt(),r=i.queue;if(r===null)throw Error(l(311));r.lastRenderedReducer=n;var s=r.dispatch,h=r.pending,g=i.memoizedState;if(h!==null){r.pending=null;var T=h=h.next;do g=n(g,T.action),T=T.next;while(T!==h);Re(g,i.memoizedState)||(Wt=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),r.lastRenderedState=g}return[g,s]}function Lh(n,i,r){var s=vt,h=Qt(),g=Ct;if(g){if(r===void 0)throw Error(l(407));r=r()}else r=i();var T=!Re((Lt||h).memoizedState,r);if(T&&(h.memoizedState=r,Wt=!0),h=h.queue,qu(zh.bind(null,s,h,n),[n]),h.getSnapshot!==i||T||$t!==null&&$t.memoizedState.tag&1){if(s.flags|=2048,mo(9,{destroy:void 0},Hh.bind(null,s,h,r,i),null),zt===null)throw Error(l(349));g||(Tn&127)!==0||Gh(s,i,r)}return r}function Gh(n,i,r){n.flags|=16384,n={getSnapshot:i,value:r},i=vt.updateQueue,i===null?(i=Br(),vt.updateQueue=i,i.stores=[n]):(r=i.stores,r===null?i.stores=[n]:r.push(n))}function Hh(n,i,r,s){i.value=r,i.getSnapshot=s,qh(i)&&Vh(n)}function zh(n,i,r){return r(function(){qh(i)&&Vh(n)})}function qh(n){var i=n.getSnapshot;n=n.value;try{var r=i();return!Re(n,r)}catch{return!0}}function Vh(n){var i=Ei(n,2);i!==null&&Se(i,n,2)}function Hu(n){var i=fe();if(typeof n=="function"){var r=n;if(n=r(),Di){Bn(!0);try{r()}finally{Bn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:En,lastRenderedState:n},i}function Ph(n,i,r,s){return n.baseState=r,Lu(n,Lt,typeof s=="function"?s:En)}function OS(n,i,r,s,h){if(Jr(n))throw Error(l(485));if(n=i.action,n!==null){var g={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};R.T!==null?r(!0):g.isTransition=!1,s(g),r=i.pending,r===null?(g.next=i.pending=g,Bh(i,g)):(g.next=r.next,i.pending=r.next=g)}}function Bh(n,i){var r=i.action,s=i.payload,h=n.state;if(i.isTransition){var g=R.T,T={};R.T=T;try{var A=r(h,s),M=R.S;M!==null&&M(T,A),kh(n,i,A)}catch(q){zu(n,i,q)}finally{g!==null&&T.types!==null&&(g.types=T.types),R.T=g}}else try{g=r(h,s),kh(n,i,g)}catch(q){zu(n,i,q)}}function kh(n,i,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(s){Oh(n,i,s)},function(s){return zu(n,i,s)}):Oh(n,i,r)}function Oh(n,i,r){i.status="fulfilled",i.value=r,Fh(i),n.state=r,i=n.pending,i!==null&&(r=i.next,r===i?n.pending=null:(r=r.next,i.next=r,Bh(n,r)))}function zu(n,i,r){var s=n.pending;if(n.pending=null,s!==null){s=s.next;do i.status="rejected",i.reason=r,Fh(i),i=i.next;while(i!==s)}n.action=null}function Fh(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Yh(n,i){return i}function Jh(n,i){if(Ct){var r=zt.formState;if(r!==null){t:{var s=vt;if(Ct){if(Bt){e:{for(var h=Bt,g=Pe;h.nodeType!==8;){if(!g){h=null;break e}if(h=ke(h.nextSibling),h===null){h=null;break e}}g=h.data,h=g==="F!"||g==="F"?h:null}if(h){Bt=ke(h.nextSibling),s=h.data==="F!";break t}}Jn(s)}s=!1}s&&(i=r[0])}}return r=fe(),r.memoizedState=r.baseState=i,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yh,lastRenderedState:i},r.queue=s,r=fp.bind(null,vt,s),s.dispatch=r,s=Hu(!1),g=Ou.bind(null,vt,!1,s.queue),s=fe(),h={state:i,dispatch:null,action:n,pending:null},s.queue=h,r=OS.bind(null,vt,h,g,r),h.dispatch=r,s.memoizedState=n,[i,r,!1]}function Xh(n){var i=Qt();return Kh(i,Lt,n)}function Kh(n,i,r){if(i=Lu(n,i,Yh)[0],n=Or(En)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var s=yl(i)}catch(T){throw T===uo?Ur:T}else s=i;i=Qt();var h=i.queue,g=h.dispatch;return r!==i.memoizedState&&(vt.flags|=2048,mo(9,{destroy:void 0},FS.bind(null,h,r),null)),[s,g,n]}function FS(n,i){n.action=i}function Qh(n){var i=Qt(),r=Lt;if(r!==null)return Kh(i,r,n);Qt(),i=i.memoizedState,r=Qt();var s=r.queue.dispatch;return r.memoizedState=n,[i,s,!1]}function mo(n,i,r,s){return n={tag:n,create:r,deps:s,inst:i,next:null},i=vt.updateQueue,i===null&&(i=Br(),vt.updateQueue=i),r=i.lastEffect,r===null?i.lastEffect=n.next=n:(s=r.next,r.next=n,n.next=s,i.lastEffect=n),n}function Zh(){return Qt().memoizedState}function Fr(n,i,r,s){var h=fe();vt.flags|=n,h.memoizedState=mo(1|i,{destroy:void 0},r,s===void 0?null:s)}function Yr(n,i,r,s){var h=Qt();s=s===void 0?null:s;var g=h.memoizedState.inst;Lt!==null&&s!==null&&wu(s,Lt.memoizedState.deps)?h.memoizedState=mo(i,g,r,s):(vt.flags|=n,h.memoizedState=mo(1|i,g,r,s))}function $h(n,i){Fr(8390656,8,n,i)}function qu(n,i){Yr(2048,8,n,i)}function YS(n){vt.flags|=4;var i=vt.updateQueue;if(i===null)i=Br(),vt.updateQueue=i,i.events=[n];else{var r=i.events;r===null?i.events=[n]:r.push(n)}}function Wh(n){var i=Qt().memoizedState;return YS({ref:i,nextImpl:n}),function(){if((Dt&2)!==0)throw Error(l(440));return i.impl.apply(void 0,arguments)}}function jh(n,i){return Yr(4,2,n,i)}function tp(n,i){return Yr(4,4,n,i)}function ep(n,i){if(typeof i=="function"){n=n();var r=i(n);return function(){typeof r=="function"?r():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function np(n,i,r){r=r!=null?r.concat([n]):null,Yr(4,4,ep.bind(null,i,n),r)}function Vu(){}function ip(n,i){var r=Qt();i=i===void 0?null:i;var s=r.memoizedState;return i!==null&&wu(i,s[1])?s[0]:(r.memoizedState=[n,i],n)}function op(n,i){var r=Qt();i=i===void 0?null:i;var s=r.memoizedState;if(i!==null&&wu(i,s[1]))return s[0];if(s=n(),Di){Bn(!0);try{n()}finally{Bn(!1)}}return r.memoizedState=[s,i],s}function Pu(n,i,r){return r===void 0||(Tn&1073741824)!==0&&(Et&261930)===0?n.memoizedState=i:(n.memoizedState=r,n=lm(),vt.lanes|=n,ei|=n,r)}function lp(n,i,r,s){return Re(r,i)?r:fo.current!==null?(n=Pu(n,r,s),Re(n,i)||(Wt=!0),n):(Tn&42)===0||(Tn&1073741824)!==0&&(Et&261930)===0?(Wt=!0,n.memoizedState=r):(n=lm(),vt.lanes|=n,ei|=n,i)}function rp(n,i,r,s,h){var g=V.p;V.p=g!==0&&8>g?g:8;var T=R.T,A={};R.T=A,Ou(n,!1,i,r);try{var M=h(),q=R.S;if(q!==null&&q(A,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var Q=PS(M,s);vl(n,i,Q,De(n))}else vl(n,i,s,De(n))}catch(j){vl(n,i,{then:function(){},status:"rejected",reason:j},De())}finally{V.p=g,T!==null&&A.types!==null&&(T.types=A.types),R.T=T}}function JS(){}function Bu(n,i,r,s){if(n.tag!==5)throw Error(l(476));var h=ap(n).queue;rp(n,h,i,Y,r===null?JS:function(){return sp(n),r(s)})}function ap(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:Y,baseState:Y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:En,lastRenderedState:Y},next:null};var r={};return i.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:En,lastRenderedState:r},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function sp(n){var i=ap(n);i.next===null&&(i=n.alternate.memoizedState),vl(n,i.next.queue,{},De())}function ku(){return re(Gl)}function up(){return Qt().memoizedState}function cp(){return Qt().memoizedState}function XS(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var r=De();n=Qn(r);var s=Zn(i,n,r);s!==null&&(Se(s,i,r),hl(s,i,r)),i={cache:yu()},n.payload=i;return}i=i.return}}function KS(n,i,r){var s=De();r={lane:s,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Jr(n)?dp(i,r):(r=ru(n,i,r,s),r!==null&&(Se(r,n,s),hp(r,i,s)))}function fp(n,i,r){var s=De();vl(n,i,r,s)}function vl(n,i,r,s){var h={lane:s,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Jr(n))dp(i,h);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var T=i.lastRenderedState,A=g(T,r);if(h.hasEagerState=!0,h.eagerState=A,Re(A,T))return xr(n,i,h,0),zt===null&&Rr(),!1}catch{}finally{}if(r=ru(n,i,h,s),r!==null)return Se(r,n,s),hp(r,i,s),!0}return!1}function Ou(n,i,r,s){if(s={lane:2,revertLane:Tc(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Jr(n)){if(i)throw Error(l(479))}else i=ru(n,r,s,2),i!==null&&Se(i,n,2)}function Jr(n){var i=n.alternate;return n===vt||i!==null&&i===vt}function dp(n,i){ho=Vr=!0;var r=n.pending;r===null?i.next=i:(i.next=r.next,r.next=i),n.pending=i}function hp(n,i,r){if((r&4194048)!==0){var s=i.lanes;s&=n.pendingLanes,r|=s,i.lanes=r,vd(n,r)}}var _l={readContext:re,use:kr,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useLayoutEffect:Jt,useInsertionEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useSyncExternalStore:Jt,useId:Jt,useHostTransitionStatus:Jt,useFormState:Jt,useActionState:Jt,useOptimistic:Jt,useMemoCache:Jt,useCacheRefresh:Jt};_l.useEffectEvent=Jt;var pp={readContext:re,use:kr,useCallback:function(n,i){return fe().memoizedState=[n,i===void 0?null:i],n},useContext:re,useEffect:$h,useImperativeHandle:function(n,i,r){r=r!=null?r.concat([n]):null,Fr(4194308,4,ep.bind(null,i,n),r)},useLayoutEffect:function(n,i){return Fr(4194308,4,n,i)},useInsertionEffect:function(n,i){Fr(4,2,n,i)},useMemo:function(n,i){var r=fe();i=i===void 0?null:i;var s=n();if(Di){Bn(!0);try{n()}finally{Bn(!1)}}return r.memoizedState=[s,i],s},useReducer:function(n,i,r){var s=fe();if(r!==void 0){var h=r(i);if(Di){Bn(!0);try{r(i)}finally{Bn(!1)}}}else h=i;return s.memoizedState=s.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},s.queue=n,n=n.dispatch=KS.bind(null,vt,n),[s.memoizedState,n]},useRef:function(n){var i=fe();return n={current:n},i.memoizedState=n},useState:function(n){n=Hu(n);var i=n.queue,r=fp.bind(null,vt,i);return i.dispatch=r,[n.memoizedState,r]},useDebugValue:Vu,useDeferredValue:function(n,i){var r=fe();return Pu(r,n,i)},useTransition:function(){var n=Hu(!1);return n=rp.bind(null,vt,n.queue,!0,!1),fe().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,r){var s=vt,h=fe();if(Ct){if(r===void 0)throw Error(l(407));r=r()}else{if(r=i(),zt===null)throw Error(l(349));(Et&127)!==0||Gh(s,i,r)}h.memoizedState=r;var g={value:r,getSnapshot:i};return h.queue=g,$h(zh.bind(null,s,g,n),[n]),s.flags|=2048,mo(9,{destroy:void 0},Hh.bind(null,s,g,r,i),null),r},useId:function(){var n=fe(),i=zt.identifierPrefix;if(Ct){var r=an,s=rn;r=(s&~(1<<32-Ce(s)-1)).toString(32)+r,i="_"+i+"R_"+r,r=Pr++,0<r&&(i+="H"+r.toString(32)),i+="_"}else r=BS++,i="_"+i+"r_"+r.toString(32)+"_";return n.memoizedState=i},useHostTransitionStatus:ku,useFormState:Jh,useActionState:Jh,useOptimistic:function(n){var i=fe();i.memoizedState=i.baseState=n;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=r,i=Ou.bind(null,vt,!0,r),r.dispatch=i,[n,i]},useMemoCache:Uu,useCacheRefresh:function(){return fe().memoizedState=XS.bind(null,vt)},useEffectEvent:function(n){var i=fe(),r={impl:n};return i.memoizedState=r,function(){if((Dt&2)!==0)throw Error(l(440));return r.impl.apply(void 0,arguments)}}},Fu={readContext:re,use:kr,useCallback:ip,useContext:re,useEffect:qu,useImperativeHandle:np,useInsertionEffect:jh,useLayoutEffect:tp,useMemo:op,useReducer:Or,useRef:Zh,useState:function(){return Or(En)},useDebugValue:Vu,useDeferredValue:function(n,i){var r=Qt();return lp(r,Lt.memoizedState,n,i)},useTransition:function(){var n=Or(En)[0],i=Qt().memoizedState;return[typeof n=="boolean"?n:yl(n),i]},useSyncExternalStore:Lh,useId:up,useHostTransitionStatus:ku,useFormState:Xh,useActionState:Xh,useOptimistic:function(n,i){var r=Qt();return Ph(r,Lt,n,i)},useMemoCache:Uu,useCacheRefresh:cp};Fu.useEffectEvent=Wh;var mp={readContext:re,use:kr,useCallback:ip,useContext:re,useEffect:qu,useImperativeHandle:np,useInsertionEffect:jh,useLayoutEffect:tp,useMemo:op,useReducer:Gu,useRef:Zh,useState:function(){return Gu(En)},useDebugValue:Vu,useDeferredValue:function(n,i){var r=Qt();return Lt===null?Pu(r,n,i):lp(r,Lt.memoizedState,n,i)},useTransition:function(){var n=Gu(En)[0],i=Qt().memoizedState;return[typeof n=="boolean"?n:yl(n),i]},useSyncExternalStore:Lh,useId:up,useHostTransitionStatus:ku,useFormState:Qh,useActionState:Qh,useOptimistic:function(n,i){var r=Qt();return Lt!==null?Ph(r,Lt,n,i):(r.baseState=n,[n,r.queue.dispatch])},useMemoCache:Uu,useCacheRefresh:cp};mp.useEffectEvent=Wh;function Yu(n,i,r,s){i=n.memoizedState,r=r(s,i),r=r==null?i:_({},i,r),n.memoizedState=r,n.lanes===0&&(n.updateQueue.baseState=r)}var Ju={enqueueSetState:function(n,i,r){n=n._reactInternals;var s=De(),h=Qn(s);h.payload=i,r!=null&&(h.callback=r),i=Zn(n,h,s),i!==null&&(Se(i,n,s),hl(i,n,s))},enqueueReplaceState:function(n,i,r){n=n._reactInternals;var s=De(),h=Qn(s);h.tag=1,h.payload=i,r!=null&&(h.callback=r),i=Zn(n,h,s),i!==null&&(Se(i,n,s),hl(i,n,s))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var r=De(),s=Qn(r);s.tag=2,i!=null&&(s.callback=i),i=Zn(n,s,r),i!==null&&(Se(i,n,r),hl(i,n,r))}};function gp(n,i,r,s,h,g,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(s,g,T):i.prototype&&i.prototype.isPureReactComponent?!ll(r,s)||!ll(h,g):!0}function yp(n,i,r,s){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(r,s),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(r,s),i.state!==n&&Ju.enqueueReplaceState(i,i.state,null)}function bi(n,i){var r=i;if("ref"in i){r={};for(var s in i)s!=="ref"&&(r[s]=i[s])}if(n=n.defaultProps){r===i&&(r=_({},r));for(var h in n)r[h]===void 0&&(r[h]=n[h])}return r}function vp(n){Cr(n)}function _p(n){console.error(n)}function Sp(n){Cr(n)}function Xr(n,i){try{var r=n.onUncaughtError;r(i.value,{componentStack:i.stack})}catch(s){setTimeout(function(){throw s})}}function Tp(n,i,r){try{var s=n.onCaughtError;s(r.value,{componentStack:r.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Xu(n,i,r){return r=Qn(r),r.tag=3,r.payload={element:null},r.callback=function(){Xr(n,i)},r}function Ep(n){return n=Qn(n),n.tag=3,n}function Ap(n,i,r,s){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var g=s.value;n.payload=function(){return h(g)},n.callback=function(){Tp(i,r,s)}}var T=r.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){Tp(i,r,s),typeof h!="function"&&(ni===null?ni=new Set([this]):ni.add(this));var A=s.stack;this.componentDidCatch(s.value,{componentStack:A!==null?A:""})})}function QS(n,i,r,s,h){if(r.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(i=r.alternate,i!==null&&ro(i,r,h,!0),r=Me.current,r!==null){switch(r.tag){case 31:case 13:return Be===null?la():r.alternate===null&&Xt===0&&(Xt=3),r.flags&=-257,r.flags|=65536,r.lanes=h,s===Lr?r.flags|=16384:(i=r.updateQueue,i===null?r.updateQueue=new Set([s]):i.add(s),vc(n,s,h)),!1;case 22:return r.flags|=65536,s===Lr?r.flags|=16384:(i=r.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([s])},r.updateQueue=i):(r=i.retryQueue,r===null?i.retryQueue=new Set([s]):r.add(s)),vc(n,s,h)),!1}throw Error(l(435,r.tag))}return vc(n,s,h),la(),!1}if(Ct)return i=Me.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,s!==du&&(n=Error(l(422),{cause:s}),sl(ze(n,r)))):(s!==du&&(i=Error(l(423),{cause:s}),sl(ze(i,r))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,s=ze(s,r),h=Xu(n.stateNode,s,h),Au(n,h),Xt!==4&&(Xt=2)),!1;var g=Error(l(520),{cause:s});if(g=ze(g,r),Ml===null?Ml=[g]:Ml.push(g),Xt!==4&&(Xt=2),i===null)return!0;s=ze(s,r),r=i;do{switch(r.tag){case 3:return r.flags|=65536,n=h&-h,r.lanes|=n,n=Xu(r.stateNode,s,n),Au(r,n),!1;case 1:if(i=r.type,g=r.stateNode,(r.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ni===null||!ni.has(g))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Ep(h),Ap(h,n,r,s),Au(r,h),!1}r=r.return}while(r!==null);return!1}var Ku=Error(l(461)),Wt=!1;function ae(n,i,r,s){i.child=n===null?Mh(i,null,r,s):Ii(i,n.child,r,s)}function Cp(n,i,r,s,h){r=r.render;var g=i.ref;if("ref"in s){var T={};for(var A in s)A!=="ref"&&(T[A]=s[A])}else T=s;return xi(i),s=Nu(n,i,r,T,g,h),A=Iu(),n!==null&&!Wt?(Du(n,i,h),An(n,i,h)):(Ct&&A&&cu(i),i.flags|=1,ae(n,i,s,h),i.child)}function Rp(n,i,r,s,h){if(n===null){var g=r.type;return typeof g=="function"&&!au(g)&&g.defaultProps===void 0&&r.compare===null?(i.tag=15,i.type=g,xp(n,i,g,s,h)):(n=wr(r.type,null,s,i,i.mode,h),n.ref=i.ref,n.return=i,i.child=n)}if(g=n.child,!nc(n,h)){var T=g.memoizedProps;if(r=r.compare,r=r!==null?r:ll,r(T,s)&&n.ref===i.ref)return An(n,i,h)}return i.flags|=1,n=yn(g,s),n.ref=i.ref,n.return=i,i.child=n}function xp(n,i,r,s,h){if(n!==null){var g=n.memoizedProps;if(ll(g,s)&&n.ref===i.ref)if(Wt=!1,i.pendingProps=s=g,nc(n,h))(n.flags&131072)!==0&&(Wt=!0);else return i.lanes=n.lanes,An(n,i,h)}return Qu(n,i,r,s,h)}function Mp(n,i,r,s){var h=s.children,g=n!==null?n.memoizedState:null;if(n===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((i.flags&128)!==0){if(g=g!==null?g.baseLanes|r:r,n!==null){for(s=i.child=n.child,h=0;s!==null;)h=h|s.lanes|s.childLanes,s=s.sibling;s=h&~g}else s=0,i.child=null;return wp(n,i,g,r,s)}if((r&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&br(i,g!==null?g.cachePool:null),g!==null?Ih(i,g):Ru(),Dh(i);else return s=i.lanes=536870912,wp(n,i,g!==null?g.baseLanes|r:r,r,s)}else g!==null?(br(i,g.cachePool),Ih(i,g),Wn(),i.memoizedState=null):(n!==null&&br(i,null),Ru(),Wn());return ae(n,i,h,r),i.child}function Sl(n,i){return n!==null&&n.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function wp(n,i,r,s,h){var g=_u();return g=g===null?null:{parent:Zt._currentValue,pool:g},i.memoizedState={baseLanes:r,cachePool:g},n!==null&&br(i,null),Ru(),Dh(i),n!==null&&ro(n,i,s,!0),i.childLanes=h,null}function Kr(n,i){return i=Zr({mode:i.mode,children:i.children},n.mode),i.ref=n.ref,n.child=i,i.return=n,i}function Np(n,i,r){return Ii(i,n.child,null,r),n=Kr(i,i.pendingProps),n.flags|=2,we(i),i.memoizedState=null,n}function ZS(n,i,r){var s=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,n===null){if(Ct){if(s.mode==="hidden")return n=Kr(i,s),i.lanes=536870912,Sl(null,n);if(Mu(i),(n=Bt)?(n=Bm(n,Pe),n=n!==null&&n.data==="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:Fn!==null?{id:rn,overflow:an}:null,retryLane:536870912,hydrationErrors:null},r=dh(n),r.return=i,i.child=r,le=i,Bt=null)):n=null,n===null)throw Jn(i);return i.lanes=536870912,null}return Kr(i,s)}var g=n.memoizedState;if(g!==null){var T=g.dehydrated;if(Mu(i),h)if(i.flags&256)i.flags&=-257,i=Np(n,i,r);else if(i.memoizedState!==null)i.child=n.child,i.flags|=128,i=null;else throw Error(l(558));else if(Wt||ro(n,i,r,!1),h=(r&n.childLanes)!==0,Wt||h){if(s=zt,s!==null&&(T=_d(s,r),T!==0&&T!==g.retryLane))throw g.retryLane=T,Ei(n,T),Se(s,n,T),Ku;la(),i=Np(n,i,r)}else n=g.treeContext,Bt=ke(T.nextSibling),le=i,Ct=!0,Yn=null,Pe=!1,n!==null&&mh(i,n),i=Kr(i,s),i.flags|=4096;return i}return n=yn(n.child,{mode:s.mode,children:s.children}),n.ref=i.ref,i.child=n,n.return=i,n}function Qr(n,i){var r=i.ref;if(r===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(l(284));(n===null||n.ref!==r)&&(i.flags|=4194816)}}function Qu(n,i,r,s,h){return xi(i),r=Nu(n,i,r,s,void 0,h),s=Iu(),n!==null&&!Wt?(Du(n,i,h),An(n,i,h)):(Ct&&s&&cu(i),i.flags|=1,ae(n,i,r,h),i.child)}function Ip(n,i,r,s,h,g){return xi(i),i.updateQueue=null,r=Uh(i,s,r,h),bh(n),s=Iu(),n!==null&&!Wt?(Du(n,i,g),An(n,i,g)):(Ct&&s&&cu(i),i.flags|=1,ae(n,i,r,g),i.child)}function Dp(n,i,r,s,h){if(xi(i),i.stateNode===null){var g=no,T=r.contextType;typeof T=="object"&&T!==null&&(g=re(T)),g=new r(s,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Ju,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=s,g.state=i.memoizedState,g.refs={},Tu(i),T=r.contextType,g.context=typeof T=="object"&&T!==null?re(T):no,g.state=i.memoizedState,T=r.getDerivedStateFromProps,typeof T=="function"&&(Yu(i,r,T,s),g.state=i.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&Ju.enqueueReplaceState(g,g.state,null),ml(i,s,g,h),pl(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),s=!0}else if(n===null){g=i.stateNode;var A=i.memoizedProps,M=bi(r,A);g.props=M;var q=g.context,Q=r.contextType;T=no,typeof Q=="object"&&Q!==null&&(T=re(Q));var j=r.getDerivedStateFromProps;Q=typeof j=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,Q||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||q!==T)&&yp(i,g,s,T),Kn=!1;var P=i.memoizedState;g.state=P,ml(i,s,g,h),pl(),q=i.memoizedState,A||P!==q||Kn?(typeof j=="function"&&(Yu(i,r,j,s),q=i.memoizedState),(M=Kn||gp(i,r,M,s,P,q,T))?(Q||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=s,i.memoizedState=q),g.props=s,g.state=q,g.context=T,s=M):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),s=!1)}else{g=i.stateNode,Eu(n,i),T=i.memoizedProps,Q=bi(r,T),g.props=Q,j=i.pendingProps,P=g.context,q=r.contextType,M=no,typeof q=="object"&&q!==null&&(M=re(q)),A=r.getDerivedStateFromProps,(q=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==j||P!==M)&&yp(i,g,s,M),Kn=!1,P=i.memoizedState,g.state=P,ml(i,s,g,h),pl();var J=i.memoizedState;T!==j||P!==J||Kn||n!==null&&n.dependencies!==null&&Ir(n.dependencies)?(typeof A=="function"&&(Yu(i,r,A,s),J=i.memoizedState),(Q=Kn||gp(i,r,Q,s,P,J,M)||n!==null&&n.dependencies!==null&&Ir(n.dependencies))?(q||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(s,J,M),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(s,J,M)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===n.memoizedProps&&P===n.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&P===n.memoizedState||(i.flags|=1024),i.memoizedProps=s,i.memoizedState=J),g.props=s,g.state=J,g.context=M,s=Q):(typeof g.componentDidUpdate!="function"||T===n.memoizedProps&&P===n.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&P===n.memoizedState||(i.flags|=1024),s=!1)}return g=s,Qr(n,i),s=(i.flags&128)!==0,g||s?(g=i.stateNode,r=s&&typeof r.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,n!==null&&s?(i.child=Ii(i,n.child,null,h),i.child=Ii(i,null,r,h)):ae(n,i,r,h),i.memoizedState=g.state,n=i.child):n=An(n,i,h),n}function bp(n,i,r,s){return Ci(),i.flags|=256,ae(n,i,r,s),i.child}var Zu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $u(n){return{baseLanes:n,cachePool:Th()}}function Wu(n,i,r){return n=n!==null?n.childLanes&~r:0,i&&(n|=Ie),n}function Up(n,i,r){var s=i.pendingProps,h=!1,g=(i.flags&128)!==0,T;if((T=g)||(T=n!==null&&n.memoizedState===null?!1:(Kt.current&2)!==0),T&&(h=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,n===null){if(Ct){if(h?$n(i):Wn(),(n=Bt)?(n=Bm(n,Pe),n=n!==null&&n.data!=="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:Fn!==null?{id:rn,overflow:an}:null,retryLane:536870912,hydrationErrors:null},r=dh(n),r.return=i,i.child=r,le=i,Bt=null)):n=null,n===null)throw Jn(i);return Lc(n)?i.lanes=32:i.lanes=536870912,null}var A=s.children;return s=s.fallback,h?(Wn(),h=i.mode,A=Zr({mode:"hidden",children:A},h),s=Ai(s,h,r,null),A.return=i,s.return=i,A.sibling=s,i.child=A,s=i.child,s.memoizedState=$u(r),s.childLanes=Wu(n,T,r),i.memoizedState=Zu,Sl(null,s)):($n(i),ju(i,A))}var M=n.memoizedState;if(M!==null&&(A=M.dehydrated,A!==null)){if(g)i.flags&256?($n(i),i.flags&=-257,i=tc(n,i,r)):i.memoizedState!==null?(Wn(),i.child=n.child,i.flags|=128,i=null):(Wn(),A=s.fallback,h=i.mode,s=Zr({mode:"visible",children:s.children},h),A=Ai(A,h,r,null),A.flags|=2,s.return=i,A.return=i,s.sibling=A,i.child=s,Ii(i,n.child,null,r),s=i.child,s.memoizedState=$u(r),s.childLanes=Wu(n,T,r),i.memoizedState=Zu,i=Sl(null,s));else if($n(i),Lc(A)){if(T=A.nextSibling&&A.nextSibling.dataset,T)var q=T.dgst;T=q,s=Error(l(419)),s.stack="",s.digest=T,sl({value:s,source:null,stack:null}),i=tc(n,i,r)}else if(Wt||ro(n,i,r,!1),T=(r&n.childLanes)!==0,Wt||T){if(T=zt,T!==null&&(s=_d(T,r),s!==0&&s!==M.retryLane))throw M.retryLane=s,Ei(n,s),Se(T,n,s),Ku;Uc(A)||la(),i=tc(n,i,r)}else Uc(A)?(i.flags|=192,i.child=n.child,i=null):(n=M.treeContext,Bt=ke(A.nextSibling),le=i,Ct=!0,Yn=null,Pe=!1,n!==null&&mh(i,n),i=ju(i,s.children),i.flags|=4096);return i}return h?(Wn(),A=s.fallback,h=i.mode,M=n.child,q=M.sibling,s=yn(M,{mode:"hidden",children:s.children}),s.subtreeFlags=M.subtreeFlags&65011712,q!==null?A=yn(q,A):(A=Ai(A,h,r,null),A.flags|=2),A.return=i,s.return=i,s.sibling=A,i.child=s,Sl(null,s),s=i.child,A=n.child.memoizedState,A===null?A=$u(r):(h=A.cachePool,h!==null?(M=Zt._currentValue,h=h.parent!==M?{parent:M,pool:M}:h):h=Th(),A={baseLanes:A.baseLanes|r,cachePool:h}),s.memoizedState=A,s.childLanes=Wu(n,T,r),i.memoizedState=Zu,Sl(n.child,s)):($n(i),r=n.child,n=r.sibling,r=yn(r,{mode:"visible",children:s.children}),r.return=i,r.sibling=null,n!==null&&(T=i.deletions,T===null?(i.deletions=[n],i.flags|=16):T.push(n)),i.child=r,i.memoizedState=null,r)}function ju(n,i){return i=Zr({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Zr(n,i){return n=xe(22,n,null,i),n.lanes=0,n}function tc(n,i,r){return Ii(i,n.child,null,r),n=ju(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Lp(n,i,r){n.lanes|=i;var s=n.alternate;s!==null&&(s.lanes|=i),mu(n.return,i,r)}function ec(n,i,r,s,h,g){var T=n.memoizedState;T===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:h,treeForkCount:g}:(T.isBackwards=i,T.rendering=null,T.renderingStartTime=0,T.last=s,T.tail=r,T.tailMode=h,T.treeForkCount=g)}function Gp(n,i,r){var s=i.pendingProps,h=s.revealOrder,g=s.tail;s=s.children;var T=Kt.current,A=(T&2)!==0;if(A?(T=T&1|2,i.flags|=128):T&=1,et(Kt,T),ae(n,i,s,r),s=Ct?al:0,!A&&n!==null&&(n.flags&128)!==0)t:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Lp(n,r,i);else if(n.tag===19)Lp(n,r,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break t;for(;n.sibling===null;){if(n.return===null||n.return===i)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(h){case"forwards":for(r=i.child,h=null;r!==null;)n=r.alternate,n!==null&&qr(n)===null&&(h=r),r=r.sibling;r=h,r===null?(h=i.child,i.child=null):(h=r.sibling,r.sibling=null),ec(i,!1,h,r,g,s);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=i.child,i.child=null;h!==null;){if(n=h.alternate,n!==null&&qr(n)===null){i.child=h;break}n=h.sibling,h.sibling=r,r=h,h=n}ec(i,!0,r,null,g,s);break;case"together":ec(i,!1,null,null,void 0,s);break;default:i.memoizedState=null}return i.child}function An(n,i,r){if(n!==null&&(i.dependencies=n.dependencies),ei|=i.lanes,(r&i.childLanes)===0)if(n!==null){if(ro(n,i,r,!1),(r&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(l(153));if(i.child!==null){for(n=i.child,r=yn(n,n.pendingProps),i.child=r,r.return=i;n.sibling!==null;)n=n.sibling,r=r.sibling=yn(n,n.pendingProps),r.return=i;r.sibling=null}return i.child}function nc(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Ir(n)))}function $S(n,i,r){switch(i.tag){case 3:Vt(i,i.stateNode.containerInfo),Xn(i,Zt,n.memoizedState.cache),Ci();break;case 27:case 5:Jo(i);break;case 4:Vt(i,i.stateNode.containerInfo);break;case 10:Xn(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Mu(i),null;break;case 13:var s=i.memoizedState;if(s!==null)return s.dehydrated!==null?($n(i),i.flags|=128,null):(r&i.child.childLanes)!==0?Up(n,i,r):($n(i),n=An(n,i,r),n!==null?n.sibling:null);$n(i);break;case 19:var h=(n.flags&128)!==0;if(s=(r&i.childLanes)!==0,s||(ro(n,i,r,!1),s=(r&i.childLanes)!==0),h){if(s)return Gp(n,i,r);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),et(Kt,Kt.current),s)break;return null;case 22:return i.lanes=0,Mp(n,i,r,i.pendingProps);case 24:Xn(i,Zt,n.memoizedState.cache)}return An(n,i,r)}function Hp(n,i,r){if(n!==null)if(n.memoizedProps!==i.pendingProps)Wt=!0;else{if(!nc(n,r)&&(i.flags&128)===0)return Wt=!1,$S(n,i,r);Wt=(n.flags&131072)!==0}else Wt=!1,Ct&&(i.flags&1048576)!==0&&ph(i,al,i.index);switch(i.lanes=0,i.tag){case 16:t:{var s=i.pendingProps;if(n=wi(i.elementType),i.type=n,typeof n=="function")au(n)?(s=bi(n,s),i.tag=1,i=Dp(null,i,n,s,r)):(i.tag=0,i=Qu(null,i,n,s,r));else{if(n!=null){var h=n.$$typeof;if(h===b){i.tag=11,i=Cp(null,i,n,s,r);break t}else if(h===F){i.tag=14,i=Rp(null,i,n,s,r);break t}}throw i=L(n)||n,Error(l(306,i,""))}}return i;case 0:return Qu(n,i,i.type,i.pendingProps,r);case 1:return s=i.type,h=bi(s,i.pendingProps),Dp(n,i,s,h,r);case 3:t:{if(Vt(i,i.stateNode.containerInfo),n===null)throw Error(l(387));s=i.pendingProps;var g=i.memoizedState;h=g.element,Eu(n,i),ml(i,s,null,r);var T=i.memoizedState;if(s=T.cache,Xn(i,Zt,s),s!==g.cache&&gu(i,[Zt],r,!0),pl(),s=T.element,g.isDehydrated)if(g={element:s,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=bp(n,i,s,r);break t}else if(s!==h){h=ze(Error(l(424)),i),sl(h),i=bp(n,i,s,r);break t}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Bt=ke(n.firstChild),le=i,Ct=!0,Yn=null,Pe=!0,r=Mh(i,null,s,r),i.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Ci(),s===h){i=An(n,i,r);break t}ae(n,i,s,r)}i=i.child}return i;case 26:return Qr(n,i),n===null?(r=Xm(i.type,null,i.pendingProps,null))?i.memoizedState=r:Ct||(r=i.type,n=i.pendingProps,s=da(ht.current).createElement(r),s[oe]=i,s[pe]=n,se(s,r,n),ee(s),i.stateNode=s):i.memoizedState=Xm(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Jo(i),n===null&&Ct&&(s=i.stateNode=Fm(i.type,i.pendingProps,ht.current),le=i,Pe=!0,h=Bt,ri(i.type)?(Gc=h,Bt=ke(s.firstChild)):Bt=h),ae(n,i,i.pendingProps.children,r),Qr(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Ct&&((h=s=Bt)&&(s=MT(s,i.type,i.pendingProps,Pe),s!==null?(i.stateNode=s,le=i,Bt=ke(s.firstChild),Pe=!1,h=!0):h=!1),h||Jn(i)),Jo(i),h=i.type,g=i.pendingProps,T=n!==null?n.memoizedProps:null,s=g.children,Ic(h,g)?s=null:T!==null&&Ic(h,T)&&(i.flags|=32),i.memoizedState!==null&&(h=Nu(n,i,kS,null,null,r),Gl._currentValue=h),Qr(n,i),ae(n,i,s,r),i.child;case 6:return n===null&&Ct&&((n=r=Bt)&&(r=wT(r,i.pendingProps,Pe),r!==null?(i.stateNode=r,le=i,Bt=null,n=!0):n=!1),n||Jn(i)),null;case 13:return Up(n,i,r);case 4:return Vt(i,i.stateNode.containerInfo),s=i.pendingProps,n===null?i.child=Ii(i,null,s,r):ae(n,i,s,r),i.child;case 11:return Cp(n,i,i.type,i.pendingProps,r);case 7:return ae(n,i,i.pendingProps,r),i.child;case 8:return ae(n,i,i.pendingProps.children,r),i.child;case 12:return ae(n,i,i.pendingProps.children,r),i.child;case 10:return s=i.pendingProps,Xn(i,i.type,s.value),ae(n,i,s.children,r),i.child;case 9:return h=i.type._context,s=i.pendingProps.children,xi(i),h=re(h),s=s(h),i.flags|=1,ae(n,i,s,r),i.child;case 14:return Rp(n,i,i.type,i.pendingProps,r);case 15:return xp(n,i,i.type,i.pendingProps,r);case 19:return Gp(n,i,r);case 31:return ZS(n,i,r);case 22:return Mp(n,i,r,i.pendingProps);case 24:return xi(i),s=re(Zt),n===null?(h=_u(),h===null&&(h=zt,g=yu(),h.pooledCache=g,g.refCount++,g!==null&&(h.pooledCacheLanes|=r),h=g),i.memoizedState={parent:s,cache:h},Tu(i),Xn(i,Zt,h)):((n.lanes&r)!==0&&(Eu(n,i),ml(i,null,null,r),pl()),h=n.memoizedState,g=i.memoizedState,h.parent!==s?(h={parent:s,cache:s},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Xn(i,Zt,s)):(s=g.cache,Xn(i,Zt,s),s!==h.cache&&gu(i,[Zt],r,!0))),ae(n,i,i.pendingProps.children,r),i.child;case 29:throw i.pendingProps}throw Error(l(156,i.tag))}function Cn(n){n.flags|=4}function ic(n,i,r,s,h){if((i=(n.mode&32)!==0)&&(i=!1),i){if(n.flags|=16777216,(h&335544128)===h)if(n.stateNode.complete)n.flags|=8192;else if(um())n.flags|=8192;else throw Ni=Lr,Su}else n.flags&=-16777217}function zp(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Wm(i))if(um())n.flags|=8192;else throw Ni=Lr,Su}function $r(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?gd():536870912,n.lanes|=i,_o|=i)}function Tl(n,i){if(!Ct)switch(n.tailMode){case"hidden":i=n.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?n.tail=null:r.sibling=null;break;case"collapsed":r=n.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:s.sibling=null}}function kt(n){var i=n.alternate!==null&&n.alternate.child===n.child,r=0,s=0;if(i)for(var h=n.child;h!==null;)r|=h.lanes|h.childLanes,s|=h.subtreeFlags&65011712,s|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)r|=h.lanes|h.childLanes,s|=h.subtreeFlags,s|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=s,n.childLanes=r,i}function WS(n,i,r){var s=i.pendingProps;switch(fu(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(i),null;case 1:return kt(i),null;case 3:return r=i.stateNode,s=null,n!==null&&(s=n.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Sn(Zt),Pt(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(lo(i)?Cn(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,hu())),kt(i),null;case 26:var h=i.type,g=i.memoizedState;return n===null?(Cn(i),g!==null?(kt(i),zp(i,g)):(kt(i),ic(i,h,null,s,r))):g?g!==n.memoizedState?(Cn(i),kt(i),zp(i,g)):(kt(i),i.flags&=-16777217):(n=n.memoizedProps,n!==s&&Cn(i),kt(i),ic(i,h,n,s,r)),null;case 27:if(sr(i),r=ht.current,h=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==s&&Cn(i);else{if(!s){if(i.stateNode===null)throw Error(l(166));return kt(i),null}n=lt.current,lo(i)?gh(i):(n=Fm(h,s,r),i.stateNode=n,Cn(i))}return kt(i),null;case 5:if(sr(i),h=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==s&&Cn(i);else{if(!s){if(i.stateNode===null)throw Error(l(166));return kt(i),null}if(g=lt.current,lo(i))gh(i);else{var T=da(ht.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof s.is=="string"?T.createElement("select",{is:s.is}):T.createElement("select"),s.multiple?g.multiple=!0:s.size&&(g.size=s.size);break;default:g=typeof s.is=="string"?T.createElement(h,{is:s.is}):T.createElement(h)}}g[oe]=i,g[pe]=s;t:for(T=i.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===i)break t;for(;T.sibling===null;){if(T.return===null||T.return===i)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}i.stateNode=g;t:switch(se(g,h,s),h){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&Cn(i)}}return kt(i),ic(i,i.type,n===null?null:n.memoizedProps,i.pendingProps,r),null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==s&&Cn(i);else{if(typeof s!="string"&&i.stateNode===null)throw Error(l(166));if(n=ht.current,lo(i)){if(n=i.stateNode,r=i.memoizedProps,s=null,h=le,h!==null)switch(h.tag){case 27:case 5:s=h.memoizedProps}n[oe]=i,n=!!(n.nodeValue===r||s!==null&&s.suppressHydrationWarning===!0||Um(n.nodeValue,r)),n||Jn(i,!0)}else n=da(n).createTextNode(s),n[oe]=i,i.stateNode=n}return kt(i),null;case 31:if(r=i.memoizedState,n===null||n.memoizedState!==null){if(s=lo(i),r!==null){if(n===null){if(!s)throw Error(l(318));if(n=i.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(l(557));n[oe]=i}else Ci(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;kt(i),n=!1}else r=hu(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=r),n=!0;if(!n)return i.flags&256?(we(i),i):(we(i),null);if((i.flags&128)!==0)throw Error(l(558))}return kt(i),null;case 13:if(s=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=lo(i),s!==null&&s.dehydrated!==null){if(n===null){if(!h)throw Error(l(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(l(317));h[oe]=i}else Ci(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;kt(i),h=!1}else h=hu(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(we(i),i):(we(i),null)}return we(i),(i.flags&128)!==0?(i.lanes=r,i):(r=s!==null,n=n!==null&&n.memoizedState!==null,r&&(s=i.child,h=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(h=s.alternate.memoizedState.cachePool.pool),g=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(g=s.memoizedState.cachePool.pool),g!==h&&(s.flags|=2048)),r!==n&&r&&(i.child.flags|=8192),$r(i,i.updateQueue),kt(i),null);case 4:return Pt(),n===null&&Rc(i.stateNode.containerInfo),kt(i),null;case 10:return Sn(i.type),kt(i),null;case 19:if(B(Kt),s=i.memoizedState,s===null)return kt(i),null;if(h=(i.flags&128)!==0,g=s.rendering,g===null)if(h)Tl(s,!1);else{if(Xt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(g=qr(n),g!==null){for(i.flags|=128,Tl(s,!1),n=g.updateQueue,i.updateQueue=n,$r(i,n),i.subtreeFlags=0,n=r,r=i.child;r!==null;)fh(r,n),r=r.sibling;return et(Kt,Kt.current&1|2),Ct&&vn(i,s.treeForkCount),i.child}n=n.sibling}s.tail!==null&&Ee()>na&&(i.flags|=128,h=!0,Tl(s,!1),i.lanes=4194304)}else{if(!h)if(n=qr(g),n!==null){if(i.flags|=128,h=!0,n=n.updateQueue,i.updateQueue=n,$r(i,n),Tl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!g.alternate&&!Ct)return kt(i),null}else 2*Ee()-s.renderingStartTime>na&&r!==536870912&&(i.flags|=128,h=!0,Tl(s,!1),i.lanes=4194304);s.isBackwards?(g.sibling=i.child,i.child=g):(n=s.last,n!==null?n.sibling=g:i.child=g,s.last=g)}return s.tail!==null?(n=s.tail,s.rendering=n,s.tail=n.sibling,s.renderingStartTime=Ee(),n.sibling=null,r=Kt.current,et(Kt,h?r&1|2:r&1),Ct&&vn(i,s.treeForkCount),n):(kt(i),null);case 22:case 23:return we(i),xu(),s=i.memoizedState!==null,n!==null?n.memoizedState!==null!==s&&(i.flags|=8192):s&&(i.flags|=8192),s?(r&536870912)!==0&&(i.flags&128)===0&&(kt(i),i.subtreeFlags&6&&(i.flags|=8192)):kt(i),r=i.updateQueue,r!==null&&$r(i,r.retryQueue),r=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==r&&(i.flags|=2048),n!==null&&B(Mi),null;case 24:return r=null,n!==null&&(r=n.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),Sn(Zt),kt(i),null;case 25:return null;case 30:return null}throw Error(l(156,i.tag))}function jS(n,i){switch(fu(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Sn(Zt),Pt(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return sr(i),null;case 31:if(i.memoizedState!==null){if(we(i),i.alternate===null)throw Error(l(340));Ci()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 13:if(we(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(l(340));Ci()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return B(Kt),null;case 4:return Pt(),null;case 10:return Sn(i.type),null;case 22:case 23:return we(i),xu(),n!==null&&B(Mi),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Sn(Zt),null;case 25:return null;default:return null}}function qp(n,i){switch(fu(i),i.tag){case 3:Sn(Zt),Pt();break;case 26:case 27:case 5:sr(i);break;case 4:Pt();break;case 31:i.memoizedState!==null&&we(i);break;case 13:we(i);break;case 19:B(Kt);break;case 10:Sn(i.type);break;case 22:case 23:we(i),xu(),n!==null&&B(Mi);break;case 24:Sn(Zt)}}function El(n,i){try{var r=i.updateQueue,s=r!==null?r.lastEffect:null;if(s!==null){var h=s.next;r=h;do{if((r.tag&n)===n){s=void 0;var g=r.create,T=r.inst;s=g(),T.destroy=s}r=r.next}while(r!==h)}}catch(A){Ut(i,i.return,A)}}function jn(n,i,r){try{var s=i.updateQueue,h=s!==null?s.lastEffect:null;if(h!==null){var g=h.next;s=g;do{if((s.tag&n)===n){var T=s.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,h=i;var M=r,q=A;try{q()}catch(Q){Ut(h,M,Q)}}}s=s.next}while(s!==g)}}catch(Q){Ut(i,i.return,Q)}}function Vp(n){var i=n.updateQueue;if(i!==null){var r=n.stateNode;try{Nh(i,r)}catch(s){Ut(n,n.return,s)}}}function Pp(n,i,r){r.props=bi(n.type,n.memoizedProps),r.state=n.memoizedState;try{r.componentWillUnmount()}catch(s){Ut(n,i,s)}}function Al(n,i){try{var r=n.ref;if(r!==null){switch(n.tag){case 26:case 27:case 5:var s=n.stateNode;break;case 30:s=n.stateNode;break;default:s=n.stateNode}typeof r=="function"?n.refCleanup=r(s):r.current=s}}catch(h){Ut(n,i,h)}}function sn(n,i){var r=n.ref,s=n.refCleanup;if(r!==null)if(typeof s=="function")try{s()}catch(h){Ut(n,i,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Ut(n,i,h)}else r.current=null}function Bp(n){var i=n.type,r=n.memoizedProps,s=n.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":r.autoFocus&&s.focus();break t;case"img":r.src?s.src=r.src:r.srcSet&&(s.srcset=r.srcSet)}}catch(h){Ut(n,n.return,h)}}function oc(n,i,r){try{var s=n.stateNode;TT(s,n.type,r,i),s[pe]=i}catch(h){Ut(n,n.return,h)}}function kp(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ri(n.type)||n.tag===4}function lc(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||kp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ri(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function rc(n,i,r){var s=n.tag;if(s===5||s===6)n=n.stateNode,i?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(n,i):(i=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,i.appendChild(n),r=r._reactRootContainer,r!=null||i.onclick!==null||(i.onclick=mn));else if(s!==4&&(s===27&&ri(n.type)&&(r=n.stateNode,i=null),n=n.child,n!==null))for(rc(n,i,r),n=n.sibling;n!==null;)rc(n,i,r),n=n.sibling}function Wr(n,i,r){var s=n.tag;if(s===5||s===6)n=n.stateNode,i?r.insertBefore(n,i):r.appendChild(n);else if(s!==4&&(s===27&&ri(n.type)&&(r=n.stateNode),n=n.child,n!==null))for(Wr(n,i,r),n=n.sibling;n!==null;)Wr(n,i,r),n=n.sibling}function Op(n){var i=n.stateNode,r=n.memoizedProps;try{for(var s=n.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);se(i,s,r),i[oe]=n,i[pe]=r}catch(g){Ut(n,n.return,g)}}var Rn=!1,jt=!1,ac=!1,Fp=typeof WeakSet=="function"?WeakSet:Set,ne=null;function tT(n,i){if(n=n.containerInfo,wc=_a,n=nh(n),tu(n)){if("selectionStart"in n)var r={start:n.selectionStart,end:n.selectionEnd};else t:{r=(r=n.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var h=s.anchorOffset,g=s.focusNode;s=s.focusOffset;try{r.nodeType,g.nodeType}catch{r=null;break t}var T=0,A=-1,M=-1,q=0,Q=0,j=n,P=null;e:for(;;){for(var J;j!==r||h!==0&&j.nodeType!==3||(A=T+h),j!==g||s!==0&&j.nodeType!==3||(M=T+s),j.nodeType===3&&(T+=j.nodeValue.length),(J=j.firstChild)!==null;)P=j,j=J;for(;;){if(j===n)break e;if(P===r&&++q===h&&(A=T),P===g&&++Q===s&&(M=T),(J=j.nextSibling)!==null)break;j=P,P=j.parentNode}j=J}r=A===-1||M===-1?null:{start:A,end:M}}else r=null}r=r||{start:0,end:0}}else r=null;for(Nc={focusedElem:n,selectionRange:r},_a=!1,ne=i;ne!==null;)if(i=ne,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,ne=n;else for(;ne!==null;){switch(i=ne,g=i.alternate,n=i.flags,i.tag){case 0:if((n&4)!==0&&(n=i.updateQueue,n=n!==null?n.events:null,n!==null))for(r=0;r<n.length;r++)h=n[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&g!==null){n=void 0,r=i,h=g.memoizedProps,g=g.memoizedState,s=r.stateNode;try{var at=bi(r.type,h);n=s.getSnapshotBeforeUpdate(at,g),s.__reactInternalSnapshotBeforeUpdate=n}catch(dt){Ut(r,r.return,dt)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,r=n.nodeType,r===9)bc(n);else if(r===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":bc(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(l(163))}if(n=i.sibling,n!==null){n.return=i.return,ne=n;break}ne=i.return}}function Yp(n,i,r){var s=r.flags;switch(r.tag){case 0:case 11:case 15:Mn(n,r),s&4&&El(5,r);break;case 1:if(Mn(n,r),s&4)if(n=r.stateNode,i===null)try{n.componentDidMount()}catch(T){Ut(r,r.return,T)}else{var h=bi(r.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(h,i,n.__reactInternalSnapshotBeforeUpdate)}catch(T){Ut(r,r.return,T)}}s&64&&Vp(r),s&512&&Al(r,r.return);break;case 3:if(Mn(n,r),s&64&&(n=r.updateQueue,n!==null)){if(i=null,r.child!==null)switch(r.child.tag){case 27:case 5:i=r.child.stateNode;break;case 1:i=r.child.stateNode}try{Nh(n,i)}catch(T){Ut(r,r.return,T)}}break;case 27:i===null&&s&4&&Op(r);case 26:case 5:Mn(n,r),i===null&&s&4&&Bp(r),s&512&&Al(r,r.return);break;case 12:Mn(n,r);break;case 31:Mn(n,r),s&4&&Kp(n,r);break;case 13:Mn(n,r),s&4&&Qp(n,r),s&64&&(n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(r=uT.bind(null,r),NT(n,r))));break;case 22:if(s=r.memoizedState!==null||Rn,!s){i=i!==null&&i.memoizedState!==null||jt,h=Rn;var g=jt;Rn=s,(jt=i)&&!g?wn(n,r,(r.subtreeFlags&8772)!==0):Mn(n,r),Rn=h,jt=g}break;case 30:break;default:Mn(n,r)}}function Jp(n){var i=n.alternate;i!==null&&(n.alternate=null,Jp(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&zs(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Yt=null,ge=!1;function xn(n,i,r){for(r=r.child;r!==null;)Xp(n,i,r),r=r.sibling}function Xp(n,i,r){if(Ae&&typeof Ae.onCommitFiberUnmount=="function")try{Ae.onCommitFiberUnmount(Xo,r)}catch{}switch(r.tag){case 26:jt||sn(r,i),xn(n,i,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:jt||sn(r,i);var s=Yt,h=ge;ri(r.type)&&(Yt=r.stateNode,ge=!1),xn(n,i,r),bl(r.stateNode),Yt=s,ge=h;break;case 5:jt||sn(r,i);case 6:if(s=Yt,h=ge,Yt=null,xn(n,i,r),Yt=s,ge=h,Yt!==null)if(ge)try{(Yt.nodeType===9?Yt.body:Yt.nodeName==="HTML"?Yt.ownerDocument.body:Yt).removeChild(r.stateNode)}catch(g){Ut(r,i,g)}else try{Yt.removeChild(r.stateNode)}catch(g){Ut(r,i,g)}break;case 18:Yt!==null&&(ge?(n=Yt,Vm(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,r.stateNode),Mo(n)):Vm(Yt,r.stateNode));break;case 4:s=Yt,h=ge,Yt=r.stateNode.containerInfo,ge=!0,xn(n,i,r),Yt=s,ge=h;break;case 0:case 11:case 14:case 15:jn(2,r,i),jt||jn(4,r,i),xn(n,i,r);break;case 1:jt||(sn(r,i),s=r.stateNode,typeof s.componentWillUnmount=="function"&&Pp(r,i,s)),xn(n,i,r);break;case 21:xn(n,i,r);break;case 22:jt=(s=jt)||r.memoizedState!==null,xn(n,i,r),jt=s;break;default:xn(n,i,r)}}function Kp(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Mo(n)}catch(r){Ut(i,i.return,r)}}}function Qp(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Mo(n)}catch(r){Ut(i,i.return,r)}}function eT(n){switch(n.tag){case 31:case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Fp),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Fp),i;default:throw Error(l(435,n.tag))}}function jr(n,i){var r=eT(n);i.forEach(function(s){if(!r.has(s)){r.add(s);var h=cT.bind(null,n,s);s.then(h,h)}})}function ye(n,i){var r=i.deletions;if(r!==null)for(var s=0;s<r.length;s++){var h=r[s],g=n,T=i,A=T;t:for(;A!==null;){switch(A.tag){case 27:if(ri(A.type)){Yt=A.stateNode,ge=!1;break t}break;case 5:Yt=A.stateNode,ge=!1;break t;case 3:case 4:Yt=A.stateNode.containerInfo,ge=!0;break t}A=A.return}if(Yt===null)throw Error(l(160));Xp(g,T,h),Yt=null,ge=!1,g=h.alternate,g!==null&&(g.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Zp(i,n),i=i.sibling}var We=null;function Zp(n,i){var r=n.alternate,s=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:ye(i,n),ve(n),s&4&&(jn(3,n,n.return),El(3,n),jn(5,n,n.return));break;case 1:ye(i,n),ve(n),s&512&&(jt||r===null||sn(r,r.return)),s&64&&Rn&&(n=n.updateQueue,n!==null&&(s=n.callbacks,s!==null&&(r=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=r===null?s:r.concat(s))));break;case 26:var h=We;if(ye(i,n),ve(n),s&512&&(jt||r===null||sn(r,r.return)),s&4){var g=r!==null?r.memoizedState:null;if(s=n.memoizedState,r===null)if(s===null)if(n.stateNode===null){t:{s=n.type,r=n.memoizedProps,h=h.ownerDocument||h;e:switch(s){case"title":g=h.getElementsByTagName("title")[0],(!g||g[Zo]||g[oe]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=h.createElement(s),h.head.insertBefore(g,h.querySelector("head > title"))),se(g,s,r),g[oe]=n,ee(g),s=g;break t;case"link":var T=Zm("link","href",h).get(s+(r.href||""));if(T){for(var A=0;A<T.length;A++)if(g=T[A],g.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&g.getAttribute("rel")===(r.rel==null?null:r.rel)&&g.getAttribute("title")===(r.title==null?null:r.title)&&g.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){T.splice(A,1);break e}}g=h.createElement(s),se(g,s,r),h.head.appendChild(g);break;case"meta":if(T=Zm("meta","content",h).get(s+(r.content||""))){for(A=0;A<T.length;A++)if(g=T[A],g.getAttribute("content")===(r.content==null?null:""+r.content)&&g.getAttribute("name")===(r.name==null?null:r.name)&&g.getAttribute("property")===(r.property==null?null:r.property)&&g.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&g.getAttribute("charset")===(r.charSet==null?null:r.charSet)){T.splice(A,1);break e}}g=h.createElement(s),se(g,s,r),h.head.appendChild(g);break;default:throw Error(l(468,s))}g[oe]=n,ee(g),s=g}n.stateNode=s}else $m(h,n.type,n.stateNode);else n.stateNode=Qm(h,s,n.memoizedProps);else g!==s?(g===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):g.count--,s===null?$m(h,n.type,n.stateNode):Qm(h,s,n.memoizedProps)):s===null&&n.stateNode!==null&&oc(n,n.memoizedProps,r.memoizedProps)}break;case 27:ye(i,n),ve(n),s&512&&(jt||r===null||sn(r,r.return)),r!==null&&s&4&&oc(n,n.memoizedProps,r.memoizedProps);break;case 5:if(ye(i,n),ve(n),s&512&&(jt||r===null||sn(r,r.return)),n.flags&32){h=n.stateNode;try{Qi(h,"")}catch(at){Ut(n,n.return,at)}}s&4&&n.stateNode!=null&&(h=n.memoizedProps,oc(n,h,r!==null?r.memoizedProps:h)),s&1024&&(ac=!0);break;case 6:if(ye(i,n),ve(n),s&4){if(n.stateNode===null)throw Error(l(162));s=n.memoizedProps,r=n.stateNode;try{r.nodeValue=s}catch(at){Ut(n,n.return,at)}}break;case 3:if(ma=null,h=We,We=ha(i.containerInfo),ye(i,n),We=h,ve(n),s&4&&r!==null&&r.memoizedState.isDehydrated)try{Mo(i.containerInfo)}catch(at){Ut(n,n.return,at)}ac&&(ac=!1,$p(n));break;case 4:s=We,We=ha(n.stateNode.containerInfo),ye(i,n),ve(n),We=s;break;case 12:ye(i,n),ve(n);break;case 31:ye(i,n),ve(n),s&4&&(s=n.updateQueue,s!==null&&(n.updateQueue=null,jr(n,s)));break;case 13:ye(i,n),ve(n),n.child.flags&8192&&n.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ea=Ee()),s&4&&(s=n.updateQueue,s!==null&&(n.updateQueue=null,jr(n,s)));break;case 22:h=n.memoizedState!==null;var M=r!==null&&r.memoizedState!==null,q=Rn,Q=jt;if(Rn=q||h,jt=Q||M,ye(i,n),jt=Q,Rn=q,ve(n),s&8192)t:for(i=n.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(r===null||M||Rn||jt||Ui(n)),r=null,i=n;;){if(i.tag===5||i.tag===26){if(r===null){M=r=i;try{if(g=M.stateNode,h)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{A=M.stateNode;var j=M.memoizedProps.style,P=j!=null&&j.hasOwnProperty("display")?j.display:null;A.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(at){Ut(M,M.return,at)}}}else if(i.tag===6){if(r===null){M=i;try{M.stateNode.nodeValue=h?"":M.memoizedProps}catch(at){Ut(M,M.return,at)}}}else if(i.tag===18){if(r===null){M=i;try{var J=M.stateNode;h?Pm(J,!0):Pm(M.stateNode,!1)}catch(at){Ut(M,M.return,at)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break t;for(;i.sibling===null;){if(i.return===null||i.return===n)break t;r===i&&(r=null),i=i.return}r===i&&(r=null),i.sibling.return=i.return,i=i.sibling}s&4&&(s=n.updateQueue,s!==null&&(r=s.retryQueue,r!==null&&(s.retryQueue=null,jr(n,r))));break;case 19:ye(i,n),ve(n),s&4&&(s=n.updateQueue,s!==null&&(n.updateQueue=null,jr(n,s)));break;case 30:break;case 21:break;default:ye(i,n),ve(n)}}function ve(n){var i=n.flags;if(i&2){try{for(var r,s=n.return;s!==null;){if(kp(s)){r=s;break}s=s.return}if(r==null)throw Error(l(160));switch(r.tag){case 27:var h=r.stateNode,g=lc(n);Wr(n,g,h);break;case 5:var T=r.stateNode;r.flags&32&&(Qi(T,""),r.flags&=-33);var A=lc(n);Wr(n,A,T);break;case 3:case 4:var M=r.stateNode.containerInfo,q=lc(n);rc(n,q,M);break;default:throw Error(l(161))}}catch(Q){Ut(n,n.return,Q)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function $p(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;$p(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Mn(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Yp(n,i.alternate,i),i=i.sibling}function Ui(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:jn(4,i,i.return),Ui(i);break;case 1:sn(i,i.return);var r=i.stateNode;typeof r.componentWillUnmount=="function"&&Pp(i,i.return,r),Ui(i);break;case 27:bl(i.stateNode);case 26:case 5:sn(i,i.return),Ui(i);break;case 22:i.memoizedState===null&&Ui(i);break;case 30:Ui(i);break;default:Ui(i)}n=n.sibling}}function wn(n,i,r){for(r=r&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var s=i.alternate,h=n,g=i,T=g.flags;switch(g.tag){case 0:case 11:case 15:wn(h,g,r),El(4,g);break;case 1:if(wn(h,g,r),s=g,h=s.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){Ut(s,s.return,q)}if(s=g,h=s.updateQueue,h!==null){var A=s.stateNode;try{var M=h.shared.hiddenCallbacks;if(M!==null)for(h.shared.hiddenCallbacks=null,h=0;h<M.length;h++)wh(M[h],A)}catch(q){Ut(s,s.return,q)}}r&&T&64&&Vp(g),Al(g,g.return);break;case 27:Op(g);case 26:case 5:wn(h,g,r),r&&s===null&&T&4&&Bp(g),Al(g,g.return);break;case 12:wn(h,g,r);break;case 31:wn(h,g,r),r&&T&4&&Kp(h,g);break;case 13:wn(h,g,r),r&&T&4&&Qp(h,g);break;case 22:g.memoizedState===null&&wn(h,g,r),Al(g,g.return);break;case 30:break;default:wn(h,g,r)}i=i.sibling}}function sc(n,i){var r=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==r&&(n!=null&&n.refCount++,r!=null&&ul(r))}function uc(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&ul(n))}function je(n,i,r,s){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Wp(n,i,r,s),i=i.sibling}function Wp(n,i,r,s){var h=i.flags;switch(i.tag){case 0:case 11:case 15:je(n,i,r,s),h&2048&&El(9,i);break;case 1:je(n,i,r,s);break;case 3:je(n,i,r,s),h&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&ul(n)));break;case 12:if(h&2048){je(n,i,r,s),n=i.stateNode;try{var g=i.memoizedProps,T=g.id,A=g.onPostCommit;typeof A=="function"&&A(T,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(M){Ut(i,i.return,M)}}else je(n,i,r,s);break;case 31:je(n,i,r,s);break;case 13:je(n,i,r,s);break;case 23:break;case 22:g=i.stateNode,T=i.alternate,i.memoizedState!==null?g._visibility&2?je(n,i,r,s):Cl(n,i):g._visibility&2?je(n,i,r,s):(g._visibility|=2,go(n,i,r,s,(i.subtreeFlags&10256)!==0||!1)),h&2048&&sc(T,i);break;case 24:je(n,i,r,s),h&2048&&uc(i.alternate,i);break;default:je(n,i,r,s)}}function go(n,i,r,s,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var g=n,T=i,A=r,M=s,q=T.flags;switch(T.tag){case 0:case 11:case 15:go(g,T,A,M,h),El(8,T);break;case 23:break;case 22:var Q=T.stateNode;T.memoizedState!==null?Q._visibility&2?go(g,T,A,M,h):Cl(g,T):(Q._visibility|=2,go(g,T,A,M,h)),h&&q&2048&&sc(T.alternate,T);break;case 24:go(g,T,A,M,h),h&&q&2048&&uc(T.alternate,T);break;default:go(g,T,A,M,h)}i=i.sibling}}function Cl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var r=n,s=i,h=s.flags;switch(s.tag){case 22:Cl(r,s),h&2048&&sc(s.alternate,s);break;case 24:Cl(r,s),h&2048&&uc(s.alternate,s);break;default:Cl(r,s)}i=i.sibling}}var Rl=8192;function yo(n,i,r){if(n.subtreeFlags&Rl)for(n=n.child;n!==null;)jp(n,i,r),n=n.sibling}function jp(n,i,r){switch(n.tag){case 26:yo(n,i,r),n.flags&Rl&&n.memoizedState!==null&&BT(r,We,n.memoizedState,n.memoizedProps);break;case 5:yo(n,i,r);break;case 3:case 4:var s=We;We=ha(n.stateNode.containerInfo),yo(n,i,r),We=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=Rl,Rl=16777216,yo(n,i,r),Rl=s):yo(n,i,r));break;default:yo(n,i,r)}}function tm(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function xl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var s=i[r];ne=s,nm(s,n)}tm(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)em(n),n=n.sibling}function em(n){switch(n.tag){case 0:case 11:case 15:xl(n),n.flags&2048&&jn(9,n,n.return);break;case 3:xl(n);break;case 12:xl(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,ta(n)):xl(n);break;default:xl(n)}}function ta(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var s=i[r];ne=s,nm(s,n)}tm(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:jn(8,i,i.return),ta(i);break;case 22:r=i.stateNode,r._visibility&2&&(r._visibility&=-3,ta(i));break;default:ta(i)}n=n.sibling}}function nm(n,i){for(;ne!==null;){var r=ne;switch(r.tag){case 0:case 11:case 15:jn(8,r,i);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var s=r.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:ul(r.memoizedState.cache)}if(s=r.child,s!==null)s.return=r,ne=s;else t:for(r=n;ne!==null;){s=ne;var h=s.sibling,g=s.return;if(Jp(s),s===r){ne=null;break t}if(h!==null){h.return=g,ne=h;break t}ne=g}}}var nT={getCacheForType:function(n){var i=re(Zt),r=i.data.get(n);return r===void 0&&(r=n(),i.data.set(n,r)),r},cacheSignal:function(){return re(Zt).controller.signal}},iT=typeof WeakMap=="function"?WeakMap:Map,Dt=0,zt=null,St=null,Et=0,bt=0,Ne=null,ti=!1,vo=!1,cc=!1,Nn=0,Xt=0,ei=0,Li=0,fc=0,Ie=0,_o=0,Ml=null,_e=null,dc=!1,ea=0,im=0,na=1/0,ia=null,ni=null,te=0,ii=null,So=null,In=0,hc=0,pc=null,om=null,wl=0,mc=null;function De(){return(Dt&2)!==0&&Et!==0?Et&-Et:R.T!==null?Tc():Sd()}function lm(){if(Ie===0)if((Et&536870912)===0||Ct){var n=fr;fr<<=1,(fr&3932160)===0&&(fr=262144),Ie=n}else Ie=536870912;return n=Me.current,n!==null&&(n.flags|=32),Ie}function Se(n,i,r){(n===zt&&(bt===2||bt===9)||n.cancelPendingCommit!==null)&&(To(n,0),oi(n,Et,Ie,!1)),Qo(n,r),((Dt&2)===0||n!==zt)&&(n===zt&&((Dt&2)===0&&(Li|=r),Xt===4&&oi(n,Et,Ie,!1)),un(n))}function rm(n,i,r){if((Dt&6)!==0)throw Error(l(327));var s=!r&&(i&127)===0&&(i&n.expiredLanes)===0||Ko(n,i),h=s?rT(n,i):yc(n,i,!0),g=s;do{if(h===0){vo&&!s&&oi(n,i,0,!1);break}else{if(r=n.current.alternate,g&&!oT(r)){h=yc(n,i,!1),g=!1;continue}if(h===2){if(g=i,n.errorRecoveryDisabledLanes&g)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;t:{var A=n;h=Ml;var M=A.current.memoizedState.isDehydrated;if(M&&(To(A,T).flags|=256),T=yc(A,T,!1),T!==2){if(cc&&!M){A.errorRecoveryDisabledLanes|=g,Li|=g,h=4;break t}g=_e,_e=h,g!==null&&(_e===null?_e=g:_e.push.apply(_e,g))}h=T}if(g=!1,h!==2)continue}}if(h===1){To(n,0),oi(n,i,0,!0);break}t:{switch(s=n,g=h,g){case 0:case 1:throw Error(l(345));case 4:if((i&4194048)!==i)break;case 6:oi(s,i,Ie,!ti);break t;case 2:_e=null;break;case 3:case 5:break;default:throw Error(l(329))}if((i&62914560)===i&&(h=ea+300-Ee(),10<h)){if(oi(s,i,Ie,!ti),hr(s,0,!0)!==0)break t;In=i,s.timeoutHandle=zm(am.bind(null,s,r,_e,ia,dc,i,Ie,Li,_o,ti,g,"Throttled",-0,0),h);break t}am(s,r,_e,ia,dc,i,Ie,Li,_o,ti,g,null,-0,0)}}break}while(!0);un(n)}function am(n,i,r,s,h,g,T,A,M,q,Q,j,P,J){if(n.timeoutHandle=-1,j=i.subtreeFlags,j&8192||(j&16785408)===16785408){j={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:mn},jp(i,g,j);var at=(g&62914560)===g?ea-Ee():(g&4194048)===g?im-Ee():0;if(at=kT(j,at),at!==null){In=g,n.cancelPendingCommit=at(mm.bind(null,n,i,g,r,s,h,T,A,M,Q,j,null,P,J)),oi(n,g,T,!q);return}}mm(n,i,g,r,s,h,T,A,M)}function oT(n){for(var i=n;;){var r=i.tag;if((r===0||r===11||r===15)&&i.flags&16384&&(r=i.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var s=0;s<r.length;s++){var h=r[s],g=h.getSnapshot;h=h.value;try{if(!Re(g(),h))return!1}catch{return!1}}if(r=i.child,i.subtreeFlags&16384&&r!==null)r.return=i,i=r;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function oi(n,i,r,s){i&=~fc,i&=~Li,n.suspendedLanes|=i,n.pingedLanes&=~i,s&&(n.warmLanes|=i),s=n.expirationTimes;for(var h=i;0<h;){var g=31-Ce(h),T=1<<g;s[g]=-1,h&=~T}r!==0&&yd(n,r,i)}function oa(){return(Dt&6)===0?(Nl(0),!1):!0}function gc(){if(St!==null){if(bt===0)var n=St.return;else n=St,_n=Ri=null,bu(n),co=null,fl=0,n=St;for(;n!==null;)qp(n.alternate,n),n=n.return;St=null}}function To(n,i){var r=n.timeoutHandle;r!==-1&&(n.timeoutHandle=-1,CT(r)),r=n.cancelPendingCommit,r!==null&&(n.cancelPendingCommit=null,r()),In=0,gc(),zt=n,St=r=yn(n.current,null),Et=i,bt=0,Ne=null,ti=!1,vo=Ko(n,i),cc=!1,_o=Ie=fc=Li=ei=Xt=0,_e=Ml=null,dc=!1,(i&8)!==0&&(i|=i&32);var s=n.entangledLanes;if(s!==0)for(n=n.entanglements,s&=i;0<s;){var h=31-Ce(s),g=1<<h;i|=n[h],s&=~g}return Nn=i,Rr(),r}function sm(n,i){vt=null,R.H=_l,i===uo||i===Ur?(i=Ch(),bt=3):i===Su?(i=Ch(),bt=4):bt=i===Ku?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Ne=i,St===null&&(Xt=1,Xr(n,ze(i,n.current)))}function um(){var n=Me.current;return n===null?!0:(Et&4194048)===Et?Be===null:(Et&62914560)===Et||(Et&536870912)!==0?n===Be:!1}function cm(){var n=R.H;return R.H=_l,n===null?_l:n}function fm(){var n=R.A;return R.A=nT,n}function la(){Xt=4,ti||(Et&4194048)!==Et&&Me.current!==null||(vo=!0),(ei&134217727)===0&&(Li&134217727)===0||zt===null||oi(zt,Et,Ie,!1)}function yc(n,i,r){var s=Dt;Dt|=2;var h=cm(),g=fm();(zt!==n||Et!==i)&&(ia=null,To(n,i)),i=!1;var T=Xt;t:do try{if(bt!==0&&St!==null){var A=St,M=Ne;switch(bt){case 8:gc(),T=6;break t;case 3:case 2:case 9:case 6:Me.current===null&&(i=!0);var q=bt;if(bt=0,Ne=null,Eo(n,A,M,q),r&&vo){T=0;break t}break;default:q=bt,bt=0,Ne=null,Eo(n,A,M,q)}}lT(),T=Xt;break}catch(Q){sm(n,Q)}while(!0);return i&&n.shellSuspendCounter++,_n=Ri=null,Dt=s,R.H=h,R.A=g,St===null&&(zt=null,Et=0,Rr()),T}function lT(){for(;St!==null;)dm(St)}function rT(n,i){var r=Dt;Dt|=2;var s=cm(),h=fm();zt!==n||Et!==i?(ia=null,na=Ee()+500,To(n,i)):vo=Ko(n,i);t:do try{if(bt!==0&&St!==null){i=St;var g=Ne;e:switch(bt){case 1:bt=0,Ne=null,Eo(n,i,g,1);break;case 2:case 9:if(Eh(g)){bt=0,Ne=null,hm(i);break}i=function(){bt!==2&&bt!==9||zt!==n||(bt=7),un(n)},g.then(i,i);break t;case 3:bt=7;break t;case 4:bt=5;break t;case 7:Eh(g)?(bt=0,Ne=null,hm(i)):(bt=0,Ne=null,Eo(n,i,g,7));break;case 5:var T=null;switch(St.tag){case 26:T=St.memoizedState;case 5:case 27:var A=St;if(T?Wm(T):A.stateNode.complete){bt=0,Ne=null;var M=A.sibling;if(M!==null)St=M;else{var q=A.return;q!==null?(St=q,ra(q)):St=null}break e}}bt=0,Ne=null,Eo(n,i,g,5);break;case 6:bt=0,Ne=null,Eo(n,i,g,6);break;case 8:gc(),Xt=6;break t;default:throw Error(l(462))}}aT();break}catch(Q){sm(n,Q)}while(!0);return _n=Ri=null,R.H=s,R.A=h,Dt=r,St!==null?0:(zt=null,Et=0,Rr(),Xt)}function aT(){for(;St!==null&&!I_();)dm(St)}function dm(n){var i=Hp(n.alternate,n,Nn);n.memoizedProps=n.pendingProps,i===null?ra(n):St=i}function hm(n){var i=n,r=i.alternate;switch(i.tag){case 15:case 0:i=Ip(r,i,i.pendingProps,i.type,void 0,Et);break;case 11:i=Ip(r,i,i.pendingProps,i.type.render,i.ref,Et);break;case 5:bu(i);default:qp(r,i),i=St=fh(i,Nn),i=Hp(r,i,Nn)}n.memoizedProps=n.pendingProps,i===null?ra(n):St=i}function Eo(n,i,r,s){_n=Ri=null,bu(i),co=null,fl=0;var h=i.return;try{if(QS(n,h,i,r,Et)){Xt=1,Xr(n,ze(r,n.current)),St=null;return}}catch(g){if(h!==null)throw St=h,g;Xt=1,Xr(n,ze(r,n.current)),St=null;return}i.flags&32768?(Ct||s===1?n=!0:vo||(Et&536870912)!==0?n=!1:(ti=n=!0,(s===2||s===9||s===3||s===6)&&(s=Me.current,s!==null&&s.tag===13&&(s.flags|=16384))),pm(i,n)):ra(i)}function ra(n){var i=n;do{if((i.flags&32768)!==0){pm(i,ti);return}n=i.return;var r=WS(i.alternate,i,Nn);if(r!==null){St=r;return}if(i=i.sibling,i!==null){St=i;return}St=i=n}while(i!==null);Xt===0&&(Xt=5)}function pm(n,i){do{var r=jS(n.alternate,n);if(r!==null){r.flags&=32767,St=r;return}if(r=n.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!i&&(n=n.sibling,n!==null)){St=n;return}St=n=r}while(n!==null);Xt=6,St=null}function mm(n,i,r,s,h,g,T,A,M){n.cancelPendingCommit=null;do aa();while(te!==0);if((Dt&6)!==0)throw Error(l(327));if(i!==null){if(i===n.current)throw Error(l(177));if(g=i.lanes|i.childLanes,g|=lu,P_(n,r,g,T,A,M),n===zt&&(St=zt=null,Et=0),So=i,ii=n,In=r,hc=g,pc=h,om=s,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,fT(ur,function(){return Sm(),null})):(n.callbackNode=null,n.callbackPriority=0),s=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||s){s=R.T,R.T=null,h=V.p,V.p=2,T=Dt,Dt|=4;try{tT(n,i,r)}finally{Dt=T,V.p=h,R.T=s}}te=1,gm(),ym(),vm()}}function gm(){if(te===1){te=0;var n=ii,i=So,r=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||r){r=R.T,R.T=null;var s=V.p;V.p=2;var h=Dt;Dt|=4;try{Zp(i,n);var g=Nc,T=nh(n.containerInfo),A=g.focusedElem,M=g.selectionRange;if(T!==A&&A&&A.ownerDocument&&eh(A.ownerDocument.documentElement,A)){if(M!==null&&tu(A)){var q=M.start,Q=M.end;if(Q===void 0&&(Q=q),"selectionStart"in A)A.selectionStart=q,A.selectionEnd=Math.min(Q,A.value.length);else{var j=A.ownerDocument||document,P=j&&j.defaultView||window;if(P.getSelection){var J=P.getSelection(),at=A.textContent.length,dt=Math.min(M.start,at),Ht=M.end===void 0?dt:Math.min(M.end,at);!J.extend&&dt>Ht&&(T=Ht,Ht=dt,dt=T);var G=th(A,dt),D=th(A,Ht);if(G&&D&&(J.rangeCount!==1||J.anchorNode!==G.node||J.anchorOffset!==G.offset||J.focusNode!==D.node||J.focusOffset!==D.offset)){var z=j.createRange();z.setStart(G.node,G.offset),J.removeAllRanges(),dt>Ht?(J.addRange(z),J.extend(D.node,D.offset)):(z.setEnd(D.node,D.offset),J.addRange(z))}}}}for(j=[],J=A;J=J.parentNode;)J.nodeType===1&&j.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<j.length;A++){var $=j[A];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}_a=!!wc,Nc=wc=null}finally{Dt=h,V.p=s,R.T=r}}n.current=i,te=2}}function ym(){if(te===2){te=0;var n=ii,i=So,r=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||r){r=R.T,R.T=null;var s=V.p;V.p=2;var h=Dt;Dt|=4;try{Yp(n,i.alternate,i)}finally{Dt=h,V.p=s,R.T=r}}te=3}}function vm(){if(te===4||te===3){te=0,D_();var n=ii,i=So,r=In,s=om;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?te=5:(te=0,So=ii=null,_m(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(ni=null),Gs(r),i=i.stateNode,Ae&&typeof Ae.onCommitFiberRoot=="function")try{Ae.onCommitFiberRoot(Xo,i,void 0,(i.current.flags&128)===128)}catch{}if(s!==null){i=R.T,h=V.p,V.p=2,R.T=null;try{for(var g=n.onRecoverableError,T=0;T<s.length;T++){var A=s[T];g(A.value,{componentStack:A.stack})}}finally{R.T=i,V.p=h}}(In&3)!==0&&aa(),un(n),h=n.pendingLanes,(r&261930)!==0&&(h&42)!==0?n===mc?wl++:(wl=0,mc=n):wl=0,Nl(0)}}function _m(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,ul(i)))}function aa(){return gm(),ym(),vm(),Sm()}function Sm(){if(te!==5)return!1;var n=ii,i=hc;hc=0;var r=Gs(In),s=R.T,h=V.p;try{V.p=32>r?32:r,R.T=null,r=pc,pc=null;var g=ii,T=In;if(te=0,So=ii=null,In=0,(Dt&6)!==0)throw Error(l(331));var A=Dt;if(Dt|=4,em(g.current),Wp(g,g.current,T,r),Dt=A,Nl(0,!1),Ae&&typeof Ae.onPostCommitFiberRoot=="function")try{Ae.onPostCommitFiberRoot(Xo,g)}catch{}return!0}finally{V.p=h,R.T=s,_m(n,i)}}function Tm(n,i,r){i=ze(r,i),i=Xu(n.stateNode,i,2),n=Zn(n,i,2),n!==null&&(Qo(n,2),un(n))}function Ut(n,i,r){if(n.tag===3)Tm(n,n,r);else for(;i!==null;){if(i.tag===3){Tm(i,n,r);break}else if(i.tag===1){var s=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ni===null||!ni.has(s))){n=ze(r,n),r=Ep(2),s=Zn(i,r,2),s!==null&&(Ap(r,s,i,n),Qo(s,2),un(s));break}}i=i.return}}function vc(n,i,r){var s=n.pingCache;if(s===null){s=n.pingCache=new iT;var h=new Set;s.set(i,h)}else h=s.get(i),h===void 0&&(h=new Set,s.set(i,h));h.has(r)||(cc=!0,h.add(r),n=sT.bind(null,n,i,r),i.then(n,n))}function sT(n,i,r){var s=n.pingCache;s!==null&&s.delete(i),n.pingedLanes|=n.suspendedLanes&r,n.warmLanes&=~r,zt===n&&(Et&r)===r&&(Xt===4||Xt===3&&(Et&62914560)===Et&&300>Ee()-ea?(Dt&2)===0&&To(n,0):fc|=r,_o===Et&&(_o=0)),un(n)}function Em(n,i){i===0&&(i=gd()),n=Ei(n,i),n!==null&&(Qo(n,i),un(n))}function uT(n){var i=n.memoizedState,r=0;i!==null&&(r=i.retryLane),Em(n,r)}function cT(n,i){var r=0;switch(n.tag){case 31:case 13:var s=n.stateNode,h=n.memoizedState;h!==null&&(r=h.retryLane);break;case 19:s=n.stateNode;break;case 22:s=n.stateNode._retryCache;break;default:throw Error(l(314))}s!==null&&s.delete(i),Em(n,r)}function fT(n,i){return Ds(n,i)}var sa=null,Ao=null,_c=!1,ua=!1,Sc=!1,li=0;function un(n){n!==Ao&&n.next===null&&(Ao===null?sa=Ao=n:Ao=Ao.next=n),ua=!0,_c||(_c=!0,hT())}function Nl(n,i){if(!Sc&&ua){Sc=!0;do for(var r=!1,s=sa;s!==null;){if(n!==0){var h=s.pendingLanes;if(h===0)var g=0;else{var T=s.suspendedLanes,A=s.pingedLanes;g=(1<<31-Ce(42|n)+1)-1,g&=h&~(T&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(r=!0,xm(s,g))}else g=Et,g=hr(s,s===zt?g:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(g&3)===0||Ko(s,g)||(r=!0,xm(s,g));s=s.next}while(r);Sc=!1}}function dT(){Am()}function Am(){ua=_c=!1;var n=0;li!==0&&AT()&&(n=li);for(var i=Ee(),r=null,s=sa;s!==null;){var h=s.next,g=Cm(s,i);g===0?(s.next=null,r===null?sa=h:r.next=h,h===null&&(Ao=r)):(r=s,(n!==0||(g&3)!==0)&&(ua=!0)),s=h}te!==0&&te!==5||Nl(n),li!==0&&(li=0)}function Cm(n,i){for(var r=n.suspendedLanes,s=n.pingedLanes,h=n.expirationTimes,g=n.pendingLanes&-62914561;0<g;){var T=31-Ce(g),A=1<<T,M=h[T];M===-1?((A&r)===0||(A&s)!==0)&&(h[T]=V_(A,i)):M<=i&&(n.expiredLanes|=A),g&=~A}if(i=zt,r=Et,r=hr(n,n===i?r:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),s=n.callbackNode,r===0||n===i&&(bt===2||bt===9)||n.cancelPendingCommit!==null)return s!==null&&s!==null&&bs(s),n.callbackNode=null,n.callbackPriority=0;if((r&3)===0||Ko(n,r)){if(i=r&-r,i===n.callbackPriority)return i;switch(s!==null&&bs(s),Gs(r)){case 2:case 8:r=pd;break;case 32:r=ur;break;case 268435456:r=md;break;default:r=ur}return s=Rm.bind(null,n),r=Ds(r,s),n.callbackPriority=i,n.callbackNode=r,i}return s!==null&&s!==null&&bs(s),n.callbackPriority=2,n.callbackNode=null,2}function Rm(n,i){if(te!==0&&te!==5)return n.callbackNode=null,n.callbackPriority=0,null;var r=n.callbackNode;if(aa()&&n.callbackNode!==r)return null;var s=Et;return s=hr(n,n===zt?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),s===0?null:(rm(n,s,i),Cm(n,Ee()),n.callbackNode!=null&&n.callbackNode===r?Rm.bind(null,n):null)}function xm(n,i){if(aa())return null;rm(n,i,!0)}function hT(){RT(function(){(Dt&6)!==0?Ds(hd,dT):Am()})}function Tc(){if(li===0){var n=ao;n===0&&(n=cr,cr<<=1,(cr&261888)===0&&(cr=256)),li=n}return li}function Mm(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:yr(""+n)}function wm(n,i){var r=i.ownerDocument.createElement("input");return r.name=i.name,r.value=i.value,n.id&&r.setAttribute("form",n.id),i.parentNode.insertBefore(r,i),n=new FormData(n),r.parentNode.removeChild(r),n}function pT(n,i,r,s,h){if(i==="submit"&&r&&r.stateNode===h){var g=Mm((h[pe]||null).action),T=s.submitter;T&&(i=(i=T[pe]||null)?Mm(i.formAction):T.getAttribute("formAction"),i!==null&&(g=i,T=null));var A=new Tr("action","action",null,s,h);n.push({event:A,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(li!==0){var M=T?wm(h,T):new FormData(h);Bu(r,{pending:!0,data:M,method:h.method,action:g},null,M)}}else typeof g=="function"&&(A.preventDefault(),M=T?wm(h,T):new FormData(h),Bu(r,{pending:!0,data:M,method:h.method,action:g},g,M))},currentTarget:h}]})}}for(var Ec=0;Ec<ou.length;Ec++){var Ac=ou[Ec],mT=Ac.toLowerCase(),gT=Ac[0].toUpperCase()+Ac.slice(1);$e(mT,"on"+gT)}$e(lh,"onAnimationEnd"),$e(rh,"onAnimationIteration"),$e(ah,"onAnimationStart"),$e("dblclick","onDoubleClick"),$e("focusin","onFocus"),$e("focusout","onBlur"),$e(bS,"onTransitionRun"),$e(US,"onTransitionStart"),$e(LS,"onTransitionCancel"),$e(sh,"onTransitionEnd"),Xi("onMouseEnter",["mouseout","mouseover"]),Xi("onMouseLeave",["mouseout","mouseover"]),Xi("onPointerEnter",["pointerout","pointerover"]),Xi("onPointerLeave",["pointerout","pointerover"]),vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Il));function Nm(n,i){i=(i&4)!==0;for(var r=0;r<n.length;r++){var s=n[r],h=s.event;s=s.listeners;t:{var g=void 0;if(i)for(var T=s.length-1;0<=T;T--){var A=s[T],M=A.instance,q=A.currentTarget;if(A=A.listener,M!==g&&h.isPropagationStopped())break t;g=A,h.currentTarget=q;try{g(h)}catch(Q){Cr(Q)}h.currentTarget=null,g=M}else for(T=0;T<s.length;T++){if(A=s[T],M=A.instance,q=A.currentTarget,A=A.listener,M!==g&&h.isPropagationStopped())break t;g=A,h.currentTarget=q;try{g(h)}catch(Q){Cr(Q)}h.currentTarget=null,g=M}}}}function Tt(n,i){var r=i[Hs];r===void 0&&(r=i[Hs]=new Set);var s=n+"__bubble";r.has(s)||(Im(i,n,2,!1),r.add(s))}function Cc(n,i,r){var s=0;i&&(s|=4),Im(r,n,s,i)}var ca="_reactListening"+Math.random().toString(36).slice(2);function Rc(n){if(!n[ca]){n[ca]=!0,Ad.forEach(function(r){r!=="selectionchange"&&(yT.has(r)||Cc(r,!1,n),Cc(r,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[ca]||(i[ca]=!0,Cc("selectionchange",!1,i))}}function Im(n,i,r,s){switch(lg(i)){case 2:var h=YT;break;case 8:h=JT;break;default:h=Pc}r=h.bind(null,i,r,n),h=void 0,!Ys||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),s?h!==void 0?n.addEventListener(i,r,{capture:!0,passive:h}):n.addEventListener(i,r,!0):h!==void 0?n.addEventListener(i,r,{passive:h}):n.addEventListener(i,r,!1)}function xc(n,i,r,s,h){var g=s;if((i&1)===0&&(i&2)===0&&s!==null)t:for(;;){if(s===null)return;var T=s.tag;if(T===3||T===4){var A=s.stateNode.containerInfo;if(A===h)break;if(T===4)for(T=s.return;T!==null;){var M=T.tag;if((M===3||M===4)&&T.stateNode.containerInfo===h)return;T=T.return}for(;A!==null;){if(T=Fi(A),T===null)return;if(M=T.tag,M===5||M===6||M===26||M===27){s=g=T;continue t}A=A.parentNode}}s=s.return}Gd(function(){var q=g,Q=Os(r),j=[];t:{var P=uh.get(n);if(P!==void 0){var J=Tr,at=n;switch(n){case"keypress":if(_r(r)===0)break t;case"keydown":case"keyup":J=cS;break;case"focusin":at="focus",J=Qs;break;case"focusout":at="blur",J=Qs;break;case"beforeblur":case"afterblur":J=Qs;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=qd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=W_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=hS;break;case lh:case rh:case ah:J=eS;break;case sh:J=mS;break;case"scroll":case"scrollend":J=Z_;break;case"wheel":J=yS;break;case"copy":case"cut":case"paste":J=iS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Pd;break;case"toggle":case"beforetoggle":J=_S}var dt=(i&4)!==0,Ht=!dt&&(n==="scroll"||n==="scrollend"),G=dt?P!==null?P+"Capture":null:P;dt=[];for(var D=q,z;D!==null;){var $=D;if(z=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||z===null||G===null||($=Wo(D,G),$!=null&&dt.push(Dl(D,$,z))),Ht)break;D=D.return}0<dt.length&&(P=new J(P,at,null,r,Q),j.push({event:P,listeners:dt}))}}if((i&7)===0){t:{if(P=n==="mouseover"||n==="pointerover",J=n==="mouseout"||n==="pointerout",P&&r!==ks&&(at=r.relatedTarget||r.fromElement)&&(Fi(at)||at[Oi]))break t;if((J||P)&&(P=Q.window===Q?Q:(P=Q.ownerDocument)?P.defaultView||P.parentWindow:window,J?(at=r.relatedTarget||r.toElement,J=q,at=at?Fi(at):null,at!==null&&(Ht=u(at),dt=at.tag,at!==Ht||dt!==5&&dt!==27&&dt!==6)&&(at=null)):(J=null,at=q),J!==at)){if(dt=qd,$="onMouseLeave",G="onMouseEnter",D="mouse",(n==="pointerout"||n==="pointerover")&&(dt=Pd,$="onPointerLeave",G="onPointerEnter",D="pointer"),Ht=J==null?P:$o(J),z=at==null?P:$o(at),P=new dt($,D+"leave",J,r,Q),P.target=Ht,P.relatedTarget=z,$=null,Fi(Q)===q&&(dt=new dt(G,D+"enter",at,r,Q),dt.target=z,dt.relatedTarget=Ht,$=dt),Ht=$,J&&at)e:{for(dt=vT,G=J,D=at,z=0,$=G;$;$=dt($))z++;$=0;for(var ft=D;ft;ft=dt(ft))$++;for(;0<z-$;)G=dt(G),z--;for(;0<$-z;)D=dt(D),$--;for(;z--;){if(G===D||D!==null&&G===D.alternate){dt=G;break e}G=dt(G),D=dt(D)}dt=null}else dt=null;J!==null&&Dm(j,P,J,dt,!1),at!==null&&Ht!==null&&Dm(j,Ht,at,dt,!0)}}t:{if(P=q?$o(q):window,J=P.nodeName&&P.nodeName.toLowerCase(),J==="select"||J==="input"&&P.type==="file")var Mt=Kd;else if(Jd(P))if(Qd)Mt=NS;else{Mt=MS;var ut=xS}else J=P.nodeName,!J||J.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?q&&Bs(q.elementType)&&(Mt=Kd):Mt=wS;if(Mt&&(Mt=Mt(n,q))){Xd(j,Mt,r,Q);break t}ut&&ut(n,P,q),n==="focusout"&&q&&P.type==="number"&&q.memoizedProps.value!=null&&Ps(P,"number",P.value)}switch(ut=q?$o(q):window,n){case"focusin":(Jd(ut)||ut.contentEditable==="true")&&(ji=ut,eu=q,rl=null);break;case"focusout":rl=eu=ji=null;break;case"mousedown":nu=!0;break;case"contextmenu":case"mouseup":case"dragend":nu=!1,ih(j,r,Q);break;case"selectionchange":if(DS)break;case"keydown":case"keyup":ih(j,r,Q)}var _t;if($s)t:{switch(n){case"compositionstart":var At="onCompositionStart";break t;case"compositionend":At="onCompositionEnd";break t;case"compositionupdate":At="onCompositionUpdate";break t}At=void 0}else Wi?Fd(n,r)&&(At="onCompositionEnd"):n==="keydown"&&r.keyCode===229&&(At="onCompositionStart");At&&(Bd&&r.locale!=="ko"&&(Wi||At!=="onCompositionStart"?At==="onCompositionEnd"&&Wi&&(_t=Hd()):(On=Q,Js="value"in On?On.value:On.textContent,Wi=!0)),ut=fa(q,At),0<ut.length&&(At=new Vd(At,n,null,r,Q),j.push({event:At,listeners:ut}),_t?At.data=_t:(_t=Yd(r),_t!==null&&(At.data=_t)))),(_t=TS?ES(n,r):AS(n,r))&&(At=fa(q,"onBeforeInput"),0<At.length&&(ut=new Vd("onBeforeInput","beforeinput",null,r,Q),j.push({event:ut,listeners:At}),ut.data=_t)),pT(j,n,q,r,Q)}Nm(j,i)})}function Dl(n,i,r){return{instance:n,listener:i,currentTarget:r}}function fa(n,i){for(var r=i+"Capture",s=[];n!==null;){var h=n,g=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||g===null||(h=Wo(n,r),h!=null&&s.unshift(Dl(n,h,g)),h=Wo(n,i),h!=null&&s.push(Dl(n,h,g))),n.tag===3)return s;n=n.return}return[]}function vT(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Dm(n,i,r,s,h){for(var g=i._reactName,T=[];r!==null&&r!==s;){var A=r,M=A.alternate,q=A.stateNode;if(A=A.tag,M!==null&&M===s)break;A!==5&&A!==26&&A!==27||q===null||(M=q,h?(q=Wo(r,g),q!=null&&T.unshift(Dl(r,q,M))):h||(q=Wo(r,g),q!=null&&T.push(Dl(r,q,M)))),r=r.return}T.length!==0&&n.push({event:i,listeners:T})}var _T=/\r\n?/g,ST=/\u0000|\uFFFD/g;function bm(n){return(typeof n=="string"?n:""+n).replace(_T,`
`).replace(ST,"")}function Um(n,i){return i=bm(i),bm(n)===i}function Gt(n,i,r,s,h,g){switch(r){case"children":typeof s=="string"?i==="body"||i==="textarea"&&s===""||Qi(n,s):(typeof s=="number"||typeof s=="bigint")&&i!=="body"&&Qi(n,""+s);break;case"className":mr(n,"class",s);break;case"tabIndex":mr(n,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":mr(n,r,s);break;case"style":Ud(n,s,g);break;case"data":if(i!=="object"){mr(n,"data",s);break}case"src":case"href":if(s===""&&(i!=="a"||r!=="href")){n.removeAttribute(r);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){n.removeAttribute(r);break}s=yr(""+s),n.setAttribute(r,s);break;case"action":case"formAction":if(typeof s=="function"){n.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(r==="formAction"?(i!=="input"&&Gt(n,i,"name",h.name,h,null),Gt(n,i,"formEncType",h.formEncType,h,null),Gt(n,i,"formMethod",h.formMethod,h,null),Gt(n,i,"formTarget",h.formTarget,h,null)):(Gt(n,i,"encType",h.encType,h,null),Gt(n,i,"method",h.method,h,null),Gt(n,i,"target",h.target,h,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){n.removeAttribute(r);break}s=yr(""+s),n.setAttribute(r,s);break;case"onClick":s!=null&&(n.onclick=mn);break;case"onScroll":s!=null&&Tt("scroll",n);break;case"onScrollEnd":s!=null&&Tt("scrollend",n);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(r=s.__html,r!=null){if(h.children!=null)throw Error(l(60));n.innerHTML=r}}break;case"multiple":n.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":n.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){n.removeAttribute("xlink:href");break}r=yr(""+s),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?n.setAttribute(r,""+s):n.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?n.setAttribute(r,""):n.removeAttribute(r);break;case"capture":case"download":s===!0?n.setAttribute(r,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?n.setAttribute(r,s):n.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?n.setAttribute(r,s):n.removeAttribute(r);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?n.removeAttribute(r):n.setAttribute(r,s);break;case"popover":Tt("beforetoggle",n),Tt("toggle",n),pr(n,"popover",s);break;case"xlinkActuate":pn(n,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":pn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":pn(n,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":pn(n,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":pn(n,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":pn(n,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":pn(n,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":pn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":pn(n,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":pr(n,"is",s);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=K_.get(r)||r,pr(n,r,s))}}function Mc(n,i,r,s,h,g){switch(r){case"style":Ud(n,s,g);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(r=s.__html,r!=null){if(h.children!=null)throw Error(l(60));n.innerHTML=r}}break;case"children":typeof s=="string"?Qi(n,s):(typeof s=="number"||typeof s=="bigint")&&Qi(n,""+s);break;case"onScroll":s!=null&&Tt("scroll",n);break;case"onScrollEnd":s!=null&&Tt("scrollend",n);break;case"onClick":s!=null&&(n.onclick=mn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cd.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),i=r.slice(2,h?r.length-7:void 0),g=n[pe]||null,g=g!=null?g[r]:null,typeof g=="function"&&n.removeEventListener(i,g,h),typeof s=="function")){typeof g!="function"&&g!==null&&(r in n?n[r]=null:n.hasAttribute(r)&&n.removeAttribute(r)),n.addEventListener(i,s,h);break t}r in n?n[r]=s:s===!0?n.setAttribute(r,""):pr(n,r,s)}}}function se(n,i,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Tt("error",n),Tt("load",n);var s=!1,h=!1,g;for(g in r)if(r.hasOwnProperty(g)){var T=r[g];if(T!=null)switch(g){case"src":s=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:Gt(n,i,g,T,r,null)}}h&&Gt(n,i,"srcSet",r.srcSet,r,null),s&&Gt(n,i,"src",r.src,r,null);return;case"input":Tt("invalid",n);var A=g=T=h=null,M=null,q=null;for(s in r)if(r.hasOwnProperty(s)){var Q=r[s];if(Q!=null)switch(s){case"name":h=Q;break;case"type":T=Q;break;case"checked":M=Q;break;case"defaultChecked":q=Q;break;case"value":g=Q;break;case"defaultValue":A=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(l(137,i));break;default:Gt(n,i,s,Q,r,null)}}Nd(n,g,A,M,q,T,h,!1);return;case"select":Tt("invalid",n),s=T=g=null;for(h in r)if(r.hasOwnProperty(h)&&(A=r[h],A!=null))switch(h){case"value":g=A;break;case"defaultValue":T=A;break;case"multiple":s=A;default:Gt(n,i,h,A,r,null)}i=g,r=T,n.multiple=!!s,i!=null?Ki(n,!!s,i,!1):r!=null&&Ki(n,!!s,r,!0);return;case"textarea":Tt("invalid",n),g=h=s=null;for(T in r)if(r.hasOwnProperty(T)&&(A=r[T],A!=null))switch(T){case"value":s=A;break;case"defaultValue":h=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(l(91));break;default:Gt(n,i,T,A,r,null)}Dd(n,s,h,g);return;case"option":for(M in r)if(r.hasOwnProperty(M)&&(s=r[M],s!=null))switch(M){case"selected":n.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Gt(n,i,M,s,r,null)}return;case"dialog":Tt("beforetoggle",n),Tt("toggle",n),Tt("cancel",n),Tt("close",n);break;case"iframe":case"object":Tt("load",n);break;case"video":case"audio":for(s=0;s<Il.length;s++)Tt(Il[s],n);break;case"image":Tt("error",n),Tt("load",n);break;case"details":Tt("toggle",n);break;case"embed":case"source":case"link":Tt("error",n),Tt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in r)if(r.hasOwnProperty(q)&&(s=r[q],s!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:Gt(n,i,q,s,r,null)}return;default:if(Bs(i)){for(Q in r)r.hasOwnProperty(Q)&&(s=r[Q],s!==void 0&&Mc(n,i,Q,s,r,void 0));return}}for(A in r)r.hasOwnProperty(A)&&(s=r[A],s!=null&&Gt(n,i,A,s,r,null))}function TT(n,i,r,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,g=null,T=null,A=null,M=null,q=null,Q=null;for(J in r){var j=r[J];if(r.hasOwnProperty(J)&&j!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":M=j;default:s.hasOwnProperty(J)||Gt(n,i,J,null,s,j)}}for(var P in s){var J=s[P];if(j=r[P],s.hasOwnProperty(P)&&(J!=null||j!=null))switch(P){case"type":g=J;break;case"name":h=J;break;case"checked":q=J;break;case"defaultChecked":Q=J;break;case"value":T=J;break;case"defaultValue":A=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(l(137,i));break;default:J!==j&&Gt(n,i,P,J,s,j)}}Vs(n,T,A,M,q,Q,g,h);return;case"select":J=T=A=P=null;for(g in r)if(M=r[g],r.hasOwnProperty(g)&&M!=null)switch(g){case"value":break;case"multiple":J=M;default:s.hasOwnProperty(g)||Gt(n,i,g,null,s,M)}for(h in s)if(g=s[h],M=r[h],s.hasOwnProperty(h)&&(g!=null||M!=null))switch(h){case"value":P=g;break;case"defaultValue":A=g;break;case"multiple":T=g;default:g!==M&&Gt(n,i,h,g,s,M)}i=A,r=T,s=J,P!=null?Ki(n,!!r,P,!1):!!s!=!!r&&(i!=null?Ki(n,!!r,i,!0):Ki(n,!!r,r?[]:"",!1));return;case"textarea":J=P=null;for(A in r)if(h=r[A],r.hasOwnProperty(A)&&h!=null&&!s.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:Gt(n,i,A,null,s,h)}for(T in s)if(h=s[T],g=r[T],s.hasOwnProperty(T)&&(h!=null||g!=null))switch(T){case"value":P=h;break;case"defaultValue":J=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(l(91));break;default:h!==g&&Gt(n,i,T,h,s,g)}Id(n,P,J);return;case"option":for(var at in r)if(P=r[at],r.hasOwnProperty(at)&&P!=null&&!s.hasOwnProperty(at))switch(at){case"selected":n.selected=!1;break;default:Gt(n,i,at,null,s,P)}for(M in s)if(P=s[M],J=r[M],s.hasOwnProperty(M)&&P!==J&&(P!=null||J!=null))switch(M){case"selected":n.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Gt(n,i,M,P,s,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in r)P=r[dt],r.hasOwnProperty(dt)&&P!=null&&!s.hasOwnProperty(dt)&&Gt(n,i,dt,null,s,P);for(q in s)if(P=s[q],J=r[q],s.hasOwnProperty(q)&&P!==J&&(P!=null||J!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(l(137,i));break;default:Gt(n,i,q,P,s,J)}return;default:if(Bs(i)){for(var Ht in r)P=r[Ht],r.hasOwnProperty(Ht)&&P!==void 0&&!s.hasOwnProperty(Ht)&&Mc(n,i,Ht,void 0,s,P);for(Q in s)P=s[Q],J=r[Q],!s.hasOwnProperty(Q)||P===J||P===void 0&&J===void 0||Mc(n,i,Q,P,s,J);return}}for(var G in r)P=r[G],r.hasOwnProperty(G)&&P!=null&&!s.hasOwnProperty(G)&&Gt(n,i,G,null,s,P);for(j in s)P=s[j],J=r[j],!s.hasOwnProperty(j)||P===J||P==null&&J==null||Gt(n,i,j,P,s,J)}function Lm(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ET(){if(typeof performance.getEntriesByType=="function"){for(var n=0,i=0,r=performance.getEntriesByType("resource"),s=0;s<r.length;s++){var h=r[s],g=h.transferSize,T=h.initiatorType,A=h.duration;if(g&&A&&Lm(T)){for(T=0,A=h.responseEnd,s+=1;s<r.length;s++){var M=r[s],q=M.startTime;if(q>A)break;var Q=M.transferSize,j=M.initiatorType;Q&&Lm(j)&&(M=M.responseEnd,T+=Q*(M<A?1:(A-q)/(M-q)))}if(--s,i+=8*(g+T)/(h.duration/1e3),n++,10<n)break}}if(0<n)return i/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var wc=null,Nc=null;function da(n){return n.nodeType===9?n:n.ownerDocument}function Gm(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hm(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Ic(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Dc=null;function AT(){var n=window.event;return n&&n.type==="popstate"?n===Dc?!1:(Dc=n,!0):(Dc=null,!1)}var zm=typeof setTimeout=="function"?setTimeout:void 0,CT=typeof clearTimeout=="function"?clearTimeout:void 0,qm=typeof Promise=="function"?Promise:void 0,RT=typeof queueMicrotask=="function"?queueMicrotask:typeof qm<"u"?function(n){return qm.resolve(null).then(n).catch(xT)}:zm;function xT(n){setTimeout(function(){throw n})}function ri(n){return n==="head"}function Vm(n,i){var r=i,s=0;do{var h=r.nextSibling;if(n.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(s===0){n.removeChild(h),Mo(i);return}s--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")s++;else if(r==="html")bl(n.ownerDocument.documentElement);else if(r==="head"){r=n.ownerDocument.head,bl(r);for(var g=r.firstChild;g;){var T=g.nextSibling,A=g.nodeName;g[Zo]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&g.rel.toLowerCase()==="stylesheet"||r.removeChild(g),g=T}}else r==="body"&&bl(n.ownerDocument.body);r=h}while(r);Mo(i)}function Pm(n,i){var r=n;n=0;do{var s=r.nextSibling;if(r.nodeType===1?i?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(i?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0)break;n--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||n++;r=s}while(r)}function bc(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var r=i;switch(i=i.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":bc(r),zs(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}n.removeChild(r)}}function MT(n,i,r,s){for(;n.nodeType===1;){var h=r;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!s&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(s){if(!n[Zo])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(g=n.getAttribute("rel"),g==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(g!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(g=n.getAttribute("src"),(g!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&g&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var g=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===g)return n}else return n;if(n=ke(n.nextSibling),n===null)break}return null}function wT(n,i,r){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=ke(n.nextSibling),n===null))return null;return n}function Bm(n,i){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!i||(n=ke(n.nextSibling),n===null))return null;return n}function Uc(n){return n.data==="$?"||n.data==="$~"}function Lc(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function NT(n,i){var r=n.ownerDocument;if(n.data==="$~")n._reactRetry=i;else if(n.data!=="$?"||r.readyState!=="loading")i();else{var s=function(){i(),r.removeEventListener("DOMContentLoaded",s)};r.addEventListener("DOMContentLoaded",s),n._reactRetry=s}}function ke(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return n}var Gc=null;function km(n){n=n.nextSibling;for(var i=0;n;){if(n.nodeType===8){var r=n.data;if(r==="/$"||r==="/&"){if(i===0)return ke(n.nextSibling);i--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||i++}n=n.nextSibling}return null}function Om(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var r=n.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(i===0)return n;i--}else r!=="/$"&&r!=="/&"||i++}n=n.previousSibling}return null}function Fm(n,i,r){switch(i=da(r),n){case"html":if(n=i.documentElement,!n)throw Error(l(452));return n;case"head":if(n=i.head,!n)throw Error(l(453));return n;case"body":if(n=i.body,!n)throw Error(l(454));return n;default:throw Error(l(451))}}function bl(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);zs(n)}var Oe=new Map,Ym=new Set;function ha(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Dn=V.d;V.d={f:IT,r:DT,D:bT,C:UT,L:LT,m:GT,X:zT,S:HT,M:qT};function IT(){var n=Dn.f(),i=oa();return n||i}function DT(n){var i=Yi(n);i!==null&&i.tag===5&&i.type==="form"?sp(i):Dn.r(n)}var Co=typeof document>"u"?null:document;function Jm(n,i,r){var s=Co;if(s&&typeof i=="string"&&i){var h=Ge(i);h='link[rel="'+n+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),Ym.has(h)||(Ym.add(h),n={rel:n,crossOrigin:r,href:i},s.querySelector(h)===null&&(i=s.createElement("link"),se(i,"link",n),ee(i),s.head.appendChild(i)))}}function bT(n){Dn.D(n),Jm("dns-prefetch",n,null)}function UT(n,i){Dn.C(n,i),Jm("preconnect",n,i)}function LT(n,i,r){Dn.L(n,i,r);var s=Co;if(s&&n&&i){var h='link[rel="preload"][as="'+Ge(i)+'"]';i==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+Ge(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+Ge(r.imageSizes)+'"]')):h+='[href="'+Ge(n)+'"]';var g=h;switch(i){case"style":g=Ro(n);break;case"script":g=xo(n)}Oe.has(g)||(n=_({rel:"preload",href:i==="image"&&r&&r.imageSrcSet?void 0:n,as:i},r),Oe.set(g,n),s.querySelector(h)!==null||i==="style"&&s.querySelector(Ul(g))||i==="script"&&s.querySelector(Ll(g))||(i=s.createElement("link"),se(i,"link",n),ee(i),s.head.appendChild(i)))}}function GT(n,i){Dn.m(n,i);var r=Co;if(r&&n){var s=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+Ge(s)+'"][href="'+Ge(n)+'"]',g=h;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=xo(n)}if(!Oe.has(g)&&(n=_({rel:"modulepreload",href:n},i),Oe.set(g,n),r.querySelector(h)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ll(g)))return}s=r.createElement("link"),se(s,"link",n),ee(s),r.head.appendChild(s)}}}function HT(n,i,r){Dn.S(n,i,r);var s=Co;if(s&&n){var h=Ji(s).hoistableStyles,g=Ro(n);i=i||"default";var T=h.get(g);if(!T){var A={loading:0,preload:null};if(T=s.querySelector(Ul(g)))A.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":i},r),(r=Oe.get(g))&&Hc(n,r);var M=T=s.createElement("link");ee(M),se(M,"link",n),M._p=new Promise(function(q,Q){M.onload=q,M.onerror=Q}),M.addEventListener("load",function(){A.loading|=1}),M.addEventListener("error",function(){A.loading|=2}),A.loading|=4,pa(T,i,s)}T={type:"stylesheet",instance:T,count:1,state:A},h.set(g,T)}}}function zT(n,i){Dn.X(n,i);var r=Co;if(r&&n){var s=Ji(r).hoistableScripts,h=xo(n),g=s.get(h);g||(g=r.querySelector(Ll(h)),g||(n=_({src:n,async:!0},i),(i=Oe.get(h))&&zc(n,i),g=r.createElement("script"),ee(g),se(g,"link",n),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},s.set(h,g))}}function qT(n,i){Dn.M(n,i);var r=Co;if(r&&n){var s=Ji(r).hoistableScripts,h=xo(n),g=s.get(h);g||(g=r.querySelector(Ll(h)),g||(n=_({src:n,async:!0,type:"module"},i),(i=Oe.get(h))&&zc(n,i),g=r.createElement("script"),ee(g),se(g,"link",n),r.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},s.set(h,g))}}function Xm(n,i,r,s){var h=(h=ht.current)?ha(h):null;if(!h)throw Error(l(446));switch(n){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(i=Ro(r.href),r=Ji(h).hoistableStyles,s=r.get(i),s||(s={type:"style",instance:null,count:0,state:null},r.set(i,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){n=Ro(r.href);var g=Ji(h).hoistableStyles,T=g.get(n);if(T||(h=h.ownerDocument||h,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(n,T),(g=h.querySelector(Ul(n)))&&!g._p&&(T.instance=g,T.state.loading=5),Oe.has(n)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Oe.set(n,r),g||VT(h,n,r,T.state))),i&&s===null)throw Error(l(528,""));return T}if(i&&s!==null)throw Error(l(529,""));return null;case"script":return i=r.async,r=r.src,typeof r=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=xo(r),r=Ji(h).hoistableScripts,s=r.get(i),s||(s={type:"script",instance:null,count:0,state:null},r.set(i,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,n))}}function Ro(n){return'href="'+Ge(n)+'"'}function Ul(n){return'link[rel="stylesheet"]['+n+"]"}function Km(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function VT(n,i,r,s){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?s.loading=1:(i=n.createElement("link"),s.preload=i,i.addEventListener("load",function(){return s.loading|=1}),i.addEventListener("error",function(){return s.loading|=2}),se(i,"link",r),ee(i),n.head.appendChild(i))}function xo(n){return'[src="'+Ge(n)+'"]'}function Ll(n){return"script[async]"+n}function Qm(n,i,r){if(i.count++,i.instance===null)switch(i.type){case"style":var s=n.querySelector('style[data-href~="'+Ge(r.href)+'"]');if(s)return i.instance=s,ee(s),s;var h=_({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return s=(n.ownerDocument||n).createElement("style"),ee(s),se(s,"style",h),pa(s,r.precedence,n),i.instance=s;case"stylesheet":h=Ro(r.href);var g=n.querySelector(Ul(h));if(g)return i.state.loading|=4,i.instance=g,ee(g),g;s=Km(r),(h=Oe.get(h))&&Hc(s,h),g=(n.ownerDocument||n).createElement("link"),ee(g);var T=g;return T._p=new Promise(function(A,M){T.onload=A,T.onerror=M}),se(g,"link",s),i.state.loading|=4,pa(g,r.precedence,n),i.instance=g;case"script":return g=xo(r.src),(h=n.querySelector(Ll(g)))?(i.instance=h,ee(h),h):(s=r,(h=Oe.get(g))&&(s=_({},r),zc(s,h)),n=n.ownerDocument||n,h=n.createElement("script"),ee(h),se(h,"link",s),n.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(l(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(s=i.instance,i.state.loading|=4,pa(s,r.precedence,n));return i.instance}function pa(n,i,r){for(var s=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=s.length?s[s.length-1]:null,g=h,T=0;T<s.length;T++){var A=s[T];if(A.dataset.precedence===i)g=A;else if(g!==h)break}g?g.parentNode.insertBefore(n,g.nextSibling):(i=r.nodeType===9?r.head:r,i.insertBefore(n,i.firstChild))}function Hc(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function zc(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var ma=null;function Zm(n,i,r){if(ma===null){var s=new Map,h=ma=new Map;h.set(r,s)}else h=ma,s=h.get(r),s||(s=new Map,h.set(r,s));if(s.has(n))return s;for(s.set(n,null),r=r.getElementsByTagName(n),h=0;h<r.length;h++){var g=r[h];if(!(g[Zo]||g[oe]||n==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(i)||"";T=n+T;var A=s.get(T);A?A.push(g):s.set(T,[g])}}return s}function $m(n,i,r){n=n.ownerDocument||n,n.head.insertBefore(r,i==="title"?n.querySelector("head > title"):null)}function PT(n,i,r){if(r===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Wm(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function BT(n,i,r,s){if(r.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ro(s.href),g=i.querySelector(Ul(h));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(n.count++,n=ga.bind(n),i.then(n,n)),r.state.loading|=4,r.instance=g,ee(g);return}g=i.ownerDocument||i,s=Km(s),(h=Oe.get(h))&&Hc(s,h),g=g.createElement("link"),ee(g);var T=g;T._p=new Promise(function(A,M){T.onload=A,T.onerror=M}),se(g,"link",s),r.instance=g}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(n.count++,r=ga.bind(n),i.addEventListener("load",r),i.addEventListener("error",r))}}var qc=0;function kT(n,i){return n.stylesheets&&n.count===0&&va(n,n.stylesheets),0<n.count||0<n.imgCount?function(r){var s=setTimeout(function(){if(n.stylesheets&&va(n,n.stylesheets),n.unsuspend){var g=n.unsuspend;n.unsuspend=null,g()}},6e4+i);0<n.imgBytes&&qc===0&&(qc=62500*ET());var h=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&va(n,n.stylesheets),n.unsuspend)){var g=n.unsuspend;n.unsuspend=null,g()}},(n.imgBytes>qc?50:800)+i);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(s),clearTimeout(h)}}:null}function ga(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)va(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var ya=null;function va(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,ya=new Map,i.forEach(OT,n),ya=null,ga.call(n))}function OT(n,i){if(!(i.state.loading&4)){var r=ya.get(n);if(r)var s=r.get(null);else{r=new Map,ya.set(n,r);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<h.length;g++){var T=h[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(r.set(T.dataset.precedence,T),s=T)}s&&r.set(null,s)}h=i.instance,T=h.getAttribute("data-precedence"),g=r.get(T)||s,g===s&&r.set(null,h),r.set(T,h),this.count++,s=ga.bind(this),h.addEventListener("load",s),h.addEventListener("error",s),g?g.parentNode.insertBefore(h,g.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),i.state.loading|=4}}var Gl={$$typeof:U,Provider:null,Consumer:null,_currentValue:Y,_currentValue2:Y,_threadCount:0};function FT(n,i,r,s,h,g,T,A,M){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Us(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Us(0),this.hiddenUpdates=Us(null),this.identifierPrefix=s,this.onUncaughtError=h,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function jm(n,i,r,s,h,g,T,A,M,q,Q,j){return n=new FT(n,i,r,T,M,q,Q,j,A),i=1,g===!0&&(i|=24),g=xe(3,null,null,i),n.current=g,g.stateNode=n,i=yu(),i.refCount++,n.pooledCache=i,i.refCount++,g.memoizedState={element:s,isDehydrated:r,cache:i},Tu(g),n}function tg(n){return n?(n=no,n):no}function eg(n,i,r,s,h,g){h=tg(h),s.context===null?s.context=h:s.pendingContext=h,s=Qn(i),s.payload={element:r},g=g===void 0?null:g,g!==null&&(s.callback=g),r=Zn(n,s,i),r!==null&&(Se(r,n,i),hl(r,n,i))}function ng(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var r=n.retryLane;n.retryLane=r!==0&&r<i?r:i}}function Vc(n,i){ng(n,i),(n=n.alternate)&&ng(n,i)}function ig(n){if(n.tag===13||n.tag===31){var i=Ei(n,67108864);i!==null&&Se(i,n,67108864),Vc(n,67108864)}}function og(n){if(n.tag===13||n.tag===31){var i=De();i=Ls(i);var r=Ei(n,i);r!==null&&Se(r,n,i),Vc(n,i)}}var _a=!0;function YT(n,i,r,s){var h=R.T;R.T=null;var g=V.p;try{V.p=2,Pc(n,i,r,s)}finally{V.p=g,R.T=h}}function JT(n,i,r,s){var h=R.T;R.T=null;var g=V.p;try{V.p=8,Pc(n,i,r,s)}finally{V.p=g,R.T=h}}function Pc(n,i,r,s){if(_a){var h=Bc(s);if(h===null)xc(n,i,s,Sa,r),rg(n,s);else if(KT(h,n,i,r,s))s.stopPropagation();else if(rg(n,s),i&4&&-1<XT.indexOf(n)){for(;h!==null;){var g=Yi(h);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=yi(g.pendingLanes);if(T!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var M=1<<31-Ce(T);A.entanglements[1]|=M,T&=~M}un(g),(Dt&6)===0&&(na=Ee()+500,Nl(0))}}break;case 31:case 13:A=Ei(g,2),A!==null&&Se(A,g,2),oa(),Vc(g,2)}if(g=Bc(s),g===null&&xc(n,i,s,Sa,r),g===h)break;h=g}h!==null&&s.stopPropagation()}else xc(n,i,s,null,r)}}function Bc(n){return n=Os(n),kc(n)}var Sa=null;function kc(n){if(Sa=null,n=Fi(n),n!==null){var i=u(n);if(i===null)n=null;else{var r=i.tag;if(r===13){if(n=f(i),n!==null)return n;n=null}else if(r===31){if(n=p(i),n!==null)return n;n=null}else if(r===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Sa=n,null}function lg(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(b_()){case hd:return 2;case pd:return 8;case ur:case U_:return 32;case md:return 268435456;default:return 32}default:return 32}}var Oc=!1,ai=null,si=null,ui=null,Hl=new Map,zl=new Map,ci=[],XT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rg(n,i){switch(n){case"focusin":case"focusout":ai=null;break;case"dragenter":case"dragleave":si=null;break;case"mouseover":case"mouseout":ui=null;break;case"pointerover":case"pointerout":Hl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(i.pointerId)}}function ql(n,i,r,s,h,g){return n===null||n.nativeEvent!==g?(n={blockedOn:i,domEventName:r,eventSystemFlags:s,nativeEvent:g,targetContainers:[h]},i!==null&&(i=Yi(i),i!==null&&ig(i)),n):(n.eventSystemFlags|=s,i=n.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),n)}function KT(n,i,r,s,h){switch(i){case"focusin":return ai=ql(ai,n,i,r,s,h),!0;case"dragenter":return si=ql(si,n,i,r,s,h),!0;case"mouseover":return ui=ql(ui,n,i,r,s,h),!0;case"pointerover":var g=h.pointerId;return Hl.set(g,ql(Hl.get(g)||null,n,i,r,s,h)),!0;case"gotpointercapture":return g=h.pointerId,zl.set(g,ql(zl.get(g)||null,n,i,r,s,h)),!0}return!1}function ag(n){var i=Fi(n.target);if(i!==null){var r=u(i);if(r!==null){if(i=r.tag,i===13){if(i=f(r),i!==null){n.blockedOn=i,Td(n.priority,function(){og(r)});return}}else if(i===31){if(i=p(r),i!==null){n.blockedOn=i,Td(n.priority,function(){og(r)});return}}else if(i===3&&r.stateNode.current.memoizedState.isDehydrated){n.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ta(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var r=Bc(n.nativeEvent);if(r===null){r=n.nativeEvent;var s=new r.constructor(r.type,r);ks=s,r.target.dispatchEvent(s),ks=null}else return i=Yi(r),i!==null&&ig(i),n.blockedOn=r,!1;i.shift()}return!0}function sg(n,i,r){Ta(n)&&r.delete(i)}function QT(){Oc=!1,ai!==null&&Ta(ai)&&(ai=null),si!==null&&Ta(si)&&(si=null),ui!==null&&Ta(ui)&&(ui=null),Hl.forEach(sg),zl.forEach(sg)}function Ea(n,i){n.blockedOn===i&&(n.blockedOn=null,Oc||(Oc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,QT)))}var Aa=null;function ug(n){Aa!==n&&(Aa=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Aa===n&&(Aa=null);for(var i=0;i<n.length;i+=3){var r=n[i],s=n[i+1],h=n[i+2];if(typeof s!="function"){if(kc(s||r)===null)continue;break}var g=Yi(r);g!==null&&(n.splice(i,3),i-=3,Bu(g,{pending:!0,data:h,method:r.method,action:s},s,h))}}))}function Mo(n){function i(M){return Ea(M,n)}ai!==null&&Ea(ai,n),si!==null&&Ea(si,n),ui!==null&&Ea(ui,n),Hl.forEach(i),zl.forEach(i);for(var r=0;r<ci.length;r++){var s=ci[r];s.blockedOn===n&&(s.blockedOn=null)}for(;0<ci.length&&(r=ci[0],r.blockedOn===null);)ag(r),r.blockedOn===null&&ci.shift();if(r=(n.ownerDocument||n).$$reactFormReplay,r!=null)for(s=0;s<r.length;s+=3){var h=r[s],g=r[s+1],T=h[pe]||null;if(typeof g=="function")T||ug(r);else if(T){var A=null;if(g&&g.hasAttribute("formAction")){if(h=g,T=g[pe]||null)A=T.formAction;else if(kc(h)!==null)continue}else A=T.action;typeof A=="function"?r[s+1]=A:(r.splice(s,3),s-=3),ug(r)}}}function cg(){function n(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return h=T})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),s||setTimeout(r,20)}function r(){if(!s&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,h=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(r,100),function(){s=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Fc(n){this._internalRoot=n}Ca.prototype.render=Fc.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(l(409));var r=i.current,s=De();eg(r,s,n,i,null,null)},Ca.prototype.unmount=Fc.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;eg(n.current,2,null,n,null,null),oa(),i[Oi]=null}};function Ca(n){this._internalRoot=n}Ca.prototype.unstable_scheduleHydration=function(n){if(n){var i=Sd();n={blockedOn:null,target:n,priority:i};for(var r=0;r<ci.length&&i!==0&&i<ci[r].priority;r++);ci.splice(r,0,n),r===0&&ag(n)}};var fg=t.version;if(fg!=="19.2.3")throw Error(l(527,fg,"19.2.3"));V.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(l(188)):(n=Object.keys(n).join(","),Error(l(268,n)));return n=m(i),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var ZT={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ra=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ra.isDisabled&&Ra.supportsFiber)try{Xo=Ra.inject(ZT),Ae=Ra}catch{}}return Pl.createRoot=function(n,i){if(!a(n))throw Error(l(299));var r=!1,s="",h=vp,g=_p,T=Sp;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(s=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError)),i=jm(n,1,!1,null,null,r,s,null,h,g,T,cg),n[Oi]=i.current,Rc(n),new Fc(i)},Pl.hydrateRoot=function(n,i,r){if(!a(n))throw Error(l(299));var s=!1,h="",g=vp,T=_p,A=Sp,M=null;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(T=r.onCaughtError),r.onRecoverableError!==void 0&&(A=r.onRecoverableError),r.formState!==void 0&&(M=r.formState)),i=jm(n,1,!0,i,r??null,s,h,M,g,T,A,cg),i.context=tg(null),r=i.current,s=De(),s=Ls(s),h=Qn(s),h.callback=null,Zn(r,h,s),r=s,i.current.lanes=r,Qo(i,r),un(i),n[Oi]=i.current,Rc(n),new Ca(i)},Pl.version="19.2.3",Pl}var Tg;function aE(){if(Tg)return Xc.exports;Tg=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Xc.exports=rE(),Xc.exports}var sE=aE();const uE=Py(sE);class qi{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const o=this._partials;let l=0;for(let a=0;a<this._n&&a<32;a++){const u=o[a],f=t+u,p=Math.abs(t)<Math.abs(u)?t-(f-u):u-(f-t);p&&(o[l++]=p),t=f}return o[l]=t,this._n=l+1,this}valueOf(){const t=this._partials;let o=this._n,l,a,u,f=0;if(o>0){for(f=t[--o];o>0&&(l=f,a=t[--o],f=l+a,u=a-(f-l),!u););o>0&&(u<0&&t[o-1]<0||u>0&&t[o-1]>0)&&(a=u*2,l=f+a,a==l-f&&(f=l))}return f}}function*cE(e){for(const t of e)yield*t}function By(e){return Array.from(cE(e))}function Io(e,t,o){e=+e,t=+t,o=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+o;for(var l=-1,a=Math.max(0,Math.ceil((t-e)/o))|0,u=new Array(a);++l<a;)u[l]=e+l*o;return u}var fE={value:()=>{}};function ms(){for(var e=0,t=arguments.length,o={},l;e<t;++e){if(!(l=arguments[e]+"")||l in o||/[\s.]/.test(l))throw new Error("illegal type: "+l);o[l]=[]}return new ka(o)}function ka(e){this._=e}function dE(e,t){return e.trim().split(/^|\s+/).map(function(o){var l="",a=o.indexOf(".");if(a>=0&&(l=o.slice(a+1),o=o.slice(0,a)),o&&!t.hasOwnProperty(o))throw new Error("unknown type: "+o);return{type:o,name:l}})}ka.prototype=ms.prototype={constructor:ka,on:function(e,t){var o=this._,l=dE(e+"",o),a,u=-1,f=l.length;if(arguments.length<2){for(;++u<f;)if((a=(e=l[u]).type)&&(a=hE(o[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++u<f;)if(a=(e=l[u]).type)o[a]=Eg(o[a],e.name,t);else if(t==null)for(a in o)o[a]=Eg(o[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var o in t)e[o]=t[o].slice();return new ka(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var o=new Array(a),l=0,a,u;l<a;++l)o[l]=arguments[l+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(u=this._[e],l=0,a=u.length;l<a;++l)u[l].value.apply(t,o)},apply:function(e,t,o){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var l=this._[e],a=0,u=l.length;a<u;++a)l[a].value.apply(t,o)}};function hE(e,t){for(var o=0,l=e.length,a;o<l;++o)if((a=e[o]).name===t)return a.value}function Eg(e,t,o){for(var l=0,a=e.length;l<a;++l)if(e[l].name===t){e[l]=fE,e=e.slice(0,l).concat(e.slice(l+1));break}return o!=null&&e.push({name:t,value:o}),e}var uf="http://www.w3.org/1999/xhtml";const Ag={svg:"http://www.w3.org/2000/svg",xhtml:uf,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function gs(e){var t=e+="",o=t.indexOf(":");return o>=0&&(t=e.slice(0,o))!=="xmlns"&&(e=e.slice(o+1)),Ag.hasOwnProperty(t)?{space:Ag[t],local:e}:e}function pE(e){return function(){var t=this.ownerDocument,o=this.namespaceURI;return o===uf&&t.documentElement.namespaceURI===uf?t.createElement(e):t.createElementNS(o,e)}}function mE(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ky(e){var t=gs(e);return(t.local?mE:pE)(t)}function gE(){}function Xf(e){return e==null?gE:function(){return this.querySelector(e)}}function yE(e){typeof e!="function"&&(e=Xf(e));for(var t=this._groups,o=t.length,l=new Array(o),a=0;a<o;++a)for(var u=t[a],f=u.length,p=l[a]=new Array(f),y,m,v=0;v<f;++v)(y=u[v])&&(m=e.call(y,y.__data__,v,u))&&("__data__"in y&&(m.__data__=y.__data__),p[v]=m);return new Ue(l,this._parents)}function vE(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function _E(){return[]}function Oy(e){return e==null?_E:function(){return this.querySelectorAll(e)}}function SE(e){return function(){return vE(e.apply(this,arguments))}}function TE(e){typeof e=="function"?e=SE(e):e=Oy(e);for(var t=this._groups,o=t.length,l=[],a=[],u=0;u<o;++u)for(var f=t[u],p=f.length,y,m=0;m<p;++m)(y=f[m])&&(l.push(e.call(y,y.__data__,m,f)),a.push(y));return new Ue(l,a)}function Fy(e){return function(){return this.matches(e)}}function Yy(e){return function(t){return t.matches(e)}}var EE=Array.prototype.find;function AE(e){return function(){return EE.call(this.children,e)}}function CE(){return this.firstElementChild}function RE(e){return this.select(e==null?CE:AE(typeof e=="function"?e:Yy(e)))}var xE=Array.prototype.filter;function ME(){return Array.from(this.children)}function wE(e){return function(){return xE.call(this.children,e)}}function NE(e){return this.selectAll(e==null?ME:wE(typeof e=="function"?e:Yy(e)))}function IE(e){typeof e!="function"&&(e=Fy(e));for(var t=this._groups,o=t.length,l=new Array(o),a=0;a<o;++a)for(var u=t[a],f=u.length,p=l[a]=[],y,m=0;m<f;++m)(y=u[m])&&e.call(y,y.__data__,m,u)&&p.push(y);return new Ue(l,this._parents)}function Jy(e){return new Array(e.length)}function DE(){return new Ue(this._enter||this._groups.map(Jy),this._parents)}function Qa(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Qa.prototype={constructor:Qa,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function bE(e){return function(){return e}}function UE(e,t,o,l,a,u){for(var f=0,p,y=t.length,m=u.length;f<m;++f)(p=t[f])?(p.__data__=u[f],l[f]=p):o[f]=new Qa(e,u[f]);for(;f<y;++f)(p=t[f])&&(a[f]=p)}function LE(e,t,o,l,a,u,f){var p,y,m=new Map,v=t.length,_=u.length,S=new Array(v),E;for(p=0;p<v;++p)(y=t[p])&&(S[p]=E=f.call(y,y.__data__,p,t)+"",m.has(E)?a[p]=y:m.set(E,y));for(p=0;p<_;++p)E=f.call(e,u[p],p,u)+"",(y=m.get(E))?(l[p]=y,y.__data__=u[p],m.delete(E)):o[p]=new Qa(e,u[p]);for(p=0;p<v;++p)(y=t[p])&&m.get(S[p])===y&&(a[p]=y)}function GE(e){return e.__data__}function HE(e,t){if(!arguments.length)return Array.from(this,GE);var o=t?LE:UE,l=this._parents,a=this._groups;typeof e!="function"&&(e=bE(e));for(var u=a.length,f=new Array(u),p=new Array(u),y=new Array(u),m=0;m<u;++m){var v=l[m],_=a[m],S=_.length,E=zE(e.call(v,v&&v.__data__,m,l)),C=E.length,N=p[m]=new Array(C),w=f[m]=new Array(C),I=y[m]=new Array(S);o(v,_,N,w,I,E,t);for(var O=0,U=0,b,X;O<C;++O)if(b=N[O]){for(O>=U&&(U=O+1);!(X=w[U])&&++U<C;);b._next=X||null}}return f=new Ue(f,l),f._enter=p,f._exit=y,f}function zE(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function qE(){return new Ue(this._exit||this._groups.map(Jy),this._parents)}function VE(e,t,o){var l=this.enter(),a=this,u=this.exit();return typeof e=="function"?(l=e(l),l&&(l=l.selection())):l=l.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),o==null?u.remove():o(u),l&&a?l.merge(a).order():a}function PE(e){for(var t=e.selection?e.selection():e,o=this._groups,l=t._groups,a=o.length,u=l.length,f=Math.min(a,u),p=new Array(a),y=0;y<f;++y)for(var m=o[y],v=l[y],_=m.length,S=p[y]=new Array(_),E,C=0;C<_;++C)(E=m[C]||v[C])&&(S[C]=E);for(;y<a;++y)p[y]=o[y];return new Ue(p,this._parents)}function BE(){for(var e=this._groups,t=-1,o=e.length;++t<o;)for(var l=e[t],a=l.length-1,u=l[a],f;--a>=0;)(f=l[a])&&(u&&f.compareDocumentPosition(u)^4&&u.parentNode.insertBefore(f,u),u=f);return this}function kE(e){e||(e=OE);function t(_,S){return _&&S?e(_.__data__,S.__data__):!_-!S}for(var o=this._groups,l=o.length,a=new Array(l),u=0;u<l;++u){for(var f=o[u],p=f.length,y=a[u]=new Array(p),m,v=0;v<p;++v)(m=f[v])&&(y[v]=m);y.sort(t)}return new Ue(a,this._parents).order()}function OE(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function FE(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function YE(){return Array.from(this)}function JE(){for(var e=this._groups,t=0,o=e.length;t<o;++t)for(var l=e[t],a=0,u=l.length;a<u;++a){var f=l[a];if(f)return f}return null}function XE(){let e=0;for(const t of this)++e;return e}function KE(){return!this.node()}function QE(e){for(var t=this._groups,o=0,l=t.length;o<l;++o)for(var a=t[o],u=0,f=a.length,p;u<f;++u)(p=a[u])&&e.call(p,p.__data__,u,a);return this}function ZE(e){return function(){this.removeAttribute(e)}}function $E(e){return function(){this.removeAttributeNS(e.space,e.local)}}function WE(e,t){return function(){this.setAttribute(e,t)}}function jE(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function tA(e,t){return function(){var o=t.apply(this,arguments);o==null?this.removeAttribute(e):this.setAttribute(e,o)}}function eA(e,t){return function(){var o=t.apply(this,arguments);o==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,o)}}function nA(e,t){var o=gs(e);if(arguments.length<2){var l=this.node();return o.local?l.getAttributeNS(o.space,o.local):l.getAttribute(o)}return this.each((t==null?o.local?$E:ZE:typeof t=="function"?o.local?eA:tA:o.local?jE:WE)(o,t))}function Xy(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function iA(e){return function(){this.style.removeProperty(e)}}function oA(e,t,o){return function(){this.style.setProperty(e,t,o)}}function lA(e,t,o){return function(){var l=t.apply(this,arguments);l==null?this.style.removeProperty(e):this.style.setProperty(e,l,o)}}function rA(e,t,o){return arguments.length>1?this.each((t==null?iA:typeof t=="function"?lA:oA)(e,t,o??"")):qo(this.node(),e)}function qo(e,t){return e.style.getPropertyValue(t)||Xy(e).getComputedStyle(e,null).getPropertyValue(t)}function aA(e){return function(){delete this[e]}}function sA(e,t){return function(){this[e]=t}}function uA(e,t){return function(){var o=t.apply(this,arguments);o==null?delete this[e]:this[e]=o}}function cA(e,t){return arguments.length>1?this.each((t==null?aA:typeof t=="function"?uA:sA)(e,t)):this.node()[e]}function Ky(e){return e.trim().split(/^|\s+/)}function Kf(e){return e.classList||new Qy(e)}function Qy(e){this._node=e,this._names=Ky(e.getAttribute("class")||"")}Qy.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Zy(e,t){for(var o=Kf(e),l=-1,a=t.length;++l<a;)o.add(t[l])}function $y(e,t){for(var o=Kf(e),l=-1,a=t.length;++l<a;)o.remove(t[l])}function fA(e){return function(){Zy(this,e)}}function dA(e){return function(){$y(this,e)}}function hA(e,t){return function(){(t.apply(this,arguments)?Zy:$y)(this,e)}}function pA(e,t){var o=Ky(e+"");if(arguments.length<2){for(var l=Kf(this.node()),a=-1,u=o.length;++a<u;)if(!l.contains(o[a]))return!1;return!0}return this.each((typeof t=="function"?hA:t?fA:dA)(o,t))}function mA(){this.textContent=""}function gA(e){return function(){this.textContent=e}}function yA(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function vA(e){return arguments.length?this.each(e==null?mA:(typeof e=="function"?yA:gA)(e)):this.node().textContent}function _A(){this.innerHTML=""}function SA(e){return function(){this.innerHTML=e}}function TA(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function EA(e){return arguments.length?this.each(e==null?_A:(typeof e=="function"?TA:SA)(e)):this.node().innerHTML}function AA(){this.nextSibling&&this.parentNode.appendChild(this)}function CA(){return this.each(AA)}function RA(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function xA(){return this.each(RA)}function MA(e){var t=typeof e=="function"?e:ky(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function wA(){return null}function NA(e,t){var o=typeof e=="function"?e:ky(e),l=t==null?wA:typeof t=="function"?t:Xf(t);return this.select(function(){return this.insertBefore(o.apply(this,arguments),l.apply(this,arguments)||null)})}function IA(){var e=this.parentNode;e&&e.removeChild(this)}function DA(){return this.each(IA)}function bA(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function UA(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function LA(e){return this.select(e?UA:bA)}function GA(e){return arguments.length?this.property("__data__",e):this.node().__data__}function HA(e){return function(t){e.call(this,t,this.__data__)}}function zA(e){return e.trim().split(/^|\s+/).map(function(t){var o="",l=t.indexOf(".");return l>=0&&(o=t.slice(l+1),t=t.slice(0,l)),{type:t,name:o}})}function qA(e){return function(){var t=this.__on;if(t){for(var o=0,l=-1,a=t.length,u;o<a;++o)u=t[o],(!e.type||u.type===e.type)&&u.name===e.name?this.removeEventListener(u.type,u.listener,u.options):t[++l]=u;++l?t.length=l:delete this.__on}}}function VA(e,t,o){return function(){var l=this.__on,a,u=HA(t);if(l){for(var f=0,p=l.length;f<p;++f)if((a=l[f]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=u,a.options=o),a.value=t;return}}this.addEventListener(e.type,u,o),a={type:e.type,name:e.name,value:t,listener:u,options:o},l?l.push(a):this.__on=[a]}}function PA(e,t,o){var l=zA(e+""),a,u=l.length,f;if(arguments.length<2){var p=this.node().__on;if(p){for(var y=0,m=p.length,v;y<m;++y)for(a=0,v=p[y];a<u;++a)if((f=l[a]).type===v.type&&f.name===v.name)return v.value}return}for(p=t?VA:qA,a=0;a<u;++a)this.each(p(l[a],t,o));return this}function Wy(e,t,o){var l=Xy(e),a=l.CustomEvent;typeof a=="function"?a=new a(t,o):(a=l.document.createEvent("Event"),o?(a.initEvent(t,o.bubbles,o.cancelable),a.detail=o.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function BA(e,t){return function(){return Wy(this,e,t)}}function kA(e,t){return function(){return Wy(this,e,t.apply(this,arguments))}}function OA(e,t){return this.each((typeof t=="function"?kA:BA)(e,t))}function*FA(){for(var e=this._groups,t=0,o=e.length;t<o;++t)for(var l=e[t],a=0,u=l.length,f;a<u;++a)(f=l[a])&&(yield f)}var jy=[null];function Ue(e,t){this._groups=e,this._parents=t}function rr(){return new Ue([[document.documentElement]],jy)}function YA(){return this}Ue.prototype=rr.prototype={constructor:Ue,select:yE,selectAll:TE,selectChild:RE,selectChildren:NE,filter:IE,data:HE,enter:DE,exit:qE,join:VE,merge:PE,selection:YA,order:BE,sort:kE,call:FE,nodes:YE,node:JE,size:XE,empty:KE,each:QE,attr:nA,style:rA,property:cA,classed:pA,text:vA,html:EA,raise:CA,lower:xA,append:MA,insert:NA,remove:DA,clone:LA,datum:GA,on:PA,dispatch:OA,[Symbol.iterator]:FA};function Fe(e){return typeof e=="string"?new Ue([[document.querySelector(e)]],[document.documentElement]):new Ue([[e]],jy)}function JA(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Ln(e,t){if(e=JA(e),t===void 0&&(t=e.currentTarget),t){var o=t.ownerSVGElement||t;if(o.createSVGPoint){var l=o.createSVGPoint();return l.x=e.clientX,l.y=e.clientY,l=l.matrixTransform(t.getScreenCTM().inverse()),[l.x,l.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}const XA={passive:!1},jl={capture:!0,passive:!1};function $c(e){e.stopImmediatePropagation()}function Lo(e){e.preventDefault(),e.stopImmediatePropagation()}function tv(e){var t=e.document.documentElement,o=Fe(e).on("dragstart.drag",Lo,jl);"onselectstart"in t?o.on("selectstart.drag",Lo,jl):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function ev(e,t){var o=e.document.documentElement,l=Fe(e).on("dragstart.drag",null);t&&(l.on("click.drag",Lo,jl),setTimeout(function(){l.on("click.drag",null)},0)),"onselectstart"in o?l.on("selectstart.drag",null):(o.style.MozUserSelect=o.__noselect,delete o.__noselect)}const xa=e=>()=>e;function cf(e,{sourceEvent:t,subject:o,target:l,identifier:a,active:u,x:f,y:p,dx:y,dy:m,dispatch:v}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:o,enumerable:!0,configurable:!0},target:{value:l,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:u,enumerable:!0,configurable:!0},x:{value:f,enumerable:!0,configurable:!0},y:{value:p,enumerable:!0,configurable:!0},dx:{value:y,enumerable:!0,configurable:!0},dy:{value:m,enumerable:!0,configurable:!0},_:{value:v}})}cf.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function KA(e){return!e.ctrlKey&&!e.button}function QA(){return this.parentNode}function ZA(e,t){return t??{x:e.x,y:e.y}}function $A(){return navigator.maxTouchPoints||"ontouchstart"in this}function WA(){var e=KA,t=QA,o=ZA,l=$A,a={},u=ms("start","drag","end"),f=0,p,y,m,v,_=0;function S(b){b.on("mousedown.drag",E).filter(l).on("touchstart.drag",w).on("touchmove.drag",I,XA).on("touchend.drag touchcancel.drag",O).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function E(b,X){if(!(v||!e.call(this,b,X))){var k=U(this,t.call(this,b,X),b,X,"mouse");k&&(Fe(b.view).on("mousemove.drag",C,jl).on("mouseup.drag",N,jl),tv(b.view),$c(b),m=!1,p=b.clientX,y=b.clientY,k("start",b))}}function C(b){if(Lo(b),!m){var X=b.clientX-p,k=b.clientY-y;m=X*X+k*k>_}a.mouse("drag",b)}function N(b){Fe(b.view).on("mousemove.drag mouseup.drag",null),ev(b.view,m),Lo(b),a.mouse("end",b)}function w(b,X){if(e.call(this,b,X)){var k=b.changedTouches,F=t.call(this,b,X),W=k.length,K,ot;for(K=0;K<W;++K)(ot=U(this,F,b,X,k[K].identifier,k[K]))&&($c(b),ot("start",b,k[K]))}}function I(b){var X=b.changedTouches,k=X.length,F,W;for(F=0;F<k;++F)(W=a[X[F].identifier])&&(Lo(b),W("drag",b,X[F]))}function O(b){var X=b.changedTouches,k=X.length,F,W;for(v&&clearTimeout(v),v=setTimeout(function(){v=null},500),F=0;F<k;++F)(W=a[X[F].identifier])&&($c(b),W("end",b,X[F]))}function U(b,X,k,F,W,K){var ot=u.copy(),it=Ln(K||k,X),pt,ct,L;if((L=o.call(b,new cf("beforestart",{sourceEvent:k,target:S,identifier:W,active:f,x:it[0],y:it[1],dx:0,dy:0,dispatch:ot}),F))!=null)return pt=L.x-it[0]||0,ct=L.y-it[1]||0,function H(R,V,Y){var tt=it,nt;switch(R){case"start":a[W]=H,nt=f++;break;case"end":delete a[W],--f;case"drag":it=Ln(Y||V,X),nt=f;break}ot.call(R,b,new cf(R,{sourceEvent:V,subject:L,target:S,identifier:W,active:nt,x:it[0]+pt,y:it[1]+ct,dx:it[0]-tt[0],dy:it[1]-tt[1],dispatch:ot}),F)}}return S.filter=function(b){return arguments.length?(e=typeof b=="function"?b:xa(!!b),S):e},S.container=function(b){return arguments.length?(t=typeof b=="function"?b:xa(b),S):t},S.subject=function(b){return arguments.length?(o=typeof b=="function"?b:xa(b),S):o},S.touchable=function(b){return arguments.length?(l=typeof b=="function"?b:xa(!!b),S):l},S.on=function(){var b=u.on.apply(u,arguments);return b===u?S:b},S.clickDistance=function(b){return arguments.length?(_=(b=+b)*b,S):Math.sqrt(_)},S}function Qf(e,t,o){e.prototype=t.prototype=o,o.constructor=e}function nv(e,t){var o=Object.create(e.prototype);for(var l in t)o[l]=t[l];return o}function ar(){}var tr=.7,Za=1/tr,Go="\\s*([+-]?\\d+)\\s*",er="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",dn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jA=/^#([0-9a-f]{3,8})$/,tC=new RegExp(`^rgb\\(${Go},${Go},${Go}\\)$`),eC=new RegExp(`^rgb\\(${dn},${dn},${dn}\\)$`),nC=new RegExp(`^rgba\\(${Go},${Go},${Go},${er}\\)$`),iC=new RegExp(`^rgba\\(${dn},${dn},${dn},${er}\\)$`),oC=new RegExp(`^hsl\\(${er},${dn},${dn}\\)$`),lC=new RegExp(`^hsla\\(${er},${dn},${dn},${er}\\)$`),Cg={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Qf(ar,nr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Rg,formatHex:Rg,formatHex8:rC,formatHsl:aC,formatRgb:xg,toString:xg});function Rg(){return this.rgb().formatHex()}function rC(){return this.rgb().formatHex8()}function aC(){return iv(this).formatHsl()}function xg(){return this.rgb().formatRgb()}function nr(e){var t,o;return e=(e+"").trim().toLowerCase(),(t=jA.exec(e))?(o=t[1].length,t=parseInt(t[1],16),o===6?Mg(t):o===3?new Te(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):o===8?Ma(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):o===4?Ma(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=tC.exec(e))?new Te(t[1],t[2],t[3],1):(t=eC.exec(e))?new Te(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=nC.exec(e))?Ma(t[1],t[2],t[3],t[4]):(t=iC.exec(e))?Ma(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=oC.exec(e))?Ig(t[1],t[2]/100,t[3]/100,1):(t=lC.exec(e))?Ig(t[1],t[2]/100,t[3]/100,t[4]):Cg.hasOwnProperty(e)?Mg(Cg[e]):e==="transparent"?new Te(NaN,NaN,NaN,0):null}function Mg(e){return new Te(e>>16&255,e>>8&255,e&255,1)}function Ma(e,t,o,l){return l<=0&&(e=t=o=NaN),new Te(e,t,o,l)}function sC(e){return e instanceof ar||(e=nr(e)),e?(e=e.rgb(),new Te(e.r,e.g,e.b,e.opacity)):new Te}function ff(e,t,o,l){return arguments.length===1?sC(e):new Te(e,t,o,l??1)}function Te(e,t,o,l){this.r=+e,this.g=+t,this.b=+o,this.opacity=+l}Qf(Te,ff,nv(ar,{brighter(e){return e=e==null?Za:Math.pow(Za,e),new Te(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?tr:Math.pow(tr,e),new Te(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Te(zi(this.r),zi(this.g),zi(this.b),$a(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:wg,formatHex:wg,formatHex8:uC,formatRgb:Ng,toString:Ng}));function wg(){return`#${Hi(this.r)}${Hi(this.g)}${Hi(this.b)}`}function uC(){return`#${Hi(this.r)}${Hi(this.g)}${Hi(this.b)}${Hi((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ng(){const e=$a(this.opacity);return`${e===1?"rgb(":"rgba("}${zi(this.r)}, ${zi(this.g)}, ${zi(this.b)}${e===1?")":`, ${e})`}`}function $a(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function zi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Hi(e){return e=zi(e),(e<16?"0":"")+e.toString(16)}function Ig(e,t,o,l){return l<=0?e=t=o=NaN:o<=0||o>=1?e=t=NaN:t<=0&&(e=NaN),new tn(e,t,o,l)}function iv(e){if(e instanceof tn)return new tn(e.h,e.s,e.l,e.opacity);if(e instanceof ar||(e=nr(e)),!e)return new tn;if(e instanceof tn)return e;e=e.rgb();var t=e.r/255,o=e.g/255,l=e.b/255,a=Math.min(t,o,l),u=Math.max(t,o,l),f=NaN,p=u-a,y=(u+a)/2;return p?(t===u?f=(o-l)/p+(o<l)*6:o===u?f=(l-t)/p+2:f=(t-o)/p+4,p/=y<.5?u+a:2-u-a,f*=60):p=y>0&&y<1?0:f,new tn(f,p,y,e.opacity)}function cC(e,t,o,l){return arguments.length===1?iv(e):new tn(e,t,o,l??1)}function tn(e,t,o,l){this.h=+e,this.s=+t,this.l=+o,this.opacity=+l}Qf(tn,cC,nv(ar,{brighter(e){return e=e==null?Za:Math.pow(Za,e),new tn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?tr:Math.pow(tr,e),new tn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,o=this.l,l=o+(o<.5?o:1-o)*t,a=2*o-l;return new Te(Wc(e>=240?e-240:e+120,a,l),Wc(e,a,l),Wc(e<120?e+240:e-120,a,l),this.opacity)},clamp(){return new tn(Dg(this.h),wa(this.s),wa(this.l),$a(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=$a(this.opacity);return`${e===1?"hsl(":"hsla("}${Dg(this.h)}, ${wa(this.s)*100}%, ${wa(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Dg(e){return e=(e||0)%360,e<0?e+360:e}function wa(e){return Math.max(0,Math.min(1,e||0))}function Wc(e,t,o){return(e<60?t+(o-t)*e/60:e<180?o:e<240?t+(o-t)*(240-e)/60:t)*255}const ov=e=>()=>e;function fC(e,t){return function(o){return e+o*t}}function dC(e,t,o){return e=Math.pow(e,o),t=Math.pow(t,o)-e,o=1/o,function(l){return Math.pow(e+l*t,o)}}function hC(e){return(e=+e)==1?lv:function(t,o){return o-t?dC(t,o,e):ov(isNaN(t)?o:t)}}function lv(e,t){var o=t-e;return o?fC(e,o):ov(isNaN(e)?t:e)}const bg=(function e(t){var o=hC(t);function l(a,u){var f=o((a=ff(a)).r,(u=ff(u)).r),p=o(a.g,u.g),y=o(a.b,u.b),m=lv(a.opacity,u.opacity);return function(v){return a.r=f(v),a.g=p(v),a.b=y(v),a.opacity=m(v),a+""}}return l.gamma=e,l})(1);function di(e,t){return e=+e,t=+t,function(o){return e*(1-o)+t*o}}var df=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jc=new RegExp(df.source,"g");function pC(e){return function(){return e}}function mC(e){return function(t){return e(t)+""}}function gC(e,t){var o=df.lastIndex=jc.lastIndex=0,l,a,u,f=-1,p=[],y=[];for(e=e+"",t=t+"";(l=df.exec(e))&&(a=jc.exec(t));)(u=a.index)>o&&(u=t.slice(o,u),p[f]?p[f]+=u:p[++f]=u),(l=l[0])===(a=a[0])?p[f]?p[f]+=a:p[++f]=a:(p[++f]=null,y.push({i:f,x:di(l,a)})),o=jc.lastIndex;return o<t.length&&(u=t.slice(o),p[f]?p[f]+=u:p[++f]=u),p.length<2?y[0]?mC(y[0].x):pC(t):(t=y.length,function(m){for(var v=0,_;v<t;++v)p[(_=y[v]).i]=_.x(m);return p.join("")})}var Ug=180/Math.PI,hf={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function rv(e,t,o,l,a,u){var f,p,y;return(f=Math.sqrt(e*e+t*t))&&(e/=f,t/=f),(y=e*o+t*l)&&(o-=e*y,l-=t*y),(p=Math.sqrt(o*o+l*l))&&(o/=p,l/=p,y/=p),e*l<t*o&&(e=-e,t=-t,y=-y,f=-f),{translateX:a,translateY:u,rotate:Math.atan2(t,e)*Ug,skewX:Math.atan(y)*Ug,scaleX:f,scaleY:p}}var Na;function yC(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?hf:rv(t.a,t.b,t.c,t.d,t.e,t.f)}function vC(e){return e==null||(Na||(Na=document.createElementNS("http://www.w3.org/2000/svg","g")),Na.setAttribute("transform",e),!(e=Na.transform.baseVal.consolidate()))?hf:(e=e.matrix,rv(e.a,e.b,e.c,e.d,e.e,e.f))}function av(e,t,o,l){function a(m){return m.length?m.pop()+" ":""}function u(m,v,_,S,E,C){if(m!==_||v!==S){var N=E.push("translate(",null,t,null,o);C.push({i:N-4,x:di(m,_)},{i:N-2,x:di(v,S)})}else(_||S)&&E.push("translate("+_+t+S+o)}function f(m,v,_,S){m!==v?(m-v>180?v+=360:v-m>180&&(m+=360),S.push({i:_.push(a(_)+"rotate(",null,l)-2,x:di(m,v)})):v&&_.push(a(_)+"rotate("+v+l)}function p(m,v,_,S){m!==v?S.push({i:_.push(a(_)+"skewX(",null,l)-2,x:di(m,v)}):v&&_.push(a(_)+"skewX("+v+l)}function y(m,v,_,S,E,C){if(m!==_||v!==S){var N=E.push(a(E)+"scale(",null,",",null,")");C.push({i:N-4,x:di(m,_)},{i:N-2,x:di(v,S)})}else(_!==1||S!==1)&&E.push(a(E)+"scale("+_+","+S+")")}return function(m,v){var _=[],S=[];return m=e(m),v=e(v),u(m.translateX,m.translateY,v.translateX,v.translateY,_,S),f(m.rotate,v.rotate,_,S),p(m.skewX,v.skewX,_,S),y(m.scaleX,m.scaleY,v.scaleX,v.scaleY,_,S),m=v=null,function(E){for(var C=-1,N=S.length,w;++C<N;)_[(w=S[C]).i]=w.x(E);return _.join("")}}}var _C=av(yC,"px, ","px)","deg)"),SC=av(vC,", ",")",")"),TC=1e-12;function Lg(e){return((e=Math.exp(e))+1/e)/2}function EC(e){return((e=Math.exp(e))-1/e)/2}function AC(e){return((e=Math.exp(2*e))-1)/(e+1)}const CC=(function e(t,o,l){function a(u,f){var p=u[0],y=u[1],m=u[2],v=f[0],_=f[1],S=f[2],E=v-p,C=_-y,N=E*E+C*C,w,I;if(N<TC)I=Math.log(S/m)/t,w=function(F){return[p+F*E,y+F*C,m*Math.exp(t*F*I)]};else{var O=Math.sqrt(N),U=(S*S-m*m+l*N)/(2*m*o*O),b=(S*S-m*m-l*N)/(2*S*o*O),X=Math.log(Math.sqrt(U*U+1)-U),k=Math.log(Math.sqrt(b*b+1)-b);I=(k-X)/t,w=function(F){var W=F*I,K=Lg(X),ot=m/(o*O)*(K*AC(t*W+X)-EC(X));return[p+ot*E,y+ot*C,m*K/Lg(t*W+X)]}}return w.duration=I*1e3*t/Math.SQRT2,w}return a.rho=function(u){var f=Math.max(.001,+u),p=f*f,y=p*p;return e(f,p,y)},a})(Math.SQRT2,2,4);var Vo=0,Yl=0,Bl=0,sv=1e3,Wa,Jl,ja=0,Vi=0,ys=0,ir=typeof performance=="object"&&performance.now?performance:Date,uv=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Zf(){return Vi||(uv(RC),Vi=ir.now()+ys)}function RC(){Vi=0}function ts(){this._call=this._time=this._next=null}ts.prototype=cv.prototype={constructor:ts,restart:function(e,t,o){if(typeof e!="function")throw new TypeError("callback is not a function");o=(o==null?Zf():+o)+(t==null?0:+t),!this._next&&Jl!==this&&(Jl?Jl._next=this:Wa=this,Jl=this),this._call=e,this._time=o,pf()},stop:function(){this._call&&(this._call=null,this._time=1/0,pf())}};function cv(e,t,o){var l=new ts;return l.restart(e,t,o),l}function xC(){Zf(),++Vo;for(var e=Wa,t;e;)(t=Vi-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Vo}function Gg(){Vi=(ja=ir.now())+ys,Vo=Yl=0;try{xC()}finally{Vo=0,wC(),Vi=0}}function MC(){var e=ir.now(),t=e-ja;t>sv&&(ys-=t,ja=e)}function wC(){for(var e,t=Wa,o,l=1/0;t;)t._call?(l>t._time&&(l=t._time),e=t,t=t._next):(o=t._next,t._next=null,t=e?e._next=o:Wa=o);Jl=e,pf(l)}function pf(e){if(!Vo){Yl&&(Yl=clearTimeout(Yl));var t=e-Vi;t>24?(e<1/0&&(Yl=setTimeout(Gg,e-ir.now()-ys)),Bl&&(Bl=clearInterval(Bl))):(Bl||(ja=ir.now(),Bl=setInterval(MC,sv)),Vo=1,uv(Gg))}}function Hg(e,t,o){var l=new ts;return t=t==null?0:+t,l.restart(a=>{l.stop(),e(a+t)},t,o),l}var NC=ms("start","end","cancel","interrupt"),IC=[],fv=0,zg=1,mf=2,Oa=3,qg=4,gf=5,Fa=6;function vs(e,t,o,l,a,u){var f=e.__transition;if(!f)e.__transition={};else if(o in f)return;DC(e,o,{name:t,index:l,group:a,on:NC,tween:IC,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:fv})}function $f(e,t){var o=on(e,t);if(o.state>fv)throw new Error("too late; already scheduled");return o}function hn(e,t){var o=on(e,t);if(o.state>Oa)throw new Error("too late; already running");return o}function on(e,t){var o=e.__transition;if(!o||!(o=o[t]))throw new Error("transition not found");return o}function DC(e,t,o){var l=e.__transition,a;l[t]=o,o.timer=cv(u,0,o.time);function u(m){o.state=zg,o.timer.restart(f,o.delay,o.time),o.delay<=m&&f(m-o.delay)}function f(m){var v,_,S,E;if(o.state!==zg)return y();for(v in l)if(E=l[v],E.name===o.name){if(E.state===Oa)return Hg(f);E.state===qg?(E.state=Fa,E.timer.stop(),E.on.call("interrupt",e,e.__data__,E.index,E.group),delete l[v]):+v<t&&(E.state=Fa,E.timer.stop(),E.on.call("cancel",e,e.__data__,E.index,E.group),delete l[v])}if(Hg(function(){o.state===Oa&&(o.state=qg,o.timer.restart(p,o.delay,o.time),p(m))}),o.state=mf,o.on.call("start",e,e.__data__,o.index,o.group),o.state===mf){for(o.state=Oa,a=new Array(S=o.tween.length),v=0,_=-1;v<S;++v)(E=o.tween[v].value.call(e,e.__data__,o.index,o.group))&&(a[++_]=E);a.length=_+1}}function p(m){for(var v=m<o.duration?o.ease.call(null,m/o.duration):(o.timer.restart(y),o.state=gf,1),_=-1,S=a.length;++_<S;)a[_].call(e,v);o.state===gf&&(o.on.call("end",e,e.__data__,o.index,o.group),y())}function y(){o.state=Fa,o.timer.stop(),delete l[t];for(var m in l)return;delete e.__transition}}function Ya(e,t){var o=e.__transition,l,a,u=!0,f;if(o){t=t==null?null:t+"";for(f in o){if((l=o[f]).name!==t){u=!1;continue}a=l.state>mf&&l.state<gf,l.state=Fa,l.timer.stop(),l.on.call(a?"interrupt":"cancel",e,e.__data__,l.index,l.group),delete o[f]}u&&delete e.__transition}}function bC(e){return this.each(function(){Ya(this,e)})}function UC(e,t){var o,l;return function(){var a=hn(this,e),u=a.tween;if(u!==o){l=o=u;for(var f=0,p=l.length;f<p;++f)if(l[f].name===t){l=l.slice(),l.splice(f,1);break}}a.tween=l}}function LC(e,t,o){var l,a;if(typeof o!="function")throw new Error;return function(){var u=hn(this,e),f=u.tween;if(f!==l){a=(l=f).slice();for(var p={name:t,value:o},y=0,m=a.length;y<m;++y)if(a[y].name===t){a[y]=p;break}y===m&&a.push(p)}u.tween=a}}function GC(e,t){var o=this._id;if(e+="",arguments.length<2){for(var l=on(this.node(),o).tween,a=0,u=l.length,f;a<u;++a)if((f=l[a]).name===e)return f.value;return null}return this.each((t==null?UC:LC)(o,e,t))}function Wf(e,t,o){var l=e._id;return e.each(function(){var a=hn(this,l);(a.value||(a.value={}))[t]=o.apply(this,arguments)}),function(a){return on(a,l).value[t]}}function dv(e,t){var o;return(typeof t=="number"?di:t instanceof nr?bg:(o=nr(t))?(t=o,bg):gC)(e,t)}function HC(e){return function(){this.removeAttribute(e)}}function zC(e){return function(){this.removeAttributeNS(e.space,e.local)}}function qC(e,t,o){var l,a=o+"",u;return function(){var f=this.getAttribute(e);return f===a?null:f===l?u:u=t(l=f,o)}}function VC(e,t,o){var l,a=o+"",u;return function(){var f=this.getAttributeNS(e.space,e.local);return f===a?null:f===l?u:u=t(l=f,o)}}function PC(e,t,o){var l,a,u;return function(){var f,p=o(this),y;return p==null?void this.removeAttribute(e):(f=this.getAttribute(e),y=p+"",f===y?null:f===l&&y===a?u:(a=y,u=t(l=f,p)))}}function BC(e,t,o){var l,a,u;return function(){var f,p=o(this),y;return p==null?void this.removeAttributeNS(e.space,e.local):(f=this.getAttributeNS(e.space,e.local),y=p+"",f===y?null:f===l&&y===a?u:(a=y,u=t(l=f,p)))}}function kC(e,t){var o=gs(e),l=o==="transform"?SC:dv;return this.attrTween(e,typeof t=="function"?(o.local?BC:PC)(o,l,Wf(this,"attr."+e,t)):t==null?(o.local?zC:HC)(o):(o.local?VC:qC)(o,l,t))}function OC(e,t){return function(o){this.setAttribute(e,t.call(this,o))}}function FC(e,t){return function(o){this.setAttributeNS(e.space,e.local,t.call(this,o))}}function YC(e,t){var o,l;function a(){var u=t.apply(this,arguments);return u!==l&&(o=(l=u)&&FC(e,u)),o}return a._value=t,a}function JC(e,t){var o,l;function a(){var u=t.apply(this,arguments);return u!==l&&(o=(l=u)&&OC(e,u)),o}return a._value=t,a}function XC(e,t){var o="attr."+e;if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;var l=gs(e);return this.tween(o,(l.local?YC:JC)(l,t))}function KC(e,t){return function(){$f(this,e).delay=+t.apply(this,arguments)}}function QC(e,t){return t=+t,function(){$f(this,e).delay=t}}function ZC(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?KC:QC)(t,e)):on(this.node(),t).delay}function $C(e,t){return function(){hn(this,e).duration=+t.apply(this,arguments)}}function WC(e,t){return t=+t,function(){hn(this,e).duration=t}}function jC(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?$C:WC)(t,e)):on(this.node(),t).duration}function t1(e,t){if(typeof t!="function")throw new Error;return function(){hn(this,e).ease=t}}function e1(e){var t=this._id;return arguments.length?this.each(t1(t,e)):on(this.node(),t).ease}function n1(e,t){return function(){var o=t.apply(this,arguments);if(typeof o!="function")throw new Error;hn(this,e).ease=o}}function i1(e){if(typeof e!="function")throw new Error;return this.each(n1(this._id,e))}function o1(e){typeof e!="function"&&(e=Fy(e));for(var t=this._groups,o=t.length,l=new Array(o),a=0;a<o;++a)for(var u=t[a],f=u.length,p=l[a]=[],y,m=0;m<f;++m)(y=u[m])&&e.call(y,y.__data__,m,u)&&p.push(y);return new zn(l,this._parents,this._name,this._id)}function l1(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,o=e._groups,l=t.length,a=o.length,u=Math.min(l,a),f=new Array(l),p=0;p<u;++p)for(var y=t[p],m=o[p],v=y.length,_=f[p]=new Array(v),S,E=0;E<v;++E)(S=y[E]||m[E])&&(_[E]=S);for(;p<l;++p)f[p]=t[p];return new zn(f,this._parents,this._name,this._id)}function r1(e){return(e+"").trim().split(/^|\s+/).every(function(t){var o=t.indexOf(".");return o>=0&&(t=t.slice(0,o)),!t||t==="start"})}function a1(e,t,o){var l,a,u=r1(t)?$f:hn;return function(){var f=u(this,e),p=f.on;p!==l&&(a=(l=p).copy()).on(t,o),f.on=a}}function s1(e,t){var o=this._id;return arguments.length<2?on(this.node(),o).on.on(e):this.each(a1(o,e,t))}function u1(e){return function(){var t=this.parentNode;for(var o in this.__transition)if(+o!==e)return;t&&t.removeChild(this)}}function c1(){return this.on("end.remove",u1(this._id))}function f1(e){var t=this._name,o=this._id;typeof e!="function"&&(e=Xf(e));for(var l=this._groups,a=l.length,u=new Array(a),f=0;f<a;++f)for(var p=l[f],y=p.length,m=u[f]=new Array(y),v,_,S=0;S<y;++S)(v=p[S])&&(_=e.call(v,v.__data__,S,p))&&("__data__"in v&&(_.__data__=v.__data__),m[S]=_,vs(m[S],t,o,S,m,on(v,o)));return new zn(u,this._parents,t,o)}function d1(e){var t=this._name,o=this._id;typeof e!="function"&&(e=Oy(e));for(var l=this._groups,a=l.length,u=[],f=[],p=0;p<a;++p)for(var y=l[p],m=y.length,v,_=0;_<m;++_)if(v=y[_]){for(var S=e.call(v,v.__data__,_,y),E,C=on(v,o),N=0,w=S.length;N<w;++N)(E=S[N])&&vs(E,t,o,N,S,C);u.push(S),f.push(v)}return new zn(u,f,t,o)}var h1=rr.prototype.constructor;function p1(){return new h1(this._groups,this._parents)}function m1(e,t){var o,l,a;return function(){var u=qo(this,e),f=(this.style.removeProperty(e),qo(this,e));return u===f?null:u===o&&f===l?a:a=t(o=u,l=f)}}function hv(e){return function(){this.style.removeProperty(e)}}function g1(e,t,o){var l,a=o+"",u;return function(){var f=qo(this,e);return f===a?null:f===l?u:u=t(l=f,o)}}function y1(e,t,o){var l,a,u;return function(){var f=qo(this,e),p=o(this),y=p+"";return p==null&&(y=p=(this.style.removeProperty(e),qo(this,e))),f===y?null:f===l&&y===a?u:(a=y,u=t(l=f,p))}}function v1(e,t){var o,l,a,u="style."+t,f="end."+u,p;return function(){var y=hn(this,e),m=y.on,v=y.value[u]==null?p||(p=hv(t)):void 0;(m!==o||a!==v)&&(l=(o=m).copy()).on(f,a=v),y.on=l}}function _1(e,t,o){var l=(e+="")=="transform"?_C:dv;return t==null?this.styleTween(e,m1(e,l)).on("end.style."+e,hv(e)):typeof t=="function"?this.styleTween(e,y1(e,l,Wf(this,"style."+e,t))).each(v1(this._id,e)):this.styleTween(e,g1(e,l,t),o).on("end.style."+e,null)}function S1(e,t,o){return function(l){this.style.setProperty(e,t.call(this,l),o)}}function T1(e,t,o){var l,a;function u(){var f=t.apply(this,arguments);return f!==a&&(l=(a=f)&&S1(e,f,o)),l}return u._value=t,u}function E1(e,t,o){var l="style."+(e+="");if(arguments.length<2)return(l=this.tween(l))&&l._value;if(t==null)return this.tween(l,null);if(typeof t!="function")throw new Error;return this.tween(l,T1(e,t,o??""))}function A1(e){return function(){this.textContent=e}}function C1(e){return function(){var t=e(this);this.textContent=t??""}}function R1(e){return this.tween("text",typeof e=="function"?C1(Wf(this,"text",e)):A1(e==null?"":e+""))}function x1(e){return function(t){this.textContent=e.call(this,t)}}function M1(e){var t,o;function l(){var a=e.apply(this,arguments);return a!==o&&(t=(o=a)&&x1(a)),t}return l._value=e,l}function w1(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,M1(e))}function N1(){for(var e=this._name,t=this._id,o=pv(),l=this._groups,a=l.length,u=0;u<a;++u)for(var f=l[u],p=f.length,y,m=0;m<p;++m)if(y=f[m]){var v=on(y,t);vs(y,e,o,m,f,{time:v.time+v.delay+v.duration,delay:0,duration:v.duration,ease:v.ease})}return new zn(l,this._parents,e,o)}function I1(){var e,t,o=this,l=o._id,a=o.size();return new Promise(function(u,f){var p={value:f},y={value:function(){--a===0&&u()}};o.each(function(){var m=hn(this,l),v=m.on;v!==e&&(t=(e=v).copy(),t._.cancel.push(p),t._.interrupt.push(p),t._.end.push(y)),m.on=t}),a===0&&u()})}var D1=0;function zn(e,t,o,l){this._groups=e,this._parents=t,this._name=o,this._id=l}function pv(){return++D1}var bn=rr.prototype;zn.prototype={constructor:zn,select:f1,selectAll:d1,selectChild:bn.selectChild,selectChildren:bn.selectChildren,filter:o1,merge:l1,selection:p1,transition:N1,call:bn.call,nodes:bn.nodes,node:bn.node,size:bn.size,empty:bn.empty,each:bn.each,on:s1,attr:kC,attrTween:XC,style:_1,styleTween:E1,text:R1,textTween:w1,remove:c1,tween:GC,delay:ZC,duration:jC,ease:e1,easeVarying:i1,end:I1,[Symbol.iterator]:bn[Symbol.iterator]};function b1(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var U1={time:null,delay:0,duration:250,ease:b1};function L1(e,t){for(var o;!(o=e.__transition)||!(o=o[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return o}function G1(e){var t,o;e instanceof zn?(t=e._id,e=e._name):(t=pv(),(o=U1).time=Zf(),e=e==null?null:e+"");for(var l=this._groups,a=l.length,u=0;u<a;++u)for(var f=l[u],p=f.length,y,m=0;m<p;++m)(y=f[m])&&vs(y,e,t,m,f,o||L1(y,t));return new zn(l,this._parents,e,t)}rr.prototype.interrupt=bC;rr.prototype.transition=G1;var Rt=1e-6,xt=Math.PI,Je=xt/2,Vg=xt/4,Qe=xt*2,Un=180/xt,be=xt/180,Ft=Math.abs,mv=Math.atan,Po=Math.atan2,Ot=Math.cos,Ia=Math.ceil,qt=Math.sin,H1=Math.sign||function(e){return e>0?1:e<0?-1:0},pi=Math.sqrt;function z1(e){return e>1?0:e<-1?xt:Math.acos(e)}function Pi(e){return e>1?Je:e<-1?-Je:Math.asin(e)}function Xe(){}function es(e,t){e&&Bg.hasOwnProperty(e.type)&&Bg[e.type](e,t)}var Pg={Feature:function(e,t){es(e.geometry,t)},FeatureCollection:function(e,t){for(var o=e.features,l=-1,a=o.length;++l<a;)es(o[l].geometry,t)}},Bg={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var o=e.coordinates,l=-1,a=o.length;++l<a;)e=o[l],t.point(e[0],e[1],e[2])},LineString:function(e,t){yf(e.coordinates,t,0)},MultiLineString:function(e,t){for(var o=e.coordinates,l=-1,a=o.length;++l<a;)yf(o[l],t,0)},Polygon:function(e,t){kg(e.coordinates,t)},MultiPolygon:function(e,t){for(var o=e.coordinates,l=-1,a=o.length;++l<a;)kg(o[l],t)},GeometryCollection:function(e,t){for(var o=e.geometries,l=-1,a=o.length;++l<a;)es(o[l],t)}};function yf(e,t,o){var l=-1,a=e.length-o,u;for(t.lineStart();++l<a;)u=e[l],t.point(u[0],u[1],u[2]);t.lineEnd()}function kg(e,t){var o=-1,l=e.length;for(t.polygonStart();++o<l;)yf(e[o],t,1);t.polygonEnd()}function wo(e,t){e&&Pg.hasOwnProperty(e.type)?Pg[e.type](e,t):es(e,t)}function vf(e){return[Po(e[1],e[0]),Pi(e[2])]}function Bo(e){var t=e[0],o=e[1],l=Ot(o);return[l*Ot(t),l*qt(t),qt(o)]}function Da(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function ns(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function tf(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function ba(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function _f(e){var t=pi(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Sf(e,t){function o(l,a){return l=e(l,a),t(l[0],l[1])}return e.invert&&t.invert&&(o.invert=function(l,a){return l=t.invert(l,a),l&&e.invert(l[0],l[1])}),o}function Tf(e,t){return Ft(e)>xt&&(e-=Math.round(e/Qe)*Qe),[e,t]}Tf.invert=Tf;function q1(e,t,o){return(e%=Qe)?t||o?Sf(Fg(e),Yg(t,o)):Fg(e):t||o?Yg(t,o):Tf}function Og(e){return function(t,o){return t+=e,Ft(t)>xt&&(t-=Math.round(t/Qe)*Qe),[t,o]}}function Fg(e){var t=Og(e);return t.invert=Og(-e),t}function Yg(e,t){var o=Ot(e),l=qt(e),a=Ot(t),u=qt(t);function f(p,y){var m=Ot(y),v=Ot(p)*m,_=qt(p)*m,S=qt(y),E=S*o+v*l;return[Po(_*a-E*u,v*o-S*l),Pi(E*a+_*u)]}return f.invert=function(p,y){var m=Ot(y),v=Ot(p)*m,_=qt(p)*m,S=qt(y),E=S*a-_*u;return[Po(_*a+S*u,v*o+E*l),Pi(E*o-v*l)]},f}function V1(e,t,o,l,a,u){if(o){var f=Ot(t),p=qt(t),y=l*o;a==null?(a=t+l*Qe,u=t-y/2):(a=Jg(f,a),u=Jg(f,u),(l>0?a<u:a>u)&&(a+=l*Qe));for(var m,v=a;l>0?v>u:v<u;v-=y)m=vf([f,-p*Ot(v),-p*qt(v)]),e.point(m[0],m[1])}}function Jg(e,t){t=Bo(t),t[0]-=e,_f(t);var o=z1(-t[1]);return((-t[2]<0?-o:o)+Qe-Rt)%Qe}function gv(){var e=[],t;return{point:function(o,l,a){t.push([o,l,a])},lineStart:function(){e.push(t=[])},lineEnd:Xe,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var o=e;return e=[],t=null,o}}}function Ja(e,t){return Ft(e[0]-t[0])<Rt&&Ft(e[1]-t[1])<Rt}function Ua(e,t,o,l){this.x=e,this.z=t,this.o=o,this.e=l,this.v=!1,this.n=this.p=null}function yv(e,t,o,l,a){var u=[],f=[],p,y;if(e.forEach(function(C){if(!((N=C.length-1)<=0)){var N,w=C[0],I=C[N],O;if(Ja(w,I)){if(!w[2]&&!I[2]){for(a.lineStart(),p=0;p<N;++p)a.point((w=C[p])[0],w[1]);a.lineEnd();return}I[0]+=2*Rt}u.push(O=new Ua(w,C,null,!0)),f.push(O.o=new Ua(w,null,O,!1)),u.push(O=new Ua(I,C,null,!1)),f.push(O.o=new Ua(I,null,O,!0))}}),!!u.length){for(f.sort(t),Xg(u),Xg(f),p=0,y=f.length;p<y;++p)f[p].e=o=!o;for(var m=u[0],v,_;;){for(var S=m,E=!0;S.v;)if((S=S.n)===m)return;v=S.z,a.lineStart();do{if(S.v=S.o.v=!0,S.e){if(E)for(p=0,y=v.length;p<y;++p)a.point((_=v[p])[0],_[1]);else l(S.x,S.n.x,1,a);S=S.n}else{if(E)for(v=S.p.z,p=v.length-1;p>=0;--p)a.point((_=v[p])[0],_[1]);else l(S.x,S.p.x,-1,a);S=S.p}S=S.o,v=S.z,E=!E}while(!S.v);a.lineEnd()}}}function Xg(e){if(t=e.length){for(var t,o=0,l=e[0],a;++o<t;)l.n=a=e[o],a.p=l,l=a;l.n=a=e[0],a.p=l}}function ef(e){return Ft(e[0])<=xt?e[0]:H1(e[0])*((Ft(e[0])+xt)%Qe-xt)}function P1(e,t){var o=ef(t),l=t[1],a=qt(l),u=[qt(o),-Ot(o),0],f=0,p=0,y=new qi;a===1?l=Je+Rt:a===-1&&(l=-Je-Rt);for(var m=0,v=e.length;m<v;++m)if(S=(_=e[m]).length)for(var _,S,E=_[S-1],C=ef(E),N=E[1]/2+Vg,w=qt(N),I=Ot(N),O=0;O<S;++O,C=b,w=k,I=F,E=U){var U=_[O],b=ef(U),X=U[1]/2+Vg,k=qt(X),F=Ot(X),W=b-C,K=W>=0?1:-1,ot=K*W,it=ot>xt,pt=w*k;if(y.add(Po(pt*K*qt(ot),I*F+pt*Ot(ot))),f+=it?W+K*Qe:W,it^C>=o^b>=o){var ct=ns(Bo(E),Bo(U));_f(ct);var L=ns(u,ct);_f(L);var H=(it^W>=0?-1:1)*Pi(L[2]);(l>H||l===H&&(ct[0]||ct[1]))&&(p+=it^W>=0?1:-1)}}return(f<-Rt||f<Rt&&y<-1e-12)^p&1}function vv(e,t,o,l){return function(a){var u=t(a),f=gv(),p=t(f),y=!1,m,v,_,S={point:E,lineStart:N,lineEnd:w,polygonStart:function(){S.point=I,S.lineStart=O,S.lineEnd=U,v=[],m=[]},polygonEnd:function(){S.point=E,S.lineStart=N,S.lineEnd=w,v=By(v);var b=P1(m,l);v.length?(y||(a.polygonStart(),y=!0),yv(v,k1,b,o,a)):b&&(y||(a.polygonStart(),y=!0),a.lineStart(),o(null,null,1,a),a.lineEnd()),y&&(a.polygonEnd(),y=!1),v=m=null},sphere:function(){a.polygonStart(),a.lineStart(),o(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function E(b,X){e(b,X)&&a.point(b,X)}function C(b,X){u.point(b,X)}function N(){S.point=C,u.lineStart()}function w(){S.point=E,u.lineEnd()}function I(b,X){_.push([b,X]),p.point(b,X)}function O(){p.lineStart(),_=[]}function U(){I(_[0][0],_[0][1]),p.lineEnd();var b=p.clean(),X=f.result(),k,F=X.length,W,K,ot;if(_.pop(),m.push(_),_=null,!!F){if(b&1){if(K=X[0],(W=K.length-1)>0){for(y||(a.polygonStart(),y=!0),a.lineStart(),k=0;k<W;++k)a.point((ot=K[k])[0],ot[1]);a.lineEnd()}return}F>1&&b&2&&X.push(X.pop().concat(X.shift())),v.push(X.filter(B1))}}return S}}function B1(e){return e.length>1}function k1(e,t){return((e=e.x)[0]<0?e[1]-Je-Rt:Je-e[1])-((t=t.x)[0]<0?t[1]-Je-Rt:Je-t[1])}const Kg=vv(function(){return!0},O1,Y1,[-xt,-Je]);function O1(e){var t=NaN,o=NaN,l=NaN,a;return{lineStart:function(){e.lineStart(),a=1},point:function(u,f){var p=u>0?xt:-xt,y=Ft(u-t);Ft(y-xt)<Rt?(e.point(t,o=(o+f)/2>0?Je:-Je),e.point(l,o),e.lineEnd(),e.lineStart(),e.point(p,o),e.point(u,o),a=0):l!==p&&y>=xt&&(Ft(t-l)<Rt&&(t-=l*Rt),Ft(u-p)<Rt&&(u-=p*Rt),o=F1(t,o,u,f),e.point(l,o),e.lineEnd(),e.lineStart(),e.point(p,o),a=0),e.point(t=u,o=f),l=p},lineEnd:function(){e.lineEnd(),t=o=NaN},clean:function(){return 2-a}}}function F1(e,t,o,l){var a,u,f=qt(e-o);return Ft(f)>Rt?mv((qt(t)*(u=Ot(l))*qt(o)-qt(l)*(a=Ot(t))*qt(e))/(a*u*f)):(t+l)/2}function Y1(e,t,o,l){var a;if(e==null)a=o*Je,l.point(-xt,a),l.point(0,a),l.point(xt,a),l.point(xt,0),l.point(xt,-a),l.point(0,-a),l.point(-xt,-a),l.point(-xt,0),l.point(-xt,a);else if(Ft(e[0]-t[0])>Rt){var u=e[0]<t[0]?xt:-xt;a=o*u/2,l.point(-u,a),l.point(0,a),l.point(u,a)}else l.point(t[0],t[1])}function J1(e){var t=Ot(e),o=2*be,l=t>0,a=Ft(t)>Rt;function u(v,_,S,E){V1(E,e,o,S,v,_)}function f(v,_){return Ot(v)*Ot(_)>t}function p(v){var _,S,E,C,N;return{lineStart:function(){C=E=!1,N=1},point:function(w,I){var O=[w,I],U,b=f(w,I),X=l?b?0:m(w,I):b?m(w+(w<0?xt:-xt),I):0;if(!_&&(C=E=b)&&v.lineStart(),b!==E&&(U=y(_,O),(!U||Ja(_,U)||Ja(O,U))&&(O[2]=1)),b!==E)N=0,b?(v.lineStart(),U=y(O,_),v.point(U[0],U[1])):(U=y(_,O),v.point(U[0],U[1],2),v.lineEnd()),_=U;else if(a&&_&&l^b){var k;!(X&S)&&(k=y(O,_,!0))&&(N=0,l?(v.lineStart(),v.point(k[0][0],k[0][1]),v.point(k[1][0],k[1][1]),v.lineEnd()):(v.point(k[1][0],k[1][1]),v.lineEnd(),v.lineStart(),v.point(k[0][0],k[0][1],3)))}b&&(!_||!Ja(_,O))&&v.point(O[0],O[1]),_=O,E=b,S=X},lineEnd:function(){E&&v.lineEnd(),_=null},clean:function(){return N|(C&&E)<<1}}}function y(v,_,S){var E=Bo(v),C=Bo(_),N=[1,0,0],w=ns(E,C),I=Da(w,w),O=w[0],U=I-O*O;if(!U)return!S&&v;var b=t*I/U,X=-t*O/U,k=ns(N,w),F=ba(N,b),W=ba(w,X);tf(F,W);var K=k,ot=Da(F,K),it=Da(K,K),pt=ot*ot-it*(Da(F,F)-1);if(!(pt<0)){var ct=pi(pt),L=ba(K,(-ot-ct)/it);if(tf(L,F),L=vf(L),!S)return L;var H=v[0],R=_[0],V=v[1],Y=_[1],tt;R<H&&(tt=H,H=R,R=tt);var nt=R-H,x=Ft(nt-xt)<Rt,B=x||nt<Rt;if(!x&&Y<V&&(tt=V,V=Y,Y=tt),B?x?V+Y>0^L[1]<(Ft(L[0]-H)<Rt?V:Y):V<=L[1]&&L[1]<=Y:nt>xt^(H<=L[0]&&L[0]<=R)){var et=ba(K,(-ot+ct)/it);return tf(et,F),[L,vf(et)]}}}function m(v,_){var S=l?e:xt-e,E=0;return v<-S?E|=1:v>S&&(E|=2),_<-S?E|=4:_>S&&(E|=8),E}return vv(f,p,u,l?[0,-e]:[-xt,e-xt])}function X1(e,t,o,l,a,u){var f=e[0],p=e[1],y=t[0],m=t[1],v=0,_=1,S=y-f,E=m-p,C;if(C=o-f,!(!S&&C>0)){if(C/=S,S<0){if(C<v)return;C<_&&(_=C)}else if(S>0){if(C>_)return;C>v&&(v=C)}if(C=a-f,!(!S&&C<0)){if(C/=S,S<0){if(C>_)return;C>v&&(v=C)}else if(S>0){if(C<v)return;C<_&&(_=C)}if(C=l-p,!(!E&&C>0)){if(C/=E,E<0){if(C<v)return;C<_&&(_=C)}else if(E>0){if(C>_)return;C>v&&(v=C)}if(C=u-p,!(!E&&C<0)){if(C/=E,E<0){if(C>_)return;C>v&&(v=C)}else if(E>0){if(C<v)return;C<_&&(_=C)}return v>0&&(e[0]=f+v*S,e[1]=p+v*E),_<1&&(t[0]=f+_*S,t[1]=p+_*E),!0}}}}}var Xl=1e9,La=-Xl;function K1(e,t,o,l){function a(m,v){return e<=m&&m<=o&&t<=v&&v<=l}function u(m,v,_,S){var E=0,C=0;if(m==null||(E=f(m,_))!==(C=f(v,_))||y(m,v)<0^_>0)do S.point(E===0||E===3?e:o,E>1?l:t);while((E=(E+_+4)%4)!==C);else S.point(v[0],v[1])}function f(m,v){return Ft(m[0]-e)<Rt?v>0?0:3:Ft(m[0]-o)<Rt?v>0?2:1:Ft(m[1]-t)<Rt?v>0?1:0:v>0?3:2}function p(m,v){return y(m.x,v.x)}function y(m,v){var _=f(m,1),S=f(v,1);return _!==S?_-S:_===0?v[1]-m[1]:_===1?m[0]-v[0]:_===2?m[1]-v[1]:v[0]-m[0]}return function(m){var v=m,_=gv(),S,E,C,N,w,I,O,U,b,X,k,F={point:W,lineStart:pt,lineEnd:ct,polygonStart:ot,polygonEnd:it};function W(H,R){a(H,R)&&v.point(H,R)}function K(){for(var H=0,R=0,V=E.length;R<V;++R)for(var Y=E[R],tt=1,nt=Y.length,x=Y[0],B,et,lt=x[0],st=x[1];tt<nt;++tt)B=lt,et=st,x=Y[tt],lt=x[0],st=x[1],et<=l?st>l&&(lt-B)*(l-et)>(st-et)*(e-B)&&++H:st<=l&&(lt-B)*(l-et)<(st-et)*(e-B)&&--H;return H}function ot(){v=_,S=[],E=[],k=!0}function it(){var H=K(),R=k&&H,V=(S=By(S)).length;(R||V)&&(m.polygonStart(),R&&(m.lineStart(),u(null,null,1,m),m.lineEnd()),V&&yv(S,p,H,u,m),m.polygonEnd()),v=m,S=E=C=null}function pt(){F.point=L,E&&E.push(C=[]),X=!0,b=!1,O=U=NaN}function ct(){S&&(L(N,w),I&&b&&_.rejoin(),S.push(_.result())),F.point=W,b&&v.lineEnd()}function L(H,R){var V=a(H,R);if(E&&C.push([H,R]),X)N=H,w=R,I=V,X=!1,V&&(v.lineStart(),v.point(H,R));else if(V&&b)v.point(H,R);else{var Y=[O=Math.max(La,Math.min(Xl,O)),U=Math.max(La,Math.min(Xl,U))],tt=[H=Math.max(La,Math.min(Xl,H)),R=Math.max(La,Math.min(Xl,R))];X1(Y,tt,e,t,o,l)?(b||(v.lineStart(),v.point(Y[0],Y[1])),v.point(tt[0],tt[1]),V||v.lineEnd(),k=!1):V&&(v.lineStart(),v.point(H,R),k=!1)}O=H,U=R,b=V}return F}}function Qg(e,t,o){var l=Io(e,t-Rt,o).concat(t);return function(a){return l.map(function(u){return[a,u]})}}function Zg(e,t,o){var l=Io(e,t-Rt,o).concat(t);return function(a){return l.map(function(u){return[u,a]})}}function Q1(){var e,t,o,l,a,u,f,p,y=10,m=y,v=90,_=360,S,E,C,N,w=2.5;function I(){return{type:"MultiLineString",coordinates:O()}}function O(){return Io(Ia(l/v)*v,o,v).map(C).concat(Io(Ia(p/_)*_,f,_).map(N)).concat(Io(Ia(t/y)*y,e,y).filter(function(U){return Ft(U%v)>Rt}).map(S)).concat(Io(Ia(u/m)*m,a,m).filter(function(U){return Ft(U%_)>Rt}).map(E))}return I.lines=function(){return O().map(function(U){return{type:"LineString",coordinates:U}})},I.outline=function(){return{type:"Polygon",coordinates:[C(l).concat(N(f).slice(1),C(o).reverse().slice(1),N(p).reverse().slice(1))]}},I.extent=function(U){return arguments.length?I.extentMajor(U).extentMinor(U):I.extentMinor()},I.extentMajor=function(U){return arguments.length?(l=+U[0][0],o=+U[1][0],p=+U[0][1],f=+U[1][1],l>o&&(U=l,l=o,o=U),p>f&&(U=p,p=f,f=U),I.precision(w)):[[l,p],[o,f]]},I.extentMinor=function(U){return arguments.length?(t=+U[0][0],e=+U[1][0],u=+U[0][1],a=+U[1][1],t>e&&(U=t,t=e,e=U),u>a&&(U=u,u=a,a=U),I.precision(w)):[[t,u],[e,a]]},I.step=function(U){return arguments.length?I.stepMajor(U).stepMinor(U):I.stepMinor()},I.stepMajor=function(U){return arguments.length?(v=+U[0],_=+U[1],I):[v,_]},I.stepMinor=function(U){return arguments.length?(y=+U[0],m=+U[1],I):[y,m]},I.precision=function(U){return arguments.length?(w=+U,S=Qg(u,a,90),E=Zg(t,e,w),C=Qg(p,f,90),N=Zg(l,o,w),I):w},I.extentMajor([[-180,-90+Rt],[180,90-Rt]]).extentMinor([[-180,-80-Rt],[180,80+Rt]])}const Ef=e=>e;var nf=new qi,Af=new qi,_v,Sv,Cf,Rf,Gn={point:Xe,lineStart:Xe,lineEnd:Xe,polygonStart:function(){Gn.lineStart=Z1,Gn.lineEnd=W1},polygonEnd:function(){Gn.lineStart=Gn.lineEnd=Gn.point=Xe,nf.add(Ft(Af)),Af=new qi},result:function(){var e=nf/2;return nf=new qi,e}};function Z1(){Gn.point=$1}function $1(e,t){Gn.point=Tv,_v=Cf=e,Sv=Rf=t}function Tv(e,t){Af.add(Rf*e-Cf*t),Cf=e,Rf=t}function W1(){Tv(_v,Sv)}var ko=1/0,is=ko,or=-ko,os=or,ls={point:j1,lineStart:Xe,lineEnd:Xe,polygonStart:Xe,polygonEnd:Xe,result:function(){var e=[[ko,is],[or,os]];return or=os=-(is=ko=1/0),e}};function j1(e,t){e<ko&&(ko=e),e>or&&(or=e),t<is&&(is=t),t>os&&(os=t)}var xf=0,Mf=0,Kl=0,rs=0,as=0,Do=0,wf=0,Nf=0,Ql=0,Ev,Av,cn,fn,Ye={point:Bi,lineStart:$g,lineEnd:Wg,polygonStart:function(){Ye.lineStart=nR,Ye.lineEnd=iR},polygonEnd:function(){Ye.point=Bi,Ye.lineStart=$g,Ye.lineEnd=Wg},result:function(){var e=Ql?[wf/Ql,Nf/Ql]:Do?[rs/Do,as/Do]:Kl?[xf/Kl,Mf/Kl]:[NaN,NaN];return xf=Mf=Kl=rs=as=Do=wf=Nf=Ql=0,e}};function Bi(e,t){xf+=e,Mf+=t,++Kl}function $g(){Ye.point=tR}function tR(e,t){Ye.point=eR,Bi(cn=e,fn=t)}function eR(e,t){var o=e-cn,l=t-fn,a=pi(o*o+l*l);rs+=a*(cn+e)/2,as+=a*(fn+t)/2,Do+=a,Bi(cn=e,fn=t)}function Wg(){Ye.point=Bi}function nR(){Ye.point=oR}function iR(){Cv(Ev,Av)}function oR(e,t){Ye.point=Cv,Bi(Ev=cn=e,Av=fn=t)}function Cv(e,t){var o=e-cn,l=t-fn,a=pi(o*o+l*l);rs+=a*(cn+e)/2,as+=a*(fn+t)/2,Do+=a,a=fn*e-cn*t,wf+=a*(cn+e),Nf+=a*(fn+t),Ql+=a*3,Bi(cn=e,fn=t)}function Rv(e){this._context=e}Rv.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Qe);break}}},result:Xe};var If=new qi,of,xv,Mv,Zl,$l,lr={point:Xe,lineStart:function(){lr.point=lR},lineEnd:function(){of&&wv(xv,Mv),lr.point=Xe},polygonStart:function(){of=!0},polygonEnd:function(){of=null},result:function(){var e=+If;return If=new qi,e}};function lR(e,t){lr.point=wv,xv=Zl=e,Mv=$l=t}function wv(e,t){Zl-=e,$l-=t,If.add(pi(Zl*Zl+$l*$l)),Zl=e,$l=t}let jg,ss,t0,e0;class n0{constructor(t){this._append=t==null?Nv:rR(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,o){switch(this._point){case 0:{this._append`M${t},${o}`,this._point=1;break}case 1:{this._append`L${t},${o}`;break}default:{if(this._append`M${t},${o}`,this._radius!==t0||this._append!==ss){const l=this._radius,a=this._;this._="",this._append`m0,${l}a${l},${l} 0 1,1 0,${-2*l}a${l},${l} 0 1,1 0,${2*l}z`,t0=l,ss=this._append,e0=this._,this._=a}this._+=e0;break}}}result(){const t=this._;return this._="",t.length?t:null}}function Nv(e){let t=1;this._+=e[0];for(const o=e.length;t<o;++t)this._+=arguments[t]+e[t]}function rR(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return Nv;if(t!==jg){const o=10**t;jg=t,ss=function(a){let u=1;this._+=a[0];for(const f=a.length;u<f;++u)this._+=Math.round(arguments[u]*o)/o+a[u]}}return ss}function aR(e,t){let o=3,l=4.5,a,u;function f(p){return p&&(typeof l=="function"&&u.pointRadius(+l.apply(this,arguments)),wo(p,a(u))),u.result()}return f.area=function(p){return wo(p,a(Gn)),Gn.result()},f.measure=function(p){return wo(p,a(lr)),lr.result()},f.bounds=function(p){return wo(p,a(ls)),ls.result()},f.centroid=function(p){return wo(p,a(Ye)),Ye.result()},f.projection=function(p){return arguments.length?(a=p==null?(e=null,Ef):(e=p).stream,f):e},f.context=function(p){return arguments.length?(u=p==null?(t=null,new n0(o)):new Rv(t=p),typeof l!="function"&&u.pointRadius(l),f):t},f.pointRadius=function(p){return arguments.length?(l=typeof p=="function"?p:(u.pointRadius(+p),+p),f):l},f.digits=function(p){if(!arguments.length)return o;if(p==null)o=null;else{const y=Math.floor(p);if(!(y>=0))throw new RangeError(`invalid digits: ${p}`);o=y}return t===null&&(u=new n0(o)),f},f.projection(e).digits(o).context(t)}function jf(e){return function(t){var o=new Df;for(var l in e)o[l]=e[l];return o.stream=t,o}}function Df(){}Df.prototype={constructor:Df,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function td(e,t,o){var l=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),l!=null&&e.clipExtent(null),wo(o,e.stream(ls)),t(ls.result()),l!=null&&e.clipExtent(l),e}function Iv(e,t,o){return td(e,function(l){var a=t[1][0]-t[0][0],u=t[1][1]-t[0][1],f=Math.min(a/(l[1][0]-l[0][0]),u/(l[1][1]-l[0][1])),p=+t[0][0]+(a-f*(l[1][0]+l[0][0]))/2,y=+t[0][1]+(u-f*(l[1][1]+l[0][1]))/2;e.scale(150*f).translate([p,y])},o)}function sR(e,t,o){return Iv(e,[[0,0],t],o)}function uR(e,t,o){return td(e,function(l){var a=+t,u=a/(l[1][0]-l[0][0]),f=(a-u*(l[1][0]+l[0][0]))/2,p=-u*l[0][1];e.scale(150*u).translate([f,p])},o)}function cR(e,t,o){return td(e,function(l){var a=+t,u=a/(l[1][1]-l[0][1]),f=-u*l[0][0],p=(a-u*(l[1][1]+l[0][1]))/2;e.scale(150*u).translate([f,p])},o)}var i0=16,fR=Ot(30*be);function o0(e,t){return+t?hR(e,t):dR(e)}function dR(e){return jf({point:function(t,o){t=e(t,o),this.stream.point(t[0],t[1])}})}function hR(e,t){function o(l,a,u,f,p,y,m,v,_,S,E,C,N,w){var I=m-l,O=v-a,U=I*I+O*O;if(U>4*t&&N--){var b=f+S,X=p+E,k=y+C,F=pi(b*b+X*X+k*k),W=Pi(k/=F),K=Ft(Ft(k)-1)<Rt||Ft(u-_)<Rt?(u+_)/2:Po(X,b),ot=e(K,W),it=ot[0],pt=ot[1],ct=it-l,L=pt-a,H=O*ct-I*L;(H*H/U>t||Ft((I*ct+O*L)/U-.5)>.3||f*S+p*E+y*C<fR)&&(o(l,a,u,f,p,y,it,pt,K,b/=F,X/=F,k,N,w),w.point(it,pt),o(it,pt,K,b,X,k,m,v,_,S,E,C,N,w))}}return function(l){var a,u,f,p,y,m,v,_,S,E,C,N,w={point:I,lineStart:O,lineEnd:b,polygonStart:function(){l.polygonStart(),w.lineStart=X},polygonEnd:function(){l.polygonEnd(),w.lineStart=O}};function I(W,K){W=e(W,K),l.point(W[0],W[1])}function O(){_=NaN,w.point=U,l.lineStart()}function U(W,K){var ot=Bo([W,K]),it=e(W,K);o(_,S,v,E,C,N,_=it[0],S=it[1],v=W,E=ot[0],C=ot[1],N=ot[2],i0,l),l.point(_,S)}function b(){w.point=I,l.lineEnd()}function X(){O(),w.point=k,w.lineEnd=F}function k(W,K){U(a=W,K),u=_,f=S,p=E,y=C,m=N,w.point=U}function F(){o(_,S,v,E,C,N,u,f,a,p,y,m,i0,l),w.lineEnd=b,b()}return w}}var pR=jf({point:function(e,t){this.stream.point(e*be,t*be)}});function mR(e){return jf({point:function(t,o){var l=e(t,o);return this.stream.point(l[0],l[1])}})}function gR(e,t,o,l,a){function u(f,p){return f*=l,p*=a,[t+e*f,o-e*p]}return u.invert=function(f,p){return[(f-t)/e*l,(o-p)/e*a]},u}function l0(e,t,o,l,a,u){if(!u)return gR(e,t,o,l,a);var f=Ot(u),p=qt(u),y=f*e,m=p*e,v=f/e,_=p/e,S=(p*o-f*t)/e,E=(p*t+f*o)/e;function C(N,w){return N*=l,w*=a,[y*N-m*w+t,o-m*N-y*w]}return C.invert=function(N,w){return[l*(v*N-_*w+S),a*(E-_*N-v*w)]},C}function Dv(e){return yR(function(){return e})()}function yR(e){var t,o=150,l=480,a=250,u=0,f=0,p=0,y=0,m=0,v,_=0,S=1,E=1,C=null,N=Kg,w=null,I,O,U,b=Ef,X=.5,k,F,W,K,ot;function it(H){return W(H[0]*be,H[1]*be)}function pt(H){return H=W.invert(H[0],H[1]),H&&[H[0]*Un,H[1]*Un]}it.stream=function(H){return K&&ot===H?K:K=pR(mR(v)(N(k(b(ot=H)))))},it.preclip=function(H){return arguments.length?(N=H,C=void 0,L()):N},it.postclip=function(H){return arguments.length?(b=H,w=I=O=U=null,L()):b},it.clipAngle=function(H){return arguments.length?(N=+H?J1(C=H*be):(C=null,Kg),L()):C*Un},it.clipExtent=function(H){return arguments.length?(b=H==null?(w=I=O=U=null,Ef):K1(w=+H[0][0],I=+H[0][1],O=+H[1][0],U=+H[1][1]),L()):w==null?null:[[w,I],[O,U]]},it.scale=function(H){return arguments.length?(o=+H,ct()):o},it.translate=function(H){return arguments.length?(l=+H[0],a=+H[1],ct()):[l,a]},it.center=function(H){return arguments.length?(u=H[0]%360*be,f=H[1]%360*be,ct()):[u*Un,f*Un]},it.rotate=function(H){return arguments.length?(p=H[0]%360*be,y=H[1]%360*be,m=H.length>2?H[2]%360*be:0,ct()):[p*Un,y*Un,m*Un]},it.angle=function(H){return arguments.length?(_=H%360*be,ct()):_*Un},it.reflectX=function(H){return arguments.length?(S=H?-1:1,ct()):S<0},it.reflectY=function(H){return arguments.length?(E=H?-1:1,ct()):E<0},it.precision=function(H){return arguments.length?(k=o0(F,X=H*H),L()):pi(X)},it.fitExtent=function(H,R){return Iv(it,H,R)},it.fitSize=function(H,R){return sR(it,H,R)},it.fitWidth=function(H,R){return uR(it,H,R)},it.fitHeight=function(H,R){return cR(it,H,R)};function ct(){var H=l0(o,0,0,S,E,_).apply(null,t(u,f)),R=l0(o,l-H[0],a-H[1],S,E,_);return v=q1(p,y,m),F=Sf(t,R),W=Sf(v,F),k=o0(F,X),L()}function L(){return K=ot=null,it}return function(){return t=e.apply(this,arguments),it.invert=t.invert&&pt,ct()}}function bv(e){return function(t,o){var l=pi(t*t+o*o),a=e(l),u=qt(a),f=Ot(a);return[Po(t*u,l*f),Pi(l&&o*u/l)]}}function Uv(e,t){return[Ot(t)*qt(e),qt(t)]}Uv.invert=bv(Pi);function vR(){return Dv(Uv).scale(249.5).clipAngle(90+Rt)}function Lv(e,t){var o=Ot(t),l=1+Ot(e)*o;return[o*qt(e)/l,qt(t)/l]}Lv.invert=bv(function(e){return 2*mv(e)});function _R(){return Dv(Lv).scale(250).clipAngle(142)}const Ga=e=>()=>e;function SR(e,{sourceEvent:t,target:o,transform:l,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},transform:{value:l,enumerable:!0,configurable:!0},_:{value:a}})}function Hn(e,t,o){this.k=e,this.x=t,this.y=o}Hn.prototype={constructor:Hn,scale:function(e){return e===1?this:new Hn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Hn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Gv=new Hn(1,0,0);Hn.prototype;function lf(e){e.stopImmediatePropagation()}function kl(e){e.preventDefault(),e.stopImmediatePropagation()}function TR(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function ER(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function r0(){return this.__zoom||Gv}function AR(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function CR(){return navigator.maxTouchPoints||"ontouchstart"in this}function RR(e,t,o){var l=e.invertX(t[0][0])-o[0][0],a=e.invertX(t[1][0])-o[1][0],u=e.invertY(t[0][1])-o[0][1],f=e.invertY(t[1][1])-o[1][1];return e.translate(a>l?(l+a)/2:Math.min(0,l)||Math.max(0,a),f>u?(u+f)/2:Math.min(0,u)||Math.max(0,f))}function xR(){var e=TR,t=ER,o=RR,l=AR,a=CR,u=[0,1/0],f=[[-1/0,-1/0],[1/0,1/0]],p=250,y=CC,m=ms("start","zoom","end"),v,_,S,E=500,C=150,N=0,w=10;function I(L){L.property("__zoom",r0).on("wheel.zoom",W,{passive:!1}).on("mousedown.zoom",K).on("dblclick.zoom",ot).filter(a).on("touchstart.zoom",it).on("touchmove.zoom",pt).on("touchend.zoom touchcancel.zoom",ct).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}I.transform=function(L,H,R,V){var Y=L.selection?L.selection():L;Y.property("__zoom",r0),L!==Y?X(L,H,R,V):Y.interrupt().each(function(){k(this,arguments).event(V).start().zoom(null,typeof H=="function"?H.apply(this,arguments):H).end()})},I.scaleBy=function(L,H,R,V){I.scaleTo(L,function(){var Y=this.__zoom.k,tt=typeof H=="function"?H.apply(this,arguments):H;return Y*tt},R,V)},I.scaleTo=function(L,H,R,V){I.transform(L,function(){var Y=t.apply(this,arguments),tt=this.__zoom,nt=R==null?b(Y):typeof R=="function"?R.apply(this,arguments):R,x=tt.invert(nt),B=typeof H=="function"?H.apply(this,arguments):H;return o(U(O(tt,B),nt,x),Y,f)},R,V)},I.translateBy=function(L,H,R,V){I.transform(L,function(){return o(this.__zoom.translate(typeof H=="function"?H.apply(this,arguments):H,typeof R=="function"?R.apply(this,arguments):R),t.apply(this,arguments),f)},null,V)},I.translateTo=function(L,H,R,V,Y){I.transform(L,function(){var tt=t.apply(this,arguments),nt=this.__zoom,x=V==null?b(tt):typeof V=="function"?V.apply(this,arguments):V;return o(Gv.translate(x[0],x[1]).scale(nt.k).translate(typeof H=="function"?-H.apply(this,arguments):-H,typeof R=="function"?-R.apply(this,arguments):-R),tt,f)},V,Y)};function O(L,H){return H=Math.max(u[0],Math.min(u[1],H)),H===L.k?L:new Hn(H,L.x,L.y)}function U(L,H,R){var V=H[0]-R[0]*L.k,Y=H[1]-R[1]*L.k;return V===L.x&&Y===L.y?L:new Hn(L.k,V,Y)}function b(L){return[(+L[0][0]+ +L[1][0])/2,(+L[0][1]+ +L[1][1])/2]}function X(L,H,R,V){L.on("start.zoom",function(){k(this,arguments).event(V).start()}).on("interrupt.zoom end.zoom",function(){k(this,arguments).event(V).end()}).tween("zoom",function(){var Y=this,tt=arguments,nt=k(Y,tt).event(V),x=t.apply(Y,tt),B=R==null?b(x):typeof R=="function"?R.apply(Y,tt):R,et=Math.max(x[1][0]-x[0][0],x[1][1]-x[0][1]),lt=Y.__zoom,st=typeof H=="function"?H.apply(Y,tt):H,ht=y(lt.invert(B).concat(et/lt.k),st.invert(B).concat(et/st.k));return function(yt){if(yt===1)yt=st;else{var Vt=ht(yt),Pt=et/Vt[2];yt=new Hn(Pt,B[0]-Vt[0]*Pt,B[1]-Vt[1]*Pt)}nt.zoom(null,yt)}})}function k(L,H,R){return!R&&L.__zooming||new F(L,H)}function F(L,H){this.that=L,this.args=H,this.active=0,this.sourceEvent=null,this.extent=t.apply(L,H),this.taps=0}F.prototype={event:function(L){return L&&(this.sourceEvent=L),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(L,H){return this.mouse&&L!=="mouse"&&(this.mouse[1]=H.invert(this.mouse[0])),this.touch0&&L!=="touch"&&(this.touch0[1]=H.invert(this.touch0[0])),this.touch1&&L!=="touch"&&(this.touch1[1]=H.invert(this.touch1[0])),this.that.__zoom=H,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(L){var H=Fe(this.that).datum();m.call(L,this.that,new SR(L,{sourceEvent:this.sourceEvent,target:I,transform:this.that.__zoom,dispatch:m}),H)}};function W(L,...H){if(!e.apply(this,arguments))return;var R=k(this,H).event(L),V=this.__zoom,Y=Math.max(u[0],Math.min(u[1],V.k*Math.pow(2,l.apply(this,arguments)))),tt=Ln(L);if(R.wheel)(R.mouse[0][0]!==tt[0]||R.mouse[0][1]!==tt[1])&&(R.mouse[1]=V.invert(R.mouse[0]=tt)),clearTimeout(R.wheel);else{if(V.k===Y)return;R.mouse=[tt,V.invert(tt)],Ya(this),R.start()}kl(L),R.wheel=setTimeout(nt,C),R.zoom("mouse",o(U(O(V,Y),R.mouse[0],R.mouse[1]),R.extent,f));function nt(){R.wheel=null,R.end()}}function K(L,...H){if(S||!e.apply(this,arguments))return;var R=L.currentTarget,V=k(this,H,!0).event(L),Y=Fe(L.view).on("mousemove.zoom",B,!0).on("mouseup.zoom",et,!0),tt=Ln(L,R),nt=L.clientX,x=L.clientY;tv(L.view),lf(L),V.mouse=[tt,this.__zoom.invert(tt)],Ya(this),V.start();function B(lt){if(kl(lt),!V.moved){var st=lt.clientX-nt,ht=lt.clientY-x;V.moved=st*st+ht*ht>N}V.event(lt).zoom("mouse",o(U(V.that.__zoom,V.mouse[0]=Ln(lt,R),V.mouse[1]),V.extent,f))}function et(lt){Y.on("mousemove.zoom mouseup.zoom",null),ev(lt.view,V.moved),kl(lt),V.event(lt).end()}}function ot(L,...H){if(e.apply(this,arguments)){var R=this.__zoom,V=Ln(L.changedTouches?L.changedTouches[0]:L,this),Y=R.invert(V),tt=R.k*(L.shiftKey?.5:2),nt=o(U(O(R,tt),V,Y),t.apply(this,H),f);kl(L),p>0?Fe(this).transition().duration(p).call(X,nt,V,L):Fe(this).call(I.transform,nt,V,L)}}function it(L,...H){if(e.apply(this,arguments)){var R=L.touches,V=R.length,Y=k(this,H,L.changedTouches.length===V).event(L),tt,nt,x,B;for(lf(L),nt=0;nt<V;++nt)x=R[nt],B=Ln(x,this),B=[B,this.__zoom.invert(B),x.identifier],Y.touch0?!Y.touch1&&Y.touch0[2]!==B[2]&&(Y.touch1=B,Y.taps=0):(Y.touch0=B,tt=!0,Y.taps=1+!!v);v&&(v=clearTimeout(v)),tt&&(Y.taps<2&&(_=B[0],v=setTimeout(function(){v=null},E)),Ya(this),Y.start())}}function pt(L,...H){if(this.__zooming){var R=k(this,H).event(L),V=L.changedTouches,Y=V.length,tt,nt,x,B;for(kl(L),tt=0;tt<Y;++tt)nt=V[tt],x=Ln(nt,this),R.touch0&&R.touch0[2]===nt.identifier?R.touch0[0]=x:R.touch1&&R.touch1[2]===nt.identifier&&(R.touch1[0]=x);if(nt=R.that.__zoom,R.touch1){var et=R.touch0[0],lt=R.touch0[1],st=R.touch1[0],ht=R.touch1[1],yt=(yt=st[0]-et[0])*yt+(yt=st[1]-et[1])*yt,Vt=(Vt=ht[0]-lt[0])*Vt+(Vt=ht[1]-lt[1])*Vt;nt=O(nt,Math.sqrt(yt/Vt)),x=[(et[0]+st[0])/2,(et[1]+st[1])/2],B=[(lt[0]+ht[0])/2,(lt[1]+ht[1])/2]}else if(R.touch0)x=R.touch0[0],B=R.touch0[1];else return;R.zoom("touch",o(U(nt,x,B),R.extent,f))}}function ct(L,...H){if(this.__zooming){var R=k(this,H).event(L),V=L.changedTouches,Y=V.length,tt,nt;for(lf(L),S&&clearTimeout(S),S=setTimeout(function(){S=null},E),tt=0;tt<Y;++tt)nt=V[tt],R.touch0&&R.touch0[2]===nt.identifier?delete R.touch0:R.touch1&&R.touch1[2]===nt.identifier&&delete R.touch1;if(R.touch1&&!R.touch0&&(R.touch0=R.touch1,delete R.touch1),R.touch0)R.touch0[1]=this.__zoom.invert(R.touch0[0]);else if(R.end(),R.taps===2&&(nt=Ln(nt,this),Math.hypot(_[0]-nt[0],_[1]-nt[1])<w)){var x=Fe(this).on("dblclick.zoom");x&&x.apply(this,arguments)}}}return I.wheelDelta=function(L){return arguments.length?(l=typeof L=="function"?L:Ga(+L),I):l},I.filter=function(L){return arguments.length?(e=typeof L=="function"?L:Ga(!!L),I):e},I.touchable=function(L){return arguments.length?(a=typeof L=="function"?L:Ga(!!L),I):a},I.extent=function(L){return arguments.length?(t=typeof L=="function"?L:Ga([[+L[0][0],+L[0][1]],[+L[1][0],+L[1][1]]]),I):t},I.scaleExtent=function(L){return arguments.length?(u[0]=+L[0],u[1]=+L[1],I):[u[0],u[1]]},I.translateExtent=function(L){return arguments.length?(f[0][0]=+L[0][0],f[1][0]=+L[1][0],f[0][1]=+L[0][1],f[1][1]=+L[1][1],I):[[f[0][0],f[0][1]],[f[1][0],f[1][1]]]},I.constrain=function(L){return arguments.length?(o=L,I):o},I.duration=function(L){return arguments.length?(p=+L,I):p},I.interpolate=function(L){return arguments.length?(y=L,I):y},I.on=function(){var L=m.on.apply(m,arguments);return L===m?I:L},I.clickDistance=function(L){return arguments.length?(N=(L=+L)*L,I):Math.sqrt(N)},I.tapDistance=function(L){return arguments.length?(w=+L,I):w},I}const rf=[{id:1,proper:"Sirius",proper_zh:"",ra:6.75,dec:-16.72,mag:-1.46,con:"CMa"},{id:2,proper:"Canopus",proper_zh:"",ra:6.4,dec:-52.7,mag:-.74,con:"Car"},{id:3,proper:"Rigil Kentaurus",proper_zh:"",ra:14.66,dec:-60.83,mag:-.27,con:"Cen"},{id:4,proper:"Arcturus",proper_zh:"",ra:14.26,dec:19.18,mag:-.05,con:"Boo"},{id:5,proper:"Vega",proper_zh:"",ra:18.62,dec:38.78,mag:.03,con:"Lyr"},{id:6,proper:"Capella",proper_zh:"",ra:5.28,dec:46,mag:.08,con:"Aur"},{id:7,proper:"Rigel",proper_zh:"",ra:5.24,dec:-8.2,mag:.13,con:"Ori"},{id:8,proper:"Procyon",proper_zh:"",ra:7.65,dec:5.22,mag:.34,con:"CMi"},{id:9,proper:"Betelgeuse",proper_zh:"",ra:5.92,dec:7.41,mag:.42,con:"Ori"},{id:10,proper:"Achernar",proper_zh:"",ra:1.63,dec:-57.24,mag:.46,con:"Eri"},{id:11,proper:"Hadar",proper_zh:"",ra:14.06,dec:-60.37,mag:.61,con:"Cen"},{id:12,proper:"Altair",proper_zh:"",ra:19.85,dec:8.87,mag:.76,con:"Aql"},{id:13,proper:"Acrux",proper_zh:"",ra:12.44,dec:-63.1,mag:.76,con:"Cru"},{id:14,proper:"Aldebaran",proper_zh:"",ra:4.6,dec:16.51,mag:.86,con:"Tau"},{id:15,proper:"Antares",proper_zh:"",ra:16.49,dec:-26.43,mag:.96,con:"Sco"},{id:16,proper:"Spica",proper_zh:"",ra:13.42,dec:-11.16,mag:.97,con:"Vir"},{id:17,proper:"Pollux",proper_zh:"",ra:7.76,dec:28.03,mag:1.14,con:"Gem"},{id:18,proper:"Fomalhaut",proper_zh:"",ra:22.96,dec:-29.62,mag:1.16,con:"PsA"},{id:19,proper:"Deneb",proper_zh:"",ra:20.69,dec:45.28,mag:1.25,con:"Cyg"},{id:20,proper:"Mimosa",proper_zh:"",ra:12.8,dec:-59.69,mag:1.25,con:"Cru"},{id:21,proper:"Regulus",proper_zh:"",ra:10.14,dec:11.97,mag:1.35,con:"Leo"},{id:22,proper:"Adhara",proper_zh:"",ra:6.98,dec:-28.97,mag:1.5,con:"CMa"},{id:23,proper:"Castor",proper_zh:"",ra:7.58,dec:31.89,mag:1.58,con:"Gem"},{id:24,proper:"Gacrux",proper_zh:"",ra:12.52,dec:-57.11,mag:1.63,con:"Cru"},{id:25,proper:"Shaula",proper_zh:"",ra:17.56,dec:-37.1,mag:1.62,con:"Sco"},{id:26,proper:"Bellatrix",proper_zh:"",ra:5.42,dec:6.35,mag:1.64,con:"Ori"},{id:27,proper:"Elnath",proper_zh:"",ra:5.43,dec:28.61,mag:1.65,con:"Tau"},{id:28,proper:"Miaplacidus",proper_zh:"",ra:9.22,dec:-69.72,mag:1.67,con:"Car"},{id:29,proper:"Alnilam",proper_zh:"",ra:5.6,dec:-1.2,mag:1.69,con:"Ori"},{id:30,proper:"Alnair",proper_zh:"",ra:22.14,dec:-46.96,mag:1.74,con:"Gru"},{id:31,proper:"Alnitak",proper_zh:"",ra:5.68,dec:-1.94,mag:1.77,con:"Ori"},{id:32,proper:"Alioth",proper_zh:"",ra:12.9,dec:55.96,mag:1.77,con:"UMa"},{id:33,proper:"Dubhe",proper_zh:"",ra:11.06,dec:61.75,mag:1.79,con:"UMa"},{id:34,proper:"Mirfak",proper_zh:"",ra:3.41,dec:49.86,mag:1.8,con:"Per"},{id:35,proper:"Polaris",proper_zh:"",ra:2.53,dec:89.26,mag:1.98,con:"UMi"}],MR=[{source:"Betelgeuse",target:"Bellatrix"},{source:"Betelgeuse",target:"Alnitak"},{source:"Rigel",target:"Alnilam"},{source:"Bellatrix",target:"Rigel"},{source:"Alnitak",target:"Alnilam"},{source:"Alnilam",target:"5.53,-2.3"},{source:"Dubhe",target:"Alioth"},{source:"Acrux",target:"Gacrux"},{source:"Mimosa",target:"Acrux"},{source:"Pollux",target:"Castor"}],wR=[{con:"Ori",name_zh:"",path:"M 85 -5 L 90 5 L 80 10 L 85 -5 M 80 0 L 70 0 L 75 -10"},{con:"UMa",name_zh:"",path:"M 160 50 L 170 60 L 190 60 L 180 50 Z"}];function NR(e,t){let a=280.46061837+360.98564736629*(e.getTime()/864e5+24405875e-1-2451545);a=a%360,a<0&&(a+=360);let u=a+t;return u=u%360,u<0&&(u+=360),u}function Ha(e){return e*15}const _s={"zh-HK":{appTitle:"Kidrise ",subtitle:"",visitShop:"",locationTitle:"",myGps:"",hkDef:" ()",viewingFrom:"",gpsLocation:"GPS ",hongKong:"",timeTravel:"",now:"",viewMode:"",wideSky:"",globe3d:"3D ",chatPlaceholder:"...",chatThinking:"...",chatError:"",chatTitle:"",chatSubtitle:" Gemini AI ",tutorial:{title:"",step1Title:"",step1Desc:"()()",step2Title:"",step2Desc:"",step3Title:"AI ",step3Desc:"",startBtn:""},rendering:"",askMe:" Kidrise ",lat:"",lon:"",btnUpdateLoc:"",btnGyro:"",btnGyroOff:"",btnArt:"",dirN:"",dirS:"",dirE:"",dirW:"",gyroNotSupported:"",locUpdated:""},en:{appTitle:"Kidrise Sky Explorer",subtitle:"Real-time Star Chart for Young Astronomers",visitShop:"Visit Shop",locationTitle:"Location",myGps:"My GPS",hkDef:"HK (Def)",viewingFrom:"Viewing from:",gpsLocation:"GPS Location",hongKong:"Hong Kong",timeTravel:"Time Travel",now:"NOW",viewMode:"View Mode",wideSky:"Wide (Sky)",globe3d:"Globe (3D)",chatPlaceholder:"Ask about stars...",chatThinking:"Thinking...",chatError:"Signal lost! Try again.",chatTitle:"Star Guide",chatSubtitle:"Powered by Gemini AI",tutorial:{title:"How to use the Star Map?",step1Title:"Pan & Zoom",step1Desc:"Drag to move the view. Pinch (mobile) or scroll (desktop) to zoom in/out.",step2Title:"Magic Features",step2Desc:'Try the "Update Location", "Gyroscope", and "Show Art" buttons below!',step3Title:"AI Guide",step3Desc:"Click the robot button to ask any questions about space!",startBtn:"Start Exploring!"},rendering:"Rendering",askMe:"Hi! I'm your Kidrise Star Guide. Ask me anything about the stars you see! ",lat:"Lat",lon:"Lon",btnUpdateLoc:"Update Location",btnGyro:"Enable Gyro",btnGyroOff:"Disable Gyro",btnArt:"Show Art",dirN:"N",dirS:"S",dirE:"E",dirW:"W",gyroNotSupported:"Gyroscope not supported or permission denied.",locUpdated:"Location Updated!"}},IR=({location:e,date:t,viewMode:o,lang:l,showArt:a,enableGyro:u,onStarClick:f})=>{const p=Nt.useRef(null),y=Nt.useRef(null),[m,v]=Nt.useState(0),[_,S]=Nt.useState(0),[E,C]=Nt.useState([0,-90,0]),[N,w]=Nt.useState(1),[I,O]=Nt.useState(null),U=_s[l];Nt.useEffect(()=>{if(!y.current)return;const k=new ResizeObserver(F=>{for(const W of F)W.contentRect.width>0&&W.contentRect.height>0&&(v(W.contentRect.width),S(W.contentRect.height))});return k.observe(y.current),()=>k.disconnect()},[]),Nt.useEffect(()=>{if(!u){const k=NR(t,e.longitude);C([-k,-e.latitude,0])}},[t,e,u]),Nt.useEffect(()=>{if(!u){O(null);return}const k=F=>{const W=F.alpha||0,K=F.beta||0;O([-W,-(K-90),0])};return window.addEventListener("deviceorientation",k),()=>window.removeEventListener("deviceorientation",k)},[u]);const{starFeatures:b,lineFeatures:X}=Nt.useMemo(()=>{const k=rf.map(K=>({type:"Feature",geometry:{type:"Point",coordinates:[Ha(K.ra),K.dec]},properties:K})),F=K=>rf.find(ot=>ot.proper===K||ot.id.toString()===K),W=MR.map(K=>{const ot=F(K.source),it=F(K.target);return ot&&it?{type:"Feature",geometry:{type:"LineString",coordinates:[[Ha(ot.ra),ot.dec],[Ha(it.ra),it.dec]]}}:null}).filter(K=>K!==null);return{starFeatures:k,lineFeatures:W}},[]);return Nt.useEffect(()=>{if(!p.current||m===0||_===0)return;const k=Fe(p.current);k.selectAll("*").remove();const F=I||E,W=Math.min(m,_)/2;let K;o==="ortho"?K=vR().scale(W*N).translate([m/2,_/2]).clipAngle(90).rotate(F):K=_R().scale(W*N).translate([m/2,_/2]).clipAngle(120).rotate(F);const ot=aR().projection(K);ot.pointRadius(Y=>Y.properties&&typeof Y.properties.mag=="number"?Math.max(1.5,4-Y.properties.mag):2);const it=xR().scaleExtent([.5,10]).on("zoom",Y=>{w(Y.transform.k)});k.call(it).on("mousedown.zoom",null).on("touchstart.zoom",null).on("touchmove.zoom",null).on("touchend.zoom",null);const pt=WA().on("drag",Y=>{if(u)return;const tt=.5/N,[nt,x,B]=K.rotate(),et=[nt+Y.dx*tt,x-Y.dy*tt,B];C(et)});k.call(pt),k.append("path").datum({type:"Sphere"}).attr("d",ot).attr("fill","#0b0d17").attr("stroke","#444").attr("stroke-width",1).attr("cursor",u?"default":"grab");const ct=Q1();k.append("path").datum(ct).attr("d",ot).attr("fill","none").attr("stroke","#2d304a").attr("stroke-width",.5).attr("opacity",.4),k.append("g").selectAll("path").data(X).enter().append("path").attr("d",ot).attr("stroke",a?"rgba(255, 160, 50, 0.4)":"rgba(100, 200, 255, 0.3)").attr("stroke-width",1).attr("stroke-dasharray","4,2").attr("fill","none").attr("pointer-events","none"),a&&wR.forEach(Y=>{const tt=rf.find(nt=>nt.con===Y.con&&(nt.proper==="Betelgeuse"||nt.proper==="Dubhe"||nt.proper==="Alioth"||nt.proper==="Rigel"));if(tt){const nt=K([Ha(tt.ra),tt.dec]);nt&&k.append("text").attr("x",nt[0]).attr("y",nt[1]).attr("text-anchor","middle").attr("dominant-baseline","central").attr("font-size",100*N+"px").attr("opacity",.15).attr("pointer-events","none").text(Y.con==="Ori"?"":"")}});const H=k.append("defs").append("filter").attr("id","glow");H.append("feGaussianBlur").attr("stdDeviation","2.5").attr("result","coloredBlur");const R=H.append("feMerge");R.append("feMergeNode").attr("in","coloredBlur"),R.append("feMergeNode").attr("in","SourceGraphic");const V=k.append("g");if(V.selectAll("path").data(b).enter().append("path").attr("d",ot).attr("className","star-point").attr("fill",Y=>["#ffffff","#ffe87f","#a0cfff"][Y.properties.id%3]).attr("stroke","none").attr("filter","url(#glow)").attr("cursor","pointer").on("click",(Y,tt)=>{Y.stopPropagation(),tt.properties&&f&&f(tt.properties,Y.clientX,Y.clientY)}).on("mouseover",function(){Fe(this).attr("fill","#ff8c00").attr("opacity",1)}).on("mouseout",function(Y,tt){const nt=["#ffffff","#ffe87f","#a0cfff"];Fe(this).attr("fill",nt[tt.properties.id%3])}),V.selectAll("text").data(b.filter(Y=>Y.properties.mag<1.6)).enter().append("text").attr("transform",Y=>{const tt=K(Y.geometry.coordinates);return tt?`translate(${tt[0]+8},${tt[1]+4})`:null}).text(Y=>l==="zh-HK"&&Y.properties.proper_zh?Y.properties.proper_zh:Y.properties.proper).attr("fill","rgba(255,255,255,0.7)").attr("font-size","10px").attr("font-weight","500").attr("font-family","system-ui").style("display",Y=>K(Y.geometry.coordinates)?"block":"none").attr("pointer-events","none"),N<2.5){const Y=W*N,tt=m/2,nt=_/2,x=[{label:U.dirN,x:tt,y:nt-Y-20},{label:U.dirS,x:tt,y:nt+Y+20},{label:U.dirE,x:tt-Y-20,y:nt},{label:U.dirW,x:tt+Y+20,y:nt}],B=k.append("g").attr("class","compass");B.selectAll("text").data(x).enter().append("text").attr("x",et=>et.x).attr("y",et=>et.y).text(et=>et.label).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("fill","#ff8c00").attr("font-weight","bold").attr("font-size","12px"),B.append("circle").attr("cx",tt).attr("cy",nt).attr("r",Y).attr("fill","none").attr("stroke","#ff8c00").attr("stroke-width",1).attr("stroke-dasharray","4,4").attr("opacity",.5)}},[m,_,E,I,N,o,a,u,l,f,b,X,U]),Z.jsx("div",{ref:y,className:"w-full h-full relative cursor-move overflow-hidden",children:Z.jsx("svg",{ref:p,width:m,height:_,className:"block w-full h-full touch-none"})})};var DR={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let bR,UR;function LR(){return{geminiUrl:bR,vertexUrl:UR}}function GR(e,t,o,l){var a,u;if(!(e!=null&&e.baseUrl)){const f=LR();return t?(a=f.vertexUrl)!==null&&a!==void 0?a:o:(u=f.geminiUrl)!==null&&u!==void 0?u:l}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vn{}function rt(e,t){const o=/\{([^}]+)\}/g;return e.replace(o,(l,a)=>{if(Object.prototype.hasOwnProperty.call(t,a)){const u=t[a];return u!=null?String(u):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function d(e,t,o){for(let u=0;u<t.length-1;u++){const f=t[u];if(f.endsWith("[]")){const p=f.slice(0,-2);if(!(p in e))if(Array.isArray(o))e[p]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${f}`);if(Array.isArray(e[p])){const y=e[p];if(Array.isArray(o))for(let m=0;m<y.length;m++){const v=y[m];d(v,t.slice(u+1),o[m])}else for(const m of y)d(m,t.slice(u+1),o)}return}else if(f.endsWith("[0]")){const p=f.slice(0,-3);p in e||(e[p]=[{}]);const y=e[p];d(y[0],t.slice(u+1),o);return}(!e[f]||typeof e[f]!="object")&&(e[f]={}),e=e[f]}const l=t[t.length-1],a=e[l];if(a!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===a)return;if(typeof a=="object"&&typeof o=="object"&&a!==null&&o!==null)Object.assign(a,o);else throw new Error(`Cannot set value for an existing key. Key: ${l}`)}else l==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(e,o):e[l]=o}function c(e,t,o=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let l=0;l<t.length;l++){if(typeof e!="object"||e===null)return o;const a=t[l];if(a.endsWith("[]")){const u=a.slice(0,-2);if(u in e){const f=e[u];return Array.isArray(f)?f.map(p=>c(p,t.slice(l+1),o)):o}else return o}else e=e[a]}return e}catch(l){if(l instanceof TypeError)return o;throw l}}function HR(e,t){for(const[o,l]of Object.entries(t)){const a=o.split("."),u=l.split("."),f=new Set;let p=-1;for(let y=0;y<a.length;y++)if(a[y]==="*"){p=y;break}if(p!==-1&&u.length>p)for(let y=p;y<u.length;y++){const m=u[y];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&f.add(m)}bf(e,a,u,0,f)}}function bf(e,t,o,l,a){if(l>=t.length||typeof e!="object"||e===null)return;const u=t[l];if(u.endsWith("[]")){const f=u.slice(0,-2),p=e;if(f in p&&Array.isArray(p[f]))for(const y of p[f])bf(y,t,o,l+1,a)}else if(u==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const f=e,p=Object.keys(f).filter(m=>!m.startsWith("_")&&!a.has(m)),y={};for(const m of p)y[m]=f[m];for(const[m,v]of Object.entries(y)){const _=[];for(const S of o.slice(l))S==="*"?_.push(m):_.push(S);d(f,_,v)}for(const m of p)delete f[m]}}else{const f=e;u in f&&bf(f[u],t,o,l+1,a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ed(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zR(e){const t={},o=c(e,["operationName"]);o!=null&&d(t,["operationName"],o);const l=c(e,["resourceName"]);return l!=null&&d(t,["_url","resourceName"],l),t}function qR(e){const t={},o=c(e,["name"]);o!=null&&d(t,["name"],o);const l=c(e,["metadata"]);l!=null&&d(t,["metadata"],l);const a=c(e,["done"]);a!=null&&d(t,["done"],a);const u=c(e,["error"]);u!=null&&d(t,["error"],u);const f=c(e,["response","generateVideoResponse"]);return f!=null&&d(t,["response"],PR(f)),t}function VR(e){const t={},o=c(e,["name"]);o!=null&&d(t,["name"],o);const l=c(e,["metadata"]);l!=null&&d(t,["metadata"],l);const a=c(e,["done"]);a!=null&&d(t,["done"],a);const u=c(e,["error"]);u!=null&&d(t,["error"],u);const f=c(e,["response"]);return f!=null&&d(t,["response"],BR(f)),t}function PR(e){const t={},o=c(e,["generatedSamples"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>kR(f))),d(t,["generatedVideos"],u)}const l=c(e,["raiMediaFilteredCount"]);l!=null&&d(t,["raiMediaFilteredCount"],l);const a=c(e,["raiMediaFilteredReasons"]);return a!=null&&d(t,["raiMediaFilteredReasons"],a),t}function BR(e){const t={},o=c(e,["videos"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>OR(f))),d(t,["generatedVideos"],u)}const l=c(e,["raiMediaFilteredCount"]);l!=null&&d(t,["raiMediaFilteredCount"],l);const a=c(e,["raiMediaFilteredReasons"]);return a!=null&&d(t,["raiMediaFilteredReasons"],a),t}function kR(e){const t={},o=c(e,["video"]);return o!=null&&d(t,["video"],QR(o)),t}function OR(e){const t={},o=c(e,["_self"]);return o!=null&&d(t,["video"],ZR(o)),t}function FR(e){const t={},o=c(e,["operationName"]);return o!=null&&d(t,["_url","operationName"],o),t}function YR(e){const t={},o=c(e,["operationName"]);return o!=null&&d(t,["_url","operationName"],o),t}function JR(e){const t={},o=c(e,["name"]);o!=null&&d(t,["name"],o);const l=c(e,["metadata"]);l!=null&&d(t,["metadata"],l);const a=c(e,["done"]);a!=null&&d(t,["done"],a);const u=c(e,["error"]);u!=null&&d(t,["error"],u);const f=c(e,["response"]);return f!=null&&d(t,["response"],XR(f)),t}function XR(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=c(e,["parent"]);l!=null&&d(t,["parent"],l);const a=c(e,["documentName"]);return a!=null&&d(t,["documentName"],a),t}function Hv(e){const t={},o=c(e,["name"]);o!=null&&d(t,["name"],o);const l=c(e,["metadata"]);l!=null&&d(t,["metadata"],l);const a=c(e,["done"]);a!=null&&d(t,["done"],a);const u=c(e,["error"]);u!=null&&d(t,["error"],u);const f=c(e,["response"]);return f!=null&&d(t,["response"],KR(f)),t}function KR(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=c(e,["parent"]);l!=null&&d(t,["parent"],l);const a=c(e,["documentName"]);return a!=null&&d(t,["documentName"],a),t}function QR(e){const t={},o=c(e,["uri"]);o!=null&&d(t,["uri"],o);const l=c(e,["encodedVideo"]);l!=null&&d(t,["videoBytes"],ed(l));const a=c(e,["encoding"]);return a!=null&&d(t,["mimeType"],a),t}function ZR(e){const t={},o=c(e,["gcsUri"]);o!=null&&d(t,["uri"],o);const l=c(e,["bytesBase64Encoded"]);l!=null&&d(t,["videoBytes"],ed(l));const a=c(e,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var a0;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(a0||(a0={}));var s0;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(s0||(s0={}));var u0;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(u0||(u0={}));var hi;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(hi||(hi={}));var c0;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(c0||(c0={}));var f0;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(f0||(f0={}));var d0;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(d0||(d0={}));var h0;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(h0||(h0={}));var p0;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(p0||(p0={}));var m0;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(m0||(m0={}));var g0;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(g0||(g0={}));var y0;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(y0||(y0={}));var v0;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(v0||(v0={}));var _0;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(_0||(_0={}));var S0;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(S0||(S0={}));var T0;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(T0||(T0={}));var E0;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(E0||(E0={}));var A0;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(A0||(A0={}));var C0;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(C0||(C0={}));var us;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(us||(us={}));var R0;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(R0||(R0={}));var x0;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(x0||(x0={}));var M0;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(M0||(M0={}));var Uf;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Uf||(Uf={}));var w0;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(w0||(w0={}));var N0;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(N0||(N0={}));var I0;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(I0||(I0={}));var D0;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(D0||(D0={}));var b0;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(b0||(b0={}));var U0;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(U0||(U0={}));var L0;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(L0||(L0={}));var G0;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(G0||(G0={}));var H0;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(H0||(H0={}));var z0;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(z0||(z0={}));var q0;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(q0||(q0={}));var V0;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(V0||(V0={}));var P0;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(P0||(P0={}));var B0;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(B0||(B0={}));var k0;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(k0||(k0={}));var O0;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(O0||(O0={}));var F0;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(F0||(F0={}));var Y0;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(Y0||(Y0={}));var J0;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(J0||(J0={}));var X0;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(X0||(X0={}));var K0;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(K0||(K0={}));var Q0;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(Q0||(Q0={}));var Z0;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Z0||(Z0={}));var $0;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})($0||($0={}));var W0;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(W0||(W0={}));var j0;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(j0||(j0={}));var ty;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(ty||(ty={}));var ey;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(ey||(ey={}));var ny;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(ny||(ny={}));var iy;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(iy||(iy={}));var oy;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(oy||(oy={}));var bo;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(bo||(bo={}));class Lf{constructor(t){const o={};for(const l of t.headers.entries())o[l[0]]=l[1];this.headers=o,this.responseInternal=t}json(){return this.responseInternal.json()}}class Ol{get text(){var t,o,l,a,u,f,p,y;if(((a=(l=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",v=!1;const _=[];for(const S of(y=(p=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)!==null&&y!==void 0?y:[]){for(const[E,C]of Object.entries(S))E!=="text"&&E!=="thought"&&E!=="thoughtSignature"&&(C!==null||C!==void 0)&&_.push(E);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;v=!0,m+=S.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?m:void 0}get data(){var t,o,l,a,u,f,p,y;if(((a=(l=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const v=[];for(const _ of(y=(p=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)!==null&&y!==void 0?y:[]){for(const[S,E]of Object.entries(_))S!=="inlineData"&&(E!==null||E!==void 0)&&v.push(S);_.inlineData&&typeof _.inlineData.data=="string"&&(m+=atob(_.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var t,o,l,a,u,f,p,y;if(((a=(l=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(y=(p=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var t,o,l,a,u,f,p,y,m;if(((a=(l=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(p=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var t,o,l,a,u,f,p,y,m;if(((a=(l=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(p=(f=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.output}}class ly{}class ry{}class $R{}class WR{}class jR{}class tx{}class ay{}class sy{}class uy{}class ex{}class cs{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const l=new cs;let a;const u=t;return o?a=VR(u):a=qR(u),Object.assign(l,a),l}}class cy{}class fy{}class dy{}class hy{}class nx{}class ix{}class ox{}class nd{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const l=new nd,u=JR(t);return Object.assign(l,u),l}}class lx{}class rx{}class ax{}class py{}class sx{get text(){var t,o,l;let a="",u=!1;const f=[];for(const p of(l=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[y,m]of Object.entries(p))y!=="text"&&y!=="thought"&&m!==null&&f.push(y);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;u=!0,a+=p.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?a:void 0}get data(){var t,o,l;let a="";const u=[];for(const f of(l=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[p,y]of Object.entries(f))p!=="inlineData"&&y!==null&&u.push(p);f.inlineData&&typeof f.inlineData.data=="string"&&(a+=atob(f.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class ux{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class id{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const l=new id,u=Hv(t);return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function It(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const o=t.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function zv(e,t){const o=It(e,t);return o?o.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${o}`:o.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${o}`:o:""}function qv(e){return Array.isArray(e)?e.map(t=>fs(t)):[fs(e)]}function fs(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function Vv(e){const t=fs(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Pv(e){const t=fs(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function my(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function Bv(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>my(t)):[my(e)]}function Gf(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function gy(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function yy(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function ce(e){if(e==null)throw new Error("ContentUnion is required");return Gf(e)?e:{role:"user",parts:Bv(e)}}function od(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(o=>{const l=ce(o);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]});if(e.isVertexAI()){const o=ce(t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(t)?t.map(o=>ce(o)):[ce(t)]}function Ke(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(gy(e)||yy(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ce(e)]}const t=[],o=[],l=Gf(e[0]);for(const a of e){const u=Gf(a);if(u!=l)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)t.push(a);else{if(gy(a)||yy(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(a)}}return l||t.push({role:"user",parts:Bv(o)}),t}function cx(e,t){e.includes("null")&&(t.nullable=!0);const o=e.filter(l=>l!=="null");if(o.length===1)t.type=Object.values(hi).includes(o[0].toUpperCase())?o[0].toUpperCase():hi.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const l of o)t.anyOf.push({type:Object.values(hi).includes(l.toUpperCase())?l.toUpperCase():hi.TYPE_UNSPECIFIED})}}function Ho(e){const t={},o=["items"],l=["anyOf"],a=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const u=e.anyOf;u!=null&&u.length==2&&(u[0].type==="null"?(t.nullable=!0,e=u[1]):u[1].type==="null"&&(t.nullable=!0,e=u[0])),e.type instanceof Array&&cx(e.type,t);for(const[f,p]of Object.entries(e))if(p!=null)if(f=="type"){if(p==="null")throw new Error("type: null can not be the only possible type for the field.");if(p instanceof Array)continue;t.type=Object.values(hi).includes(p.toUpperCase())?p.toUpperCase():hi.TYPE_UNSPECIFIED}else if(o.includes(f))t[f]=Ho(p);else if(l.includes(f)){const y=[];for(const m of p){if(m.type=="null"){t.nullable=!0;continue}y.push(Ho(m))}t[f]=y}else if(a.includes(f)){const y={};for(const[m,v]of Object.entries(p))y[m]=Ho(v);t[f]=y}else{if(f==="additionalProperties")continue;t[f]=p}return t}function ld(e){return Ho(e)}function rd(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function ad(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Oo(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Ho(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Ho(t.response));return e}function Fo(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const o of e)t.push(o);return t}function fx(e,t,o,l=1){const a=!t.startsWith(`${o}/`)&&t.split("/").length===l;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${o}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:a?`projects/${e.getProject()}/locations/${e.getLocation()}/${o}/${t}`:t:a?`${o}/${t}`:t}function Pn(e,t){if(typeof t!="string")throw new Error("name must be a string");return fx(e,t,"cachedContents")}function kv(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function mi(e){return ed(e)}function dx(e){return e!=null&&typeof e=="object"&&"name"in e}function hx(e){return e!=null&&typeof e=="object"&&"video"in e}function px(e){return e!=null&&typeof e=="object"&&"uri"in e}function Ov(e){var t;let o;if(dx(e)&&(o=e.name),!(px(e)&&(o=e.uri,o===void 0))&&!(hx(e)&&(o=(t=e.video)===null||t===void 0?void 0:t.uri,o===void 0))){if(typeof e=="string"&&(o=e),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const a=o.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${o}`);o=a[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function Fv(e,t){let o;return e.isVertexAI()?o=t?"publishers/google/models":"models":o=t?"models":"tunedModels",o}function Yv(e){for(const t of["models","tunedModels","publisherModels"])if(mx(e,t))return e[t];return[]}function mx(e,t){return e!==null&&typeof e=="object"&&t in e}function gx(e,t={}){const o=e,l={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(l.responseJsonSchema=o.outputSchema),t.behavior&&(l.behavior=t.behavior),{functionDeclarations:[l]}}function yx(e,t={}){const o=[],l=new Set;for(const a of e){const u=a.name;if(l.has(u))throw new Error(`Duplicate function name ${u} found in MCP tools. Please ensure function names are unique.`);l.add(u);const f=gx(a,t);f.functionDeclarations&&o.push(...f.functionDeclarations)}return{functionDeclarations:o}}function Jv(e,t){let o;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))o={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))o={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))o={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:t}}else o=t;const l=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,a=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(e.isVertexAI()){if(a>0||l!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(l>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function vx(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function Xv(e){if(typeof e!="object"||e===null)return{};const t=e,o=t.inlinedResponses;if(typeof o!="object"||o===null)return e;const a=o.inlinedResponses;if(!Array.isArray(a)||a.length===0)return e;let u=!1;for(const f of a){if(typeof f!="object"||f===null)continue;const y=f.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){u=!0;break}}return u&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function Yo(e,t){const o=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function Kv(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _x(e){const t={},o=c(e,["responsesFile"]);o!=null&&d(t,["fileName"],o);const l=c(e,["inlinedResponses","inlinedResponses"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>jx(f))),d(t,["inlinedResponses"],u)}const a=c(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>f)),d(t,["inlinedEmbedContentResponses"],u)}return t}function Sx(e){const t={},o=c(e,["predictionsFormat"]);o!=null&&d(t,["format"],o);const l=c(e,["gcsDestination","outputUriPrefix"]);l!=null&&d(t,["gcsUri"],l);const a=c(e,["bigqueryDestination","outputUri"]);return a!=null&&d(t,["bigqueryUri"],a),t}function Tx(e){const t={},o=c(e,["format"]);o!=null&&d(t,["predictionsFormat"],o);const l=c(e,["gcsUri"]);l!=null&&d(t,["gcsDestination","outputUriPrefix"],l);const a=c(e,["bigqueryUri"]);if(a!=null&&d(t,["bigqueryDestination","outputUri"],a),c(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(c(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Xa(e){const t={},o=c(e,["name"]);o!=null&&d(t,["name"],o);const l=c(e,["metadata","displayName"]);l!=null&&d(t,["displayName"],l);const a=c(e,["metadata","state"]);a!=null&&d(t,["state"],Kv(a));const u=c(e,["metadata","createTime"]);u!=null&&d(t,["createTime"],u);const f=c(e,["metadata","endTime"]);f!=null&&d(t,["endTime"],f);const p=c(e,["metadata","updateTime"]);p!=null&&d(t,["updateTime"],p);const y=c(e,["metadata","model"]);y!=null&&d(t,["model"],y);const m=c(e,["metadata","output"]);return m!=null&&d(t,["dest"],_x(Xv(m))),t}function Hf(e){const t={},o=c(e,["name"]);o!=null&&d(t,["name"],o);const l=c(e,["displayName"]);l!=null&&d(t,["displayName"],l);const a=c(e,["state"]);a!=null&&d(t,["state"],Kv(a));const u=c(e,["error"]);u!=null&&d(t,["error"],u);const f=c(e,["createTime"]);f!=null&&d(t,["createTime"],f);const p=c(e,["startTime"]);p!=null&&d(t,["startTime"],p);const y=c(e,["endTime"]);y!=null&&d(t,["endTime"],y);const m=c(e,["updateTime"]);m!=null&&d(t,["updateTime"],m);const v=c(e,["model"]);v!=null&&d(t,["model"],v);const _=c(e,["inputConfig"]);_!=null&&d(t,["src"],Ex(_));const S=c(e,["outputConfig"]);S!=null&&d(t,["dest"],Sx(Xv(S)));const E=c(e,["completionStats"]);return E!=null&&d(t,["completionStats"],E),t}function Ex(e){const t={},o=c(e,["instancesFormat"]);o!=null&&d(t,["format"],o);const l=c(e,["gcsSource","uris"]);l!=null&&d(t,["gcsUri"],l);const a=c(e,["bigquerySource","inputUri"]);return a!=null&&d(t,["bigqueryUri"],a),t}function Ax(e,t){const o={};if(c(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const l=c(t,["fileName"]);l!=null&&d(o,["fileName"],l);const a=c(t,["inlinedRequests"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>Wx(e,f))),d(o,["requests","requests"],u)}return o}function Cx(e){const t={},o=c(e,["format"]);o!=null&&d(t,["instancesFormat"],o);const l=c(e,["gcsUri"]);l!=null&&d(t,["gcsSource","uris"],l);const a=c(e,["bigqueryUri"]);if(a!=null&&d(t,["bigquerySource","inputUri"],a),c(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function Rx(e){const t={},o=c(e,["data"]);if(o!=null&&d(t,["data"],o),c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function xx(e,t){const o={},l=c(t,["name"]);return l!=null&&d(o,["_url","name"],Yo(e,l)),o}function Mx(e,t){const o={},l=c(t,["name"]);return l!=null&&d(o,["_url","name"],Yo(e,l)),o}function wx(e){const t={},o=c(e,["content"]);o!=null&&d(t,["content"],o);const l=c(e,["citationMetadata"]);l!=null&&d(t,["citationMetadata"],Nx(l));const a=c(e,["tokenCount"]);a!=null&&d(t,["tokenCount"],a);const u=c(e,["finishReason"]);u!=null&&d(t,["finishReason"],u);const f=c(e,["avgLogprobs"]);f!=null&&d(t,["avgLogprobs"],f);const p=c(e,["groundingMetadata"]);p!=null&&d(t,["groundingMetadata"],p);const y=c(e,["index"]);y!=null&&d(t,["index"],y);const m=c(e,["logprobsResult"]);m!=null&&d(t,["logprobsResult"],m);const v=c(e,["safetyRatings"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(E=>E)),d(t,["safetyRatings"],S)}const _=c(e,["urlContextMetadata"]);return _!=null&&d(t,["urlContextMetadata"],_),t}function Nx(e){const t={},o=c(e,["citationSources"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(a=>a)),d(t,["citations"],l)}return t}function Qv(e){const t={},o=c(e,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>rM(u))),d(t,["parts"],a)}const l=c(e,["role"]);return l!=null&&d(t,["role"],l),t}function Ix(e,t){const o={},l=c(e,["displayName"]);if(t!==void 0&&l!=null&&d(t,["batch","displayName"],l),c(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function Dx(e,t){const o={},l=c(e,["displayName"]);t!==void 0&&l!=null&&d(t,["displayName"],l);const a=c(e,["dest"]);return t!==void 0&&a!=null&&d(t,["outputConfig"],Tx(vx(a))),o}function vy(e,t){const o={},l=c(t,["model"]);l!=null&&d(o,["_url","model"],It(e,l));const a=c(t,["src"]);a!=null&&d(o,["batch","inputConfig"],Ax(e,Jv(e,a)));const u=c(t,["config"]);return u!=null&&Ix(u,o),o}function bx(e,t){const o={},l=c(t,["model"]);l!=null&&d(o,["model"],It(e,l));const a=c(t,["src"]);a!=null&&d(o,["inputConfig"],Cx(Jv(e,a)));const u=c(t,["config"]);return u!=null&&Dx(u,o),o}function Ux(e,t){const o={},l=c(e,["displayName"]);return t!==void 0&&l!=null&&d(t,["batch","displayName"],l),o}function Lx(e,t){const o={},l=c(t,["model"]);l!=null&&d(o,["_url","model"],It(e,l));const a=c(t,["src"]);a!=null&&d(o,["batch","inputConfig"],Bx(e,a));const u=c(t,["config"]);return u!=null&&Ux(u,o),o}function Gx(e,t){const o={},l=c(t,["name"]);return l!=null&&d(o,["_url","name"],Yo(e,l)),o}function Hx(e,t){const o={},l=c(t,["name"]);return l!=null&&d(o,["_url","name"],Yo(e,l)),o}function zx(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=c(e,["name"]);l!=null&&d(t,["name"],l);const a=c(e,["done"]);a!=null&&d(t,["done"],a);const u=c(e,["error"]);return u!=null&&d(t,["error"],u),t}function qx(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=c(e,["name"]);l!=null&&d(t,["name"],l);const a=c(e,["done"]);a!=null&&d(t,["done"],a);const u=c(e,["error"]);return u!=null&&d(t,["error"],u),t}function Vx(e,t){const o={},l=c(t,["contents"]);if(l!=null){let u=od(e,l);Array.isArray(u)&&(u=u.map(f=>f)),d(o,["requests[]","request","content"],u)}const a=c(t,["config"]);return a!=null&&(d(o,["_self"],Px(a,o)),HR(o,{"requests[].*":"requests[].request.*"})),o}function Px(e,t){const o={},l=c(e,["taskType"]);t!==void 0&&l!=null&&d(t,["requests[]","taskType"],l);const a=c(e,["title"]);t!==void 0&&a!=null&&d(t,["requests[]","title"],a);const u=c(e,["outputDimensionality"]);if(t!==void 0&&u!=null&&d(t,["requests[]","outputDimensionality"],u),c(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function Bx(e,t){const o={},l=c(t,["fileName"]);l!=null&&d(o,["file_name"],l);const a=c(t,["inlinedRequests"]);return a!=null&&d(o,["requests"],Vx(e,a)),o}function kx(e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(e,["fileUri"]);o!=null&&d(t,["fileUri"],o);const l=c(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function Ox(e){const t={},o=c(e,["id"]);o!=null&&d(t,["id"],o);const l=c(e,["args"]);l!=null&&d(t,["args"],l);const a=c(e,["name"]);if(a!=null&&d(t,["name"],a),c(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Fx(e){const t={},o=c(e,["mode"]);o!=null&&d(t,["mode"],o);const l=c(e,["allowedFunctionNames"]);if(l!=null&&d(t,["allowedFunctionNames"],l),c(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Yx(e,t,o){const l={},a=c(t,["systemInstruction"]);o!==void 0&&a!=null&&d(o,["systemInstruction"],Qv(ce(a)));const u=c(t,["temperature"]);u!=null&&d(l,["temperature"],u);const f=c(t,["topP"]);f!=null&&d(l,["topP"],f);const p=c(t,["topK"]);p!=null&&d(l,["topK"],p);const y=c(t,["candidateCount"]);y!=null&&d(l,["candidateCount"],y);const m=c(t,["maxOutputTokens"]);m!=null&&d(l,["maxOutputTokens"],m);const v=c(t,["stopSequences"]);v!=null&&d(l,["stopSequences"],v);const _=c(t,["responseLogprobs"]);_!=null&&d(l,["responseLogprobs"],_);const S=c(t,["logprobs"]);S!=null&&d(l,["logprobs"],S);const E=c(t,["presencePenalty"]);E!=null&&d(l,["presencePenalty"],E);const C=c(t,["frequencyPenalty"]);C!=null&&d(l,["frequencyPenalty"],C);const N=c(t,["seed"]);N!=null&&d(l,["seed"],N);const w=c(t,["responseMimeType"]);w!=null&&d(l,["responseMimeType"],w);const I=c(t,["responseSchema"]);I!=null&&d(l,["responseSchema"],ld(I));const O=c(t,["responseJsonSchema"]);if(O!=null&&d(l,["responseJsonSchema"],O),c(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const U=c(t,["safetySettings"]);if(o!==void 0&&U!=null){let ct=U;Array.isArray(ct)&&(ct=ct.map(L=>aM(L))),d(o,["safetySettings"],ct)}const b=c(t,["tools"]);if(o!==void 0&&b!=null){let ct=Fo(b);Array.isArray(ct)&&(ct=ct.map(L=>uM(Oo(L)))),d(o,["tools"],ct)}const X=c(t,["toolConfig"]);if(o!==void 0&&X!=null&&d(o,["toolConfig"],sM(X)),c(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=c(t,["cachedContent"]);o!==void 0&&k!=null&&d(o,["cachedContent"],Pn(e,k));const F=c(t,["responseModalities"]);F!=null&&d(l,["responseModalities"],F);const W=c(t,["mediaResolution"]);W!=null&&d(l,["mediaResolution"],W);const K=c(t,["speechConfig"]);if(K!=null&&d(l,["speechConfig"],rd(K)),c(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ot=c(t,["thinkingConfig"]);ot!=null&&d(l,["thinkingConfig"],ot);const it=c(t,["imageConfig"]);it!=null&&d(l,["imageConfig"],$x(it));const pt=c(t,["enableEnhancedCivicAnswers"]);return pt!=null&&d(l,["enableEnhancedCivicAnswers"],pt),l}function Jx(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=c(e,["candidates"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(m=>wx(m))),d(t,["candidates"],y)}const a=c(e,["modelVersion"]);a!=null&&d(t,["modelVersion"],a);const u=c(e,["promptFeedback"]);u!=null&&d(t,["promptFeedback"],u);const f=c(e,["responseId"]);f!=null&&d(t,["responseId"],f);const p=c(e,["usageMetadata"]);return p!=null&&d(t,["usageMetadata"],p),t}function Xx(e,t){const o={},l=c(t,["name"]);return l!=null&&d(o,["_url","name"],Yo(e,l)),o}function Kx(e,t){const o={},l=c(t,["name"]);return l!=null&&d(o,["_url","name"],Yo(e,l)),o}function Qx(e){const t={};if(c(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(e,["enableWidget"]);return o!=null&&d(t,["enableWidget"],o),t}function Zx(e){const t={};if(c(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(e,["timeRangeFilter"]);return o!=null&&d(t,["timeRangeFilter"],o),t}function $x(e){const t={},o=c(e,["aspectRatio"]);o!=null&&d(t,["aspectRatio"],o);const l=c(e,["imageSize"]);if(l!=null&&d(t,["imageSize"],l),c(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function Wx(e,t){const o={},l=c(t,["model"]);l!=null&&d(o,["request","model"],It(e,l));const a=c(t,["contents"]);if(a!=null){let p=Ke(a);Array.isArray(p)&&(p=p.map(y=>Qv(y))),d(o,["request","contents"],p)}const u=c(t,["metadata"]);u!=null&&d(o,["metadata"],u);const f=c(t,["config"]);return f!=null&&d(o,["request","generationConfig"],Yx(e,f,c(o,["request"],{}))),o}function jx(e){const t={},o=c(e,["response"]);o!=null&&d(t,["response"],Jx(o));const l=c(e,["error"]);return l!=null&&d(t,["error"],l),t}function tM(e,t){const o={},l=c(e,["pageSize"]);t!==void 0&&l!=null&&d(t,["_query","pageSize"],l);const a=c(e,["pageToken"]);if(t!==void 0&&a!=null&&d(t,["_query","pageToken"],a),c(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function eM(e,t){const o={},l=c(e,["pageSize"]);t!==void 0&&l!=null&&d(t,["_query","pageSize"],l);const a=c(e,["pageToken"]);t!==void 0&&a!=null&&d(t,["_query","pageToken"],a);const u=c(e,["filter"]);return t!==void 0&&u!=null&&d(t,["_query","filter"],u),o}function nM(e){const t={},o=c(e,["config"]);return o!=null&&tM(o,t),t}function iM(e){const t={},o=c(e,["config"]);return o!=null&&eM(o,t),t}function oM(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=c(e,["nextPageToken"]);l!=null&&d(t,["nextPageToken"],l);const a=c(e,["operations"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>Xa(f))),d(t,["batchJobs"],u)}return t}function lM(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=c(e,["nextPageToken"]);l!=null&&d(t,["nextPageToken"],l);const a=c(e,["batchPredictionJobs"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>Hf(f))),d(t,["batchJobs"],u)}return t}function rM(e){const t={},o=c(e,["mediaResolution"]);o!=null&&d(t,["mediaResolution"],o);const l=c(e,["codeExecutionResult"]);l!=null&&d(t,["codeExecutionResult"],l);const a=c(e,["executableCode"]);a!=null&&d(t,["executableCode"],a);const u=c(e,["fileData"]);u!=null&&d(t,["fileData"],kx(u));const f=c(e,["functionCall"]);f!=null&&d(t,["functionCall"],Ox(f));const p=c(e,["functionResponse"]);p!=null&&d(t,["functionResponse"],p);const y=c(e,["inlineData"]);y!=null&&d(t,["inlineData"],Rx(y));const m=c(e,["text"]);m!=null&&d(t,["text"],m);const v=c(e,["thought"]);v!=null&&d(t,["thought"],v);const _=c(e,["thoughtSignature"]);_!=null&&d(t,["thoughtSignature"],_);const S=c(e,["videoMetadata"]);return S!=null&&d(t,["videoMetadata"],S),t}function aM(e){const t={},o=c(e,["category"]);if(o!=null&&d(t,["category"],o),c(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=c(e,["threshold"]);return l!=null&&d(t,["threshold"],l),t}function sM(e){const t={},o=c(e,["functionCallingConfig"]);o!=null&&d(t,["functionCallingConfig"],Fx(o));const l=c(e,["retrievalConfig"]);return l!=null&&d(t,["retrievalConfig"],l),t}function uM(e){const t={},o=c(e,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(_=>_)),d(t,["functionDeclarations"],v)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=c(e,["googleSearchRetrieval"]);l!=null&&d(t,["googleSearchRetrieval"],l);const a=c(e,["computerUse"]);a!=null&&d(t,["computerUse"],a);const u=c(e,["fileSearch"]);u!=null&&d(t,["fileSearch"],u);const f=c(e,["codeExecution"]);if(f!=null&&d(t,["codeExecution"],f),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=c(e,["googleMaps"]);p!=null&&d(t,["googleMaps"],Qx(p));const y=c(e,["googleSearch"]);y!=null&&d(t,["googleSearch"],Zx(y));const m=c(e,["urlContext"]);return m!=null&&d(t,["urlContext"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var qn;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(qn||(qn={}));class ki{constructor(t,o,l,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(t,l,a)}init(t,o,l){var a,u;this.nameInternal=t,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let f={config:{}};!l||Object.keys(l).length===0?f={config:{}}:typeof l=="object"?f=Object.assign({},l):f=l,f.config&&(f.config.pageToken=o.nextPageToken),this.paramsInternal=f,this.pageInternalSize=(u=(a=f.config)===null||a===void 0?void 0:a.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cM extends Vn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new ki(qn.PAGED_ITEM_BATCH_JOBS,l=>this.listInternal(l),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(t){const o=vy(this.apiClient,t),l=o._url,a=rt("{model}:batchGenerateContent",l),p=o.batch.inputConfig.requests,y=p.requests,m=[];for(const v of y){const _=Object.assign({},v);if(_.systemInstruction){const S=_.systemInstruction;delete _.systemInstruction;const E=_.request;E.systemInstruction=S,_.request=E}m.push(_)}return p.requests=m,delete o.config,delete o._url,delete o._query,{path:a,body:o}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,o){const l=o?Object.assign({},o):{},a=Date.now().toString();if(l.displayName||(l.displayName=`genaiBatchJob_${a}`),l.dest===void 0){const u=this.getGcsUri(t),f=this.getBigqueryUri(t);if(u)u.endsWith(".jsonl")?l.dest=`${u.slice(0,-6)}/dest`:l.dest=`${u}_dest_${a}`;else if(f)l.dest=`${f}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return l}async createInternal(t){var o,l,a,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=bx(this.apiClient,t);return p=rt("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>Hf(v))}else{const m=vy(this.apiClient,t);return p=rt("{model}:batchGenerateContent",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>Xa(v))}}async createEmbeddingsInternal(t){var o,l;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Lx(this.apiClient,t);return u=rt("{model}:asyncBatchEmbedContent",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a.then(y=>Xa(y))}}async get(t){var o,l,a,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=Kx(this.apiClient,t);return p=rt("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>Hf(v))}else{const m=Xx(this.apiClient,t);return p=rt("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>Xa(v))}}async cancel(t){var o,l,a,u;let f="",p={};if(this.apiClient.isVertexAI()){const y=Mx(this.apiClient,t);f=rt("batchPredictionJobs/{name}:cancel",y._url),p=y._query,delete y._url,delete y._query,await this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal})}else{const y=xx(this.apiClient,t);f=rt("batches/{name}:cancel",y._url),p=y._query,delete y._url,delete y._query,await this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal})}}async listInternal(t){var o,l,a,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=iM(t);return p=rt("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=lM(v),S=new py;return Object.assign(S,_),S})}else{const m=nM(t);return p=rt("batches",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=oM(v),S=new py;return Object.assign(S,_),S})}}async delete(t){var o,l,a,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=Hx(this.apiClient,t);return p=rt("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>qx(v))}else{const m=Gx(this.apiClient,t);return p=rt("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>zx(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fM(e){const t={},o=c(e,["data"]);if(o!=null&&d(t,["data"],o),c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function _y(e){const t={},o=c(e,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>LM(u))),d(t,["parts"],a)}const l=c(e,["role"]);return l!=null&&d(t,["role"],l),t}function dM(e,t){const o={},l=c(e,["ttl"]);t!==void 0&&l!=null&&d(t,["ttl"],l);const a=c(e,["expireTime"]);t!==void 0&&a!=null&&d(t,["expireTime"],a);const u=c(e,["displayName"]);t!==void 0&&u!=null&&d(t,["displayName"],u);const f=c(e,["contents"]);if(t!==void 0&&f!=null){let v=Ke(f);Array.isArray(v)&&(v=v.map(_=>_y(_))),d(t,["contents"],v)}const p=c(e,["systemInstruction"]);t!==void 0&&p!=null&&d(t,["systemInstruction"],_y(ce(p)));const y=c(e,["tools"]);if(t!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(_=>HM(_))),d(t,["tools"],v)}const m=c(e,["toolConfig"]);if(t!==void 0&&m!=null&&d(t,["toolConfig"],GM(m)),c(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function hM(e,t){const o={},l=c(e,["ttl"]);t!==void 0&&l!=null&&d(t,["ttl"],l);const a=c(e,["expireTime"]);t!==void 0&&a!=null&&d(t,["expireTime"],a);const u=c(e,["displayName"]);t!==void 0&&u!=null&&d(t,["displayName"],u);const f=c(e,["contents"]);if(t!==void 0&&f!=null){let _=Ke(f);Array.isArray(_)&&(_=_.map(S=>S)),d(t,["contents"],_)}const p=c(e,["systemInstruction"]);t!==void 0&&p!=null&&d(t,["systemInstruction"],ce(p));const y=c(e,["tools"]);if(t!==void 0&&y!=null){let _=y;Array.isArray(_)&&(_=_.map(S=>zM(S))),d(t,["tools"],_)}const m=c(e,["toolConfig"]);t!==void 0&&m!=null&&d(t,["toolConfig"],m);const v=c(e,["kmsKeyName"]);return t!==void 0&&v!=null&&d(t,["encryption_spec","kmsKeyName"],v),o}function pM(e,t){const o={},l=c(t,["model"]);l!=null&&d(o,["model"],zv(e,l));const a=c(t,["config"]);return a!=null&&dM(a,o),o}function mM(e,t){const o={},l=c(t,["model"]);l!=null&&d(o,["model"],zv(e,l));const a=c(t,["config"]);return a!=null&&hM(a,o),o}function gM(e,t){const o={},l=c(t,["name"]);return l!=null&&d(o,["_url","name"],Pn(e,l)),o}function yM(e,t){const o={},l=c(t,["name"]);return l!=null&&d(o,["_url","name"],Pn(e,l)),o}function vM(e){const t={},o=c(e,["sdkHttpResponse"]);return o!=null&&d(t,["sdkHttpResponse"],o),t}function _M(e){const t={},o=c(e,["sdkHttpResponse"]);return o!=null&&d(t,["sdkHttpResponse"],o),t}function SM(e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(e,["fileUri"]);o!=null&&d(t,["fileUri"],o);const l=c(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function TM(e){const t={},o=c(e,["id"]);o!=null&&d(t,["id"],o);const l=c(e,["args"]);l!=null&&d(t,["args"],l);const a=c(e,["name"]);if(a!=null&&d(t,["name"],a),c(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function EM(e){const t={},o=c(e,["mode"]);o!=null&&d(t,["mode"],o);const l=c(e,["allowedFunctionNames"]);if(l!=null&&d(t,["allowedFunctionNames"],l),c(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function AM(e){const t={};if(c(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=c(e,["description"]);o!=null&&d(t,["description"],o);const l=c(e,["name"]);l!=null&&d(t,["name"],l);const a=c(e,["parameters"]);a!=null&&d(t,["parameters"],a);const u=c(e,["parametersJsonSchema"]);u!=null&&d(t,["parametersJsonSchema"],u);const f=c(e,["response"]);f!=null&&d(t,["response"],f);const p=c(e,["responseJsonSchema"]);return p!=null&&d(t,["responseJsonSchema"],p),t}function CM(e,t){const o={},l=c(t,["name"]);return l!=null&&d(o,["_url","name"],Pn(e,l)),o}function RM(e,t){const o={},l=c(t,["name"]);return l!=null&&d(o,["_url","name"],Pn(e,l)),o}function xM(e){const t={};if(c(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(e,["enableWidget"]);return o!=null&&d(t,["enableWidget"],o),t}function MM(e){const t={};if(c(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(e,["timeRangeFilter"]);return o!=null&&d(t,["timeRangeFilter"],o),t}function wM(e,t){const o={},l=c(e,["pageSize"]);t!==void 0&&l!=null&&d(t,["_query","pageSize"],l);const a=c(e,["pageToken"]);return t!==void 0&&a!=null&&d(t,["_query","pageToken"],a),o}function NM(e,t){const o={},l=c(e,["pageSize"]);t!==void 0&&l!=null&&d(t,["_query","pageSize"],l);const a=c(e,["pageToken"]);return t!==void 0&&a!=null&&d(t,["_query","pageToken"],a),o}function IM(e){const t={},o=c(e,["config"]);return o!=null&&wM(o,t),t}function DM(e){const t={},o=c(e,["config"]);return o!=null&&NM(o,t),t}function bM(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=c(e,["nextPageToken"]);l!=null&&d(t,["nextPageToken"],l);const a=c(e,["cachedContents"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>f)),d(t,["cachedContents"],u)}return t}function UM(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=c(e,["nextPageToken"]);l!=null&&d(t,["nextPageToken"],l);const a=c(e,["cachedContents"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>f)),d(t,["cachedContents"],u)}return t}function LM(e){const t={},o=c(e,["mediaResolution"]);o!=null&&d(t,["mediaResolution"],o);const l=c(e,["codeExecutionResult"]);l!=null&&d(t,["codeExecutionResult"],l);const a=c(e,["executableCode"]);a!=null&&d(t,["executableCode"],a);const u=c(e,["fileData"]);u!=null&&d(t,["fileData"],SM(u));const f=c(e,["functionCall"]);f!=null&&d(t,["functionCall"],TM(f));const p=c(e,["functionResponse"]);p!=null&&d(t,["functionResponse"],p);const y=c(e,["inlineData"]);y!=null&&d(t,["inlineData"],fM(y));const m=c(e,["text"]);m!=null&&d(t,["text"],m);const v=c(e,["thought"]);v!=null&&d(t,["thought"],v);const _=c(e,["thoughtSignature"]);_!=null&&d(t,["thoughtSignature"],_);const S=c(e,["videoMetadata"]);return S!=null&&d(t,["videoMetadata"],S),t}function GM(e){const t={},o=c(e,["functionCallingConfig"]);o!=null&&d(t,["functionCallingConfig"],EM(o));const l=c(e,["retrievalConfig"]);return l!=null&&d(t,["retrievalConfig"],l),t}function HM(e){const t={},o=c(e,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(_=>_)),d(t,["functionDeclarations"],v)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=c(e,["googleSearchRetrieval"]);l!=null&&d(t,["googleSearchRetrieval"],l);const a=c(e,["computerUse"]);a!=null&&d(t,["computerUse"],a);const u=c(e,["fileSearch"]);u!=null&&d(t,["fileSearch"],u);const f=c(e,["codeExecution"]);if(f!=null&&d(t,["codeExecution"],f),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=c(e,["googleMaps"]);p!=null&&d(t,["googleMaps"],xM(p));const y=c(e,["googleSearch"]);y!=null&&d(t,["googleSearch"],MM(y));const m=c(e,["urlContext"]);return m!=null&&d(t,["urlContext"],m),t}function zM(e){const t={},o=c(e,["functionDeclarations"]);if(o!=null){let _=o;Array.isArray(_)&&(_=_.map(S=>AM(S))),d(t,["functionDeclarations"],_)}const l=c(e,["retrieval"]);l!=null&&d(t,["retrieval"],l);const a=c(e,["googleSearchRetrieval"]);a!=null&&d(t,["googleSearchRetrieval"],a);const u=c(e,["computerUse"]);if(u!=null&&d(t,["computerUse"],u),c(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const f=c(e,["codeExecution"]);f!=null&&d(t,["codeExecution"],f);const p=c(e,["enterpriseWebSearch"]);p!=null&&d(t,["enterpriseWebSearch"],p);const y=c(e,["googleMaps"]);y!=null&&d(t,["googleMaps"],y);const m=c(e,["googleSearch"]);m!=null&&d(t,["googleSearch"],m);const v=c(e,["urlContext"]);return v!=null&&d(t,["urlContext"],v),t}function qM(e,t){const o={},l=c(e,["ttl"]);t!==void 0&&l!=null&&d(t,["ttl"],l);const a=c(e,["expireTime"]);return t!==void 0&&a!=null&&d(t,["expireTime"],a),o}function VM(e,t){const o={},l=c(e,["ttl"]);t!==void 0&&l!=null&&d(t,["ttl"],l);const a=c(e,["expireTime"]);return t!==void 0&&a!=null&&d(t,["expireTime"],a),o}function PM(e,t){const o={},l=c(t,["name"]);l!=null&&d(o,["_url","name"],Pn(e,l));const a=c(t,["config"]);return a!=null&&qM(a,o),o}function BM(e,t){const o={},l=c(t,["name"]);l!=null&&d(o,["_url","name"],Pn(e,l));const a=c(t,["config"]);return a!=null&&VM(a,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kM extends Vn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new ki(qn.PAGED_ITEM_CACHED_CONTENTS,l=>this.listInternal(l),await this.listInternal(o),o)}async create(t){var o,l,a,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=mM(this.apiClient,t);return p=rt("cachedContents",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const m=pM(this.apiClient,t);return p=rt("cachedContents",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async get(t){var o,l,a,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=RM(this.apiClient,t);return p=rt("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const m=CM(this.apiClient,t);return p=rt("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async delete(t){var o,l,a,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=yM(this.apiClient,t);return p=rt("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=_M(v),S=new dy;return Object.assign(S,_),S})}else{const m=gM(this.apiClient,t);return p=rt("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=vM(v),S=new dy;return Object.assign(S,_),S})}}async update(t){var o,l,a,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=BM(this.apiClient,t);return p=rt("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>v)}else{const m=PM(this.apiClient,t);return p=rt("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>v)}}async listInternal(t){var o,l,a,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=DM(t);return p=rt("cachedContents",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=UM(v),S=new hy;return Object.assign(S,_),S})}else{const m=IM(t);return p=rt("cachedContents",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=bM(v),S=new hy;return Object.assign(S,_),S})}}}function ds(e,t){var o={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(o[l]=e[l]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,l=Object.getOwnPropertySymbols(e);a<l.length;a++)t.indexOf(l[a])<0&&Object.prototype.propertyIsEnumerable.call(e,l[a])&&(o[l[a]]=e[l[a]]);return o}function Sy(e){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&e[t],l=0;if(o)return o.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&l>=e.length&&(e=void 0),{value:e&&e[l++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function mt(e){return this instanceof mt?(this.v=e,this):new mt(e)}function en(e,t,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=o.apply(e,t||[]),a,u=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",f),a[Symbol.asyncIterator]=function(){return this},a;function f(E){return function(C){return Promise.resolve(C).then(E,_)}}function p(E,C){l[E]&&(a[E]=function(N){return new Promise(function(w,I){u.push([E,N,w,I])>1||y(E,N)})},C&&(a[E]=C(a[E])))}function y(E,C){try{m(l[E](C))}catch(N){S(u[0][3],N)}}function m(E){E.value instanceof mt?Promise.resolve(E.value.v).then(v,_):S(u[0][2],E)}function v(E){y("next",E)}function _(E){y("throw",E)}function S(E,C){E(C),u.shift(),u.length&&y(u[0][0],u[0][1])}}function nn(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],o;return t?t.call(e):(e=typeof Sy=="function"?Sy(e):e[Symbol.iterator](),o={},l("next"),l("throw"),l("return"),o[Symbol.asyncIterator]=function(){return this},o);function l(u){o[u]=e[u]&&function(f){return new Promise(function(p,y){f=e[u](f),a(p,y,f.done,f.value)})}}function a(u,f,p,y){Promise.resolve(y).then(function(m){u({value:m,done:p})},f)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OM(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const o=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return o===void 0?!1:Zv(o)}function Zv(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function FM(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Ty(e){if(e===void 0||e.length===0)return[];const t=[],o=e.length;let l=0;for(;l<o;)if(e[l].role==="user")t.push(e[l]),l++;else{const a=[];let u=!0;for(;l<o&&e[l].role==="model";)a.push(e[l]),u&&!Zv(e[l])&&(u=!1),l++;u?t.push(...a):t.pop()}return t}class YM{constructor(t,o){this.modelsModule=t,this.apiClient=o}create(t){return new JM(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class JM{constructor(t,o,l,a={},u=[]){this.apiClient=t,this.modelsModule=o,this.model=l,this.config=a,this.history=u,this.sendPromise=Promise.resolve(),FM(u)}async sendMessage(t){var o;await this.sendPromise;const l=ce(t.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(l),config:(o=t.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var u,f,p;const y=await a,m=(f=(u=y.candidates)===null||u===void 0?void 0:u[0])===null||f===void 0?void 0:f.content,v=y.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let S=[];v!=null&&(S=(p=v.slice(_))!==null&&p!==void 0?p:[]);const E=m?[m]:[];this.recordHistory(l,E,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(t){var o;await this.sendPromise;const l=ce(t.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(l),config:(o=t.config)!==null&&o!==void 0?o:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const u=await a;return this.processStreamResponse(u,l)}getHistory(t=!1){const o=t?Ty(this.history):this.history;return structuredClone(o)}processStreamResponse(t,o){return en(this,arguments,function*(){var a,u,f,p,y,m;const v=[];try{for(var _=!0,S=nn(t),E;E=yield mt(S.next()),a=E.done,!a;_=!0){p=E.value,_=!1;const C=p;if(OM(C)){const N=(m=(y=C.candidates)===null||y===void 0?void 0:y[0])===null||m===void 0?void 0:m.content;N!==void 0&&v.push(N)}yield yield mt(C)}}catch(C){u={error:C}}finally{try{!_&&!a&&(f=S.return)&&(yield mt(f.call(S)))}finally{if(u)throw u.error}}this.recordHistory(o,v)})}recordHistory(t,o,l){let a=[];o.length>0&&o.every(u=>u.role!==void 0)?a=o:a.push({role:"model",parts:[]}),l&&l.length>0?this.history.push(...Ty(l)):this.history.push(t),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ss extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Ss.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XM(e){const t={},o=c(e,["file"]);return o!=null&&d(t,["file"],o),t}function KM(e){const t={},o=c(e,["sdkHttpResponse"]);return o!=null&&d(t,["sdkHttpResponse"],o),t}function QM(e){const t={},o=c(e,["name"]);return o!=null&&d(t,["_url","file"],Ov(o)),t}function ZM(e){const t={},o=c(e,["sdkHttpResponse"]);return o!=null&&d(t,["sdkHttpResponse"],o),t}function $M(e){const t={},o=c(e,["name"]);return o!=null&&d(t,["_url","file"],Ov(o)),t}function WM(e,t){const o={},l=c(e,["pageSize"]);t!==void 0&&l!=null&&d(t,["_query","pageSize"],l);const a=c(e,["pageToken"]);return t!==void 0&&a!=null&&d(t,["_query","pageToken"],a),o}function jM(e){const t={},o=c(e,["config"]);return o!=null&&WM(o,t),t}function tw(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=c(e,["nextPageToken"]);l!=null&&d(t,["nextPageToken"],l);const a=c(e,["files"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>f)),d(t,["files"],u)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ew extends Vn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new ki(qn.PAGED_ITEM_FILES,l=>this.listInternal(l),await this.listInternal(o),o)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(o=>o)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var o,l;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=jM(t);return u=rt("files",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const m=tw(y),v=new lx;return Object.assign(v,m),v})}}async createInternal(t){var o,l;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=XM(t);return u=rt("upload/v1beta/files",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a.then(y=>{const m=KM(y),v=new rx;return Object.assign(v,m),v})}}async get(t){var o,l;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=$M(t);return u=rt("files/{file}",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a.then(y=>y)}}async delete(t){var o,l;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=QM(t);return u=rt("files/{file}",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const m=ZM(y),v=new ax;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ka(e){const t={},o=c(e,["data"]);if(o!=null&&d(t,["data"],o),c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function nw(e){const t={},o=c(e,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>vw(u))),d(t,["parts"],a)}const l=c(e,["role"]);return l!=null&&d(t,["role"],l),t}function iw(e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(e,["fileUri"]);o!=null&&d(t,["fileUri"],o);const l=c(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function ow(e){const t={},o=c(e,["id"]);o!=null&&d(t,["id"],o);const l=c(e,["args"]);l!=null&&d(t,["args"],l);const a=c(e,["name"]);if(a!=null&&d(t,["name"],a),c(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function lw(e){const t={};if(c(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=c(e,["description"]);o!=null&&d(t,["description"],o);const l=c(e,["name"]);l!=null&&d(t,["name"],l);const a=c(e,["parameters"]);a!=null&&d(t,["parameters"],a);const u=c(e,["parametersJsonSchema"]);u!=null&&d(t,["parametersJsonSchema"],u);const f=c(e,["response"]);f!=null&&d(t,["response"],f);const p=c(e,["responseJsonSchema"]);return p!=null&&d(t,["responseJsonSchema"],p),t}function rw(e){const t={},o=c(e,["modelSelectionConfig"]);o!=null&&d(t,["modelConfig"],o);const l=c(e,["responseJsonSchema"]);l!=null&&d(t,["responseJsonSchema"],l);const a=c(e,["audioTimestamp"]);a!=null&&d(t,["audioTimestamp"],a);const u=c(e,["candidateCount"]);u!=null&&d(t,["candidateCount"],u);const f=c(e,["enableAffectiveDialog"]);f!=null&&d(t,["enableAffectiveDialog"],f);const p=c(e,["frequencyPenalty"]);p!=null&&d(t,["frequencyPenalty"],p);const y=c(e,["logprobs"]);y!=null&&d(t,["logprobs"],y);const m=c(e,["maxOutputTokens"]);m!=null&&d(t,["maxOutputTokens"],m);const v=c(e,["mediaResolution"]);v!=null&&d(t,["mediaResolution"],v);const _=c(e,["presencePenalty"]);_!=null&&d(t,["presencePenalty"],_);const S=c(e,["responseLogprobs"]);S!=null&&d(t,["responseLogprobs"],S);const E=c(e,["responseMimeType"]);E!=null&&d(t,["responseMimeType"],E);const C=c(e,["responseModalities"]);C!=null&&d(t,["responseModalities"],C);const N=c(e,["responseSchema"]);N!=null&&d(t,["responseSchema"],N);const w=c(e,["routingConfig"]);w!=null&&d(t,["routingConfig"],w);const I=c(e,["seed"]);I!=null&&d(t,["seed"],I);const O=c(e,["speechConfig"]);O!=null&&d(t,["speechConfig"],O);const U=c(e,["stopSequences"]);U!=null&&d(t,["stopSequences"],U);const b=c(e,["temperature"]);b!=null&&d(t,["temperature"],b);const X=c(e,["thinkingConfig"]);X!=null&&d(t,["thinkingConfig"],X);const k=c(e,["topK"]);k!=null&&d(t,["topK"],k);const F=c(e,["topP"]);if(F!=null&&d(t,["topP"],F),c(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function aw(e){const t={};if(c(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(e,["enableWidget"]);return o!=null&&d(t,["enableWidget"],o),t}function sw(e){const t={};if(c(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(e,["timeRangeFilter"]);return o!=null&&d(t,["timeRangeFilter"],o),t}function uw(e,t){const o={},l=c(e,["generationConfig"]);t!==void 0&&l!=null&&d(t,["setup","generationConfig"],l);const a=c(e,["responseModalities"]);t!==void 0&&a!=null&&d(t,["setup","generationConfig","responseModalities"],a);const u=c(e,["temperature"]);t!==void 0&&u!=null&&d(t,["setup","generationConfig","temperature"],u);const f=c(e,["topP"]);t!==void 0&&f!=null&&d(t,["setup","generationConfig","topP"],f);const p=c(e,["topK"]);t!==void 0&&p!=null&&d(t,["setup","generationConfig","topK"],p);const y=c(e,["maxOutputTokens"]);t!==void 0&&y!=null&&d(t,["setup","generationConfig","maxOutputTokens"],y);const m=c(e,["mediaResolution"]);t!==void 0&&m!=null&&d(t,["setup","generationConfig","mediaResolution"],m);const v=c(e,["seed"]);t!==void 0&&v!=null&&d(t,["setup","generationConfig","seed"],v);const _=c(e,["speechConfig"]);t!==void 0&&_!=null&&d(t,["setup","generationConfig","speechConfig"],ad(_));const S=c(e,["thinkingConfig"]);t!==void 0&&S!=null&&d(t,["setup","generationConfig","thinkingConfig"],S);const E=c(e,["enableAffectiveDialog"]);t!==void 0&&E!=null&&d(t,["setup","generationConfig","enableAffectiveDialog"],E);const C=c(e,["systemInstruction"]);t!==void 0&&C!=null&&d(t,["setup","systemInstruction"],nw(ce(C)));const N=c(e,["tools"]);if(t!==void 0&&N!=null){let k=Fo(N);Array.isArray(k)&&(k=k.map(F=>Sw(Oo(F)))),d(t,["setup","tools"],k)}const w=c(e,["sessionResumption"]);t!==void 0&&w!=null&&d(t,["setup","sessionResumption"],_w(w));const I=c(e,["inputAudioTranscription"]);t!==void 0&&I!=null&&d(t,["setup","inputAudioTranscription"],I);const O=c(e,["outputAudioTranscription"]);t!==void 0&&O!=null&&d(t,["setup","outputAudioTranscription"],O);const U=c(e,["realtimeInputConfig"]);t!==void 0&&U!=null&&d(t,["setup","realtimeInputConfig"],U);const b=c(e,["contextWindowCompression"]);t!==void 0&&b!=null&&d(t,["setup","contextWindowCompression"],b);const X=c(e,["proactivity"]);if(t!==void 0&&X!=null&&d(t,["setup","proactivity"],X),c(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function cw(e,t){const o={},l=c(e,["generationConfig"]);t!==void 0&&l!=null&&d(t,["setup","generationConfig"],rw(l));const a=c(e,["responseModalities"]);t!==void 0&&a!=null&&d(t,["setup","generationConfig","responseModalities"],a);const u=c(e,["temperature"]);t!==void 0&&u!=null&&d(t,["setup","generationConfig","temperature"],u);const f=c(e,["topP"]);t!==void 0&&f!=null&&d(t,["setup","generationConfig","topP"],f);const p=c(e,["topK"]);t!==void 0&&p!=null&&d(t,["setup","generationConfig","topK"],p);const y=c(e,["maxOutputTokens"]);t!==void 0&&y!=null&&d(t,["setup","generationConfig","maxOutputTokens"],y);const m=c(e,["mediaResolution"]);t!==void 0&&m!=null&&d(t,["setup","generationConfig","mediaResolution"],m);const v=c(e,["seed"]);t!==void 0&&v!=null&&d(t,["setup","generationConfig","seed"],v);const _=c(e,["speechConfig"]);t!==void 0&&_!=null&&d(t,["setup","generationConfig","speechConfig"],ad(_));const S=c(e,["thinkingConfig"]);t!==void 0&&S!=null&&d(t,["setup","generationConfig","thinkingConfig"],S);const E=c(e,["enableAffectiveDialog"]);t!==void 0&&E!=null&&d(t,["setup","generationConfig","enableAffectiveDialog"],E);const C=c(e,["systemInstruction"]);t!==void 0&&C!=null&&d(t,["setup","systemInstruction"],ce(C));const N=c(e,["tools"]);if(t!==void 0&&N!=null){let F=Fo(N);Array.isArray(F)&&(F=F.map(W=>Tw(Oo(W)))),d(t,["setup","tools"],F)}const w=c(e,["sessionResumption"]);t!==void 0&&w!=null&&d(t,["setup","sessionResumption"],w);const I=c(e,["inputAudioTranscription"]);t!==void 0&&I!=null&&d(t,["setup","inputAudioTranscription"],I);const O=c(e,["outputAudioTranscription"]);t!==void 0&&O!=null&&d(t,["setup","outputAudioTranscription"],O);const U=c(e,["realtimeInputConfig"]);t!==void 0&&U!=null&&d(t,["setup","realtimeInputConfig"],U);const b=c(e,["contextWindowCompression"]);t!==void 0&&b!=null&&d(t,["setup","contextWindowCompression"],b);const X=c(e,["proactivity"]);t!==void 0&&X!=null&&d(t,["setup","proactivity"],X);const k=c(e,["explicitVadSignal"]);return t!==void 0&&k!=null&&d(t,["setup","explicitVadSignal"],k),o}function fw(e,t){const o={},l=c(t,["model"]);l!=null&&d(o,["setup","model"],It(e,l));const a=c(t,["config"]);return a!=null&&d(o,["config"],uw(a,o)),o}function dw(e,t){const o={},l=c(t,["model"]);l!=null&&d(o,["setup","model"],It(e,l));const a=c(t,["config"]);return a!=null&&d(o,["config"],cw(a,o)),o}function hw(e){const t={},o=c(e,["musicGenerationConfig"]);return o!=null&&d(t,["musicGenerationConfig"],o),t}function pw(e){const t={},o=c(e,["weightedPrompts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(a=>a)),d(t,["weightedPrompts"],l)}return t}function mw(e){const t={},o=c(e,["media"]);if(o!=null){let m=qv(o);Array.isArray(m)&&(m=m.map(v=>Ka(v))),d(t,["mediaChunks"],m)}const l=c(e,["audio"]);l!=null&&d(t,["audio"],Ka(Pv(l)));const a=c(e,["audioStreamEnd"]);a!=null&&d(t,["audioStreamEnd"],a);const u=c(e,["video"]);u!=null&&d(t,["video"],Ka(Vv(u)));const f=c(e,["text"]);f!=null&&d(t,["text"],f);const p=c(e,["activityStart"]);p!=null&&d(t,["activityStart"],p);const y=c(e,["activityEnd"]);return y!=null&&d(t,["activityEnd"],y),t}function gw(e){const t={},o=c(e,["media"]);if(o!=null){let m=qv(o);Array.isArray(m)&&(m=m.map(v=>v)),d(t,["mediaChunks"],m)}const l=c(e,["audio"]);l!=null&&d(t,["audio"],Pv(l));const a=c(e,["audioStreamEnd"]);a!=null&&d(t,["audioStreamEnd"],a);const u=c(e,["video"]);u!=null&&d(t,["video"],Vv(u));const f=c(e,["text"]);f!=null&&d(t,["text"],f);const p=c(e,["activityStart"]);p!=null&&d(t,["activityStart"],p);const y=c(e,["activityEnd"]);return y!=null&&d(t,["activityEnd"],y),t}function yw(e){const t={},o=c(e,["setupComplete"]);o!=null&&d(t,["setupComplete"],o);const l=c(e,["serverContent"]);l!=null&&d(t,["serverContent"],l);const a=c(e,["toolCall"]);a!=null&&d(t,["toolCall"],a);const u=c(e,["toolCallCancellation"]);u!=null&&d(t,["toolCallCancellation"],u);const f=c(e,["usageMetadata"]);f!=null&&d(t,["usageMetadata"],Ew(f));const p=c(e,["goAway"]);p!=null&&d(t,["goAway"],p);const y=c(e,["sessionResumptionUpdate"]);y!=null&&d(t,["sessionResumptionUpdate"],y);const m=c(e,["voiceActivityDetectionSignal"]);return m!=null&&d(t,["voiceActivityDetectionSignal"],m),t}function vw(e){const t={},o=c(e,["mediaResolution"]);o!=null&&d(t,["mediaResolution"],o);const l=c(e,["codeExecutionResult"]);l!=null&&d(t,["codeExecutionResult"],l);const a=c(e,["executableCode"]);a!=null&&d(t,["executableCode"],a);const u=c(e,["fileData"]);u!=null&&d(t,["fileData"],iw(u));const f=c(e,["functionCall"]);f!=null&&d(t,["functionCall"],ow(f));const p=c(e,["functionResponse"]);p!=null&&d(t,["functionResponse"],p);const y=c(e,["inlineData"]);y!=null&&d(t,["inlineData"],Ka(y));const m=c(e,["text"]);m!=null&&d(t,["text"],m);const v=c(e,["thought"]);v!=null&&d(t,["thought"],v);const _=c(e,["thoughtSignature"]);_!=null&&d(t,["thoughtSignature"],_);const S=c(e,["videoMetadata"]);return S!=null&&d(t,["videoMetadata"],S),t}function _w(e){const t={},o=c(e,["handle"]);if(o!=null&&d(t,["handle"],o),c(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Sw(e){const t={},o=c(e,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(_=>_)),d(t,["functionDeclarations"],v)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=c(e,["googleSearchRetrieval"]);l!=null&&d(t,["googleSearchRetrieval"],l);const a=c(e,["computerUse"]);a!=null&&d(t,["computerUse"],a);const u=c(e,["fileSearch"]);u!=null&&d(t,["fileSearch"],u);const f=c(e,["codeExecution"]);if(f!=null&&d(t,["codeExecution"],f),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=c(e,["googleMaps"]);p!=null&&d(t,["googleMaps"],aw(p));const y=c(e,["googleSearch"]);y!=null&&d(t,["googleSearch"],sw(y));const m=c(e,["urlContext"]);return m!=null&&d(t,["urlContext"],m),t}function Tw(e){const t={},o=c(e,["functionDeclarations"]);if(o!=null){let _=o;Array.isArray(_)&&(_=_.map(S=>lw(S))),d(t,["functionDeclarations"],_)}const l=c(e,["retrieval"]);l!=null&&d(t,["retrieval"],l);const a=c(e,["googleSearchRetrieval"]);a!=null&&d(t,["googleSearchRetrieval"],a);const u=c(e,["computerUse"]);if(u!=null&&d(t,["computerUse"],u),c(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const f=c(e,["codeExecution"]);f!=null&&d(t,["codeExecution"],f);const p=c(e,["enterpriseWebSearch"]);p!=null&&d(t,["enterpriseWebSearch"],p);const y=c(e,["googleMaps"]);y!=null&&d(t,["googleMaps"],y);const m=c(e,["googleSearch"]);m!=null&&d(t,["googleSearch"],m);const v=c(e,["urlContext"]);return v!=null&&d(t,["urlContext"],v),t}function Ew(e){const t={},o=c(e,["promptTokenCount"]);o!=null&&d(t,["promptTokenCount"],o);const l=c(e,["cachedContentTokenCount"]);l!=null&&d(t,["cachedContentTokenCount"],l);const a=c(e,["candidatesTokenCount"]);a!=null&&d(t,["responseTokenCount"],a);const u=c(e,["toolUsePromptTokenCount"]);u!=null&&d(t,["toolUsePromptTokenCount"],u);const f=c(e,["thoughtsTokenCount"]);f!=null&&d(t,["thoughtsTokenCount"],f);const p=c(e,["totalTokenCount"]);p!=null&&d(t,["totalTokenCount"],p);const y=c(e,["promptTokensDetails"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(C=>C)),d(t,["promptTokensDetails"],E)}const m=c(e,["cacheTokensDetails"]);if(m!=null){let E=m;Array.isArray(E)&&(E=E.map(C=>C)),d(t,["cacheTokensDetails"],E)}const v=c(e,["candidatesTokensDetails"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(C=>C)),d(t,["responseTokensDetails"],E)}const _=c(e,["toolUsePromptTokensDetails"]);if(_!=null){let E=_;Array.isArray(E)&&(E=E.map(C=>C)),d(t,["toolUsePromptTokensDetails"],E)}const S=c(e,["trafficType"]);return S!=null&&d(t,["trafficType"],S),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Aw(e){const t={},o=c(e,["data"]);if(o!=null&&d(t,["data"],o),c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function Cw(e){const t={},o=c(e,["content"]);o!=null&&d(t,["content"],o);const l=c(e,["citationMetadata"]);l!=null&&d(t,["citationMetadata"],Rw(l));const a=c(e,["tokenCount"]);a!=null&&d(t,["tokenCount"],a);const u=c(e,["finishReason"]);u!=null&&d(t,["finishReason"],u);const f=c(e,["avgLogprobs"]);f!=null&&d(t,["avgLogprobs"],f);const p=c(e,["groundingMetadata"]);p!=null&&d(t,["groundingMetadata"],p);const y=c(e,["index"]);y!=null&&d(t,["index"],y);const m=c(e,["logprobsResult"]);m!=null&&d(t,["logprobsResult"],m);const v=c(e,["safetyRatings"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(E=>E)),d(t,["safetyRatings"],S)}const _=c(e,["urlContextMetadata"]);return _!=null&&d(t,["urlContextMetadata"],_),t}function Rw(e){const t={},o=c(e,["citationSources"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(a=>a)),d(t,["citations"],l)}return t}function xw(e,t){const o={},l=c(t,["model"]);l!=null&&d(o,["_url","model"],It(e,l));const a=c(t,["contents"]);if(a!=null){let u=Ke(a);Array.isArray(u)&&(u=u.map(f=>f)),d(o,["contents"],u)}return o}function Mw(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=c(e,["tokensInfo"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>u)),d(t,["tokensInfo"],a)}return t}function ww(e){const t={},o=c(e,["values"]);o!=null&&d(t,["values"],o);const l=c(e,["statistics"]);return l!=null&&d(t,["statistics"],Nw(l)),t}function Nw(e){const t={},o=c(e,["truncated"]);o!=null&&d(t,["truncated"],o);const l=c(e,["token_count"]);return l!=null&&d(t,["tokenCount"],l),t}function Ts(e){const t={},o=c(e,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>qN(u))),d(t,["parts"],a)}const l=c(e,["role"]);return l!=null&&d(t,["role"],l),t}function Iw(e){const t={},o=c(e,["controlType"]);o!=null&&d(t,["controlType"],o);const l=c(e,["enableControlImageComputation"]);return l!=null&&d(t,["computeControl"],l),t}function Dw(e){const t={};if(c(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function bw(e,t){const o={},l=c(e,["systemInstruction"]);t!==void 0&&l!=null&&d(t,["systemInstruction"],ce(l));const a=c(e,["tools"]);if(t!==void 0&&a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>t_(p))),d(t,["tools"],f)}const u=c(e,["generationConfig"]);return t!==void 0&&u!=null&&d(t,["generationConfig"],AN(u)),o}function Uw(e,t){const o={},l=c(t,["model"]);l!=null&&d(o,["_url","model"],It(e,l));const a=c(t,["contents"]);if(a!=null){let f=Ke(a);Array.isArray(f)&&(f=f.map(p=>Ts(p))),d(o,["contents"],f)}const u=c(t,["config"]);return u!=null&&Dw(u),o}function Lw(e,t){const o={},l=c(t,["model"]);l!=null&&d(o,["_url","model"],It(e,l));const a=c(t,["contents"]);if(a!=null){let f=Ke(a);Array.isArray(f)&&(f=f.map(p=>p)),d(o,["contents"],f)}const u=c(t,["config"]);return u!=null&&bw(u,o),o}function Gw(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=c(e,["totalTokens"]);l!=null&&d(t,["totalTokens"],l);const a=c(e,["cachedContentTokenCount"]);return a!=null&&d(t,["cachedContentTokenCount"],a),t}function Hw(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=c(e,["totalTokens"]);return l!=null&&d(t,["totalTokens"],l),t}function zw(e,t){const o={},l=c(t,["model"]);return l!=null&&d(o,["_url","name"],It(e,l)),o}function qw(e,t){const o={},l=c(t,["model"]);return l!=null&&d(o,["_url","name"],It(e,l)),o}function Vw(e){const t={},o=c(e,["sdkHttpResponse"]);return o!=null&&d(t,["sdkHttpResponse"],o),t}function Pw(e){const t={},o=c(e,["sdkHttpResponse"]);return o!=null&&d(t,["sdkHttpResponse"],o),t}function Bw(e,t){const o={},l=c(e,["outputGcsUri"]);t!==void 0&&l!=null&&d(t,["parameters","storageUri"],l);const a=c(e,["negativePrompt"]);t!==void 0&&a!=null&&d(t,["parameters","negativePrompt"],a);const u=c(e,["numberOfImages"]);t!==void 0&&u!=null&&d(t,["parameters","sampleCount"],u);const f=c(e,["aspectRatio"]);t!==void 0&&f!=null&&d(t,["parameters","aspectRatio"],f);const p=c(e,["guidanceScale"]);t!==void 0&&p!=null&&d(t,["parameters","guidanceScale"],p);const y=c(e,["seed"]);t!==void 0&&y!=null&&d(t,["parameters","seed"],y);const m=c(e,["safetyFilterLevel"]);t!==void 0&&m!=null&&d(t,["parameters","safetySetting"],m);const v=c(e,["personGeneration"]);t!==void 0&&v!=null&&d(t,["parameters","personGeneration"],v);const _=c(e,["includeSafetyAttributes"]);t!==void 0&&_!=null&&d(t,["parameters","includeSafetyAttributes"],_);const S=c(e,["includeRaiReason"]);t!==void 0&&S!=null&&d(t,["parameters","includeRaiReason"],S);const E=c(e,["language"]);t!==void 0&&E!=null&&d(t,["parameters","language"],E);const C=c(e,["outputMimeType"]);t!==void 0&&C!=null&&d(t,["parameters","outputOptions","mimeType"],C);const N=c(e,["outputCompressionQuality"]);t!==void 0&&N!=null&&d(t,["parameters","outputOptions","compressionQuality"],N);const w=c(e,["addWatermark"]);t!==void 0&&w!=null&&d(t,["parameters","addWatermark"],w);const I=c(e,["labels"]);t!==void 0&&I!=null&&d(t,["labels"],I);const O=c(e,["editMode"]);t!==void 0&&O!=null&&d(t,["parameters","editMode"],O);const U=c(e,["baseSteps"]);return t!==void 0&&U!=null&&d(t,["parameters","editConfig","baseSteps"],U),o}function kw(e,t){const o={},l=c(t,["model"]);l!=null&&d(o,["_url","model"],It(e,l));const a=c(t,["prompt"]);a!=null&&d(o,["instances[0]","prompt"],a);const u=c(t,["referenceImages"]);if(u!=null){let p=u;Array.isArray(p)&&(p=p.map(y=>FN(y))),d(o,["instances[0]","referenceImages"],p)}const f=c(t,["config"]);return f!=null&&Bw(f,o),o}function Ow(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=c(e,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>Es(u))),d(t,["generatedImages"],a)}return t}function Fw(e,t){const o={},l=c(e,["taskType"]);t!==void 0&&l!=null&&d(t,["requests[]","taskType"],l);const a=c(e,["title"]);t!==void 0&&a!=null&&d(t,["requests[]","title"],a);const u=c(e,["outputDimensionality"]);if(t!==void 0&&u!=null&&d(t,["requests[]","outputDimensionality"],u),c(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function Yw(e,t){const o={},l=c(e,["taskType"]);t!==void 0&&l!=null&&d(t,["instances[]","task_type"],l);const a=c(e,["title"]);t!==void 0&&a!=null&&d(t,["instances[]","title"],a);const u=c(e,["outputDimensionality"]);t!==void 0&&u!=null&&d(t,["parameters","outputDimensionality"],u);const f=c(e,["mimeType"]);t!==void 0&&f!=null&&d(t,["instances[]","mimeType"],f);const p=c(e,["autoTruncate"]);return t!==void 0&&p!=null&&d(t,["parameters","autoTruncate"],p),o}function Jw(e,t){const o={},l=c(t,["model"]);l!=null&&d(o,["_url","model"],It(e,l));const a=c(t,["contents"]);if(a!=null){let p=od(e,a);Array.isArray(p)&&(p=p.map(y=>y)),d(o,["requests[]","content"],p)}const u=c(t,["config"]);u!=null&&Fw(u,o);const f=c(t,["model"]);return f!==void 0&&d(o,["requests[]","model"],It(e,f)),o}function Xw(e,t){const o={},l=c(t,["model"]);l!=null&&d(o,["_url","model"],It(e,l));const a=c(t,["contents"]);if(a!=null){let f=od(e,a);Array.isArray(f)&&(f=f.map(p=>p)),d(o,["instances[]","content"],f)}const u=c(t,["config"]);return u!=null&&Yw(u,o),o}function Kw(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=c(e,["embeddings"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>f)),d(t,["embeddings"],u)}const a=c(e,["metadata"]);return a!=null&&d(t,["metadata"],a),t}function Qw(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=c(e,["predictions[]","embeddings"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>ww(f))),d(t,["embeddings"],u)}const a=c(e,["metadata"]);return a!=null&&d(t,["metadata"],a),t}function Zw(e){const t={},o=c(e,["endpoint"]);o!=null&&d(t,["name"],o);const l=c(e,["deployedModelId"]);return l!=null&&d(t,["deployedModelId"],l),t}function $w(e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(e,["fileUri"]);o!=null&&d(t,["fileUri"],o);const l=c(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function Ww(e){const t={},o=c(e,["id"]);o!=null&&d(t,["id"],o);const l=c(e,["args"]);l!=null&&d(t,["args"],l);const a=c(e,["name"]);if(a!=null&&d(t,["name"],a),c(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function jw(e){const t={},o=c(e,["mode"]);o!=null&&d(t,["mode"],o);const l=c(e,["allowedFunctionNames"]);if(l!=null&&d(t,["allowedFunctionNames"],l),c(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function tN(e){const t={};if(c(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=c(e,["description"]);o!=null&&d(t,["description"],o);const l=c(e,["name"]);l!=null&&d(t,["name"],l);const a=c(e,["parameters"]);a!=null&&d(t,["parameters"],a);const u=c(e,["parametersJsonSchema"]);u!=null&&d(t,["parametersJsonSchema"],u);const f=c(e,["response"]);f!=null&&d(t,["response"],f);const p=c(e,["responseJsonSchema"]);return p!=null&&d(t,["responseJsonSchema"],p),t}function eN(e,t,o){const l={},a=c(t,["systemInstruction"]);o!==void 0&&a!=null&&d(o,["systemInstruction"],Ts(ce(a)));const u=c(t,["temperature"]);u!=null&&d(l,["temperature"],u);const f=c(t,["topP"]);f!=null&&d(l,["topP"],f);const p=c(t,["topK"]);p!=null&&d(l,["topK"],p);const y=c(t,["candidateCount"]);y!=null&&d(l,["candidateCount"],y);const m=c(t,["maxOutputTokens"]);m!=null&&d(l,["maxOutputTokens"],m);const v=c(t,["stopSequences"]);v!=null&&d(l,["stopSequences"],v);const _=c(t,["responseLogprobs"]);_!=null&&d(l,["responseLogprobs"],_);const S=c(t,["logprobs"]);S!=null&&d(l,["logprobs"],S);const E=c(t,["presencePenalty"]);E!=null&&d(l,["presencePenalty"],E);const C=c(t,["frequencyPenalty"]);C!=null&&d(l,["frequencyPenalty"],C);const N=c(t,["seed"]);N!=null&&d(l,["seed"],N);const w=c(t,["responseMimeType"]);w!=null&&d(l,["responseMimeType"],w);const I=c(t,["responseSchema"]);I!=null&&d(l,["responseSchema"],ld(I));const O=c(t,["responseJsonSchema"]);if(O!=null&&d(l,["responseJsonSchema"],O),c(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const U=c(t,["safetySettings"]);if(o!==void 0&&U!=null){let ct=U;Array.isArray(ct)&&(ct=ct.map(L=>YN(L))),d(o,["safetySettings"],ct)}const b=c(t,["tools"]);if(o!==void 0&&b!=null){let ct=Fo(b);Array.isArray(ct)&&(ct=ct.map(L=>WN(Oo(L)))),d(o,["tools"],ct)}const X=c(t,["toolConfig"]);if(o!==void 0&&X!=null&&d(o,["toolConfig"],$N(X)),c(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=c(t,["cachedContent"]);o!==void 0&&k!=null&&d(o,["cachedContent"],Pn(e,k));const F=c(t,["responseModalities"]);F!=null&&d(l,["responseModalities"],F);const W=c(t,["mediaResolution"]);W!=null&&d(l,["mediaResolution"],W);const K=c(t,["speechConfig"]);if(K!=null&&d(l,["speechConfig"],rd(K)),c(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ot=c(t,["thinkingConfig"]);ot!=null&&d(l,["thinkingConfig"],ot);const it=c(t,["imageConfig"]);it!=null&&d(l,["imageConfig"],wN(it));const pt=c(t,["enableEnhancedCivicAnswers"]);return pt!=null&&d(l,["enableEnhancedCivicAnswers"],pt),l}function nN(e,t,o){const l={},a=c(t,["systemInstruction"]);o!==void 0&&a!=null&&d(o,["systemInstruction"],ce(a));const u=c(t,["temperature"]);u!=null&&d(l,["temperature"],u);const f=c(t,["topP"]);f!=null&&d(l,["topP"],f);const p=c(t,["topK"]);p!=null&&d(l,["topK"],p);const y=c(t,["candidateCount"]);y!=null&&d(l,["candidateCount"],y);const m=c(t,["maxOutputTokens"]);m!=null&&d(l,["maxOutputTokens"],m);const v=c(t,["stopSequences"]);v!=null&&d(l,["stopSequences"],v);const _=c(t,["responseLogprobs"]);_!=null&&d(l,["responseLogprobs"],_);const S=c(t,["logprobs"]);S!=null&&d(l,["logprobs"],S);const E=c(t,["presencePenalty"]);E!=null&&d(l,["presencePenalty"],E);const C=c(t,["frequencyPenalty"]);C!=null&&d(l,["frequencyPenalty"],C);const N=c(t,["seed"]);N!=null&&d(l,["seed"],N);const w=c(t,["responseMimeType"]);w!=null&&d(l,["responseMimeType"],w);const I=c(t,["responseSchema"]);I!=null&&d(l,["responseSchema"],ld(I));const O=c(t,["responseJsonSchema"]);O!=null&&d(l,["responseJsonSchema"],O);const U=c(t,["routingConfig"]);U!=null&&d(l,["routingConfig"],U);const b=c(t,["modelSelectionConfig"]);b!=null&&d(l,["modelConfig"],b);const X=c(t,["safetySettings"]);if(o!==void 0&&X!=null){let R=X;Array.isArray(R)&&(R=R.map(V=>V)),d(o,["safetySettings"],R)}const k=c(t,["tools"]);if(o!==void 0&&k!=null){let R=Fo(k);Array.isArray(R)&&(R=R.map(V=>t_(Oo(V)))),d(o,["tools"],R)}const F=c(t,["toolConfig"]);o!==void 0&&F!=null&&d(o,["toolConfig"],F);const W=c(t,["labels"]);o!==void 0&&W!=null&&d(o,["labels"],W);const K=c(t,["cachedContent"]);o!==void 0&&K!=null&&d(o,["cachedContent"],Pn(e,K));const ot=c(t,["responseModalities"]);ot!=null&&d(l,["responseModalities"],ot);const it=c(t,["mediaResolution"]);it!=null&&d(l,["mediaResolution"],it);const pt=c(t,["speechConfig"]);pt!=null&&d(l,["speechConfig"],rd(pt));const ct=c(t,["audioTimestamp"]);ct!=null&&d(l,["audioTimestamp"],ct);const L=c(t,["thinkingConfig"]);L!=null&&d(l,["thinkingConfig"],L);const H=c(t,["imageConfig"]);if(H!=null&&d(l,["imageConfig"],NN(H)),c(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return l}function Ey(e,t){const o={},l=c(t,["model"]);l!=null&&d(o,["_url","model"],It(e,l));const a=c(t,["contents"]);if(a!=null){let f=Ke(a);Array.isArray(f)&&(f=f.map(p=>Ts(p))),d(o,["contents"],f)}const u=c(t,["config"]);return u!=null&&d(o,["generationConfig"],eN(e,u,o)),o}function Ay(e,t){const o={},l=c(t,["model"]);l!=null&&d(o,["_url","model"],It(e,l));const a=c(t,["contents"]);if(a!=null){let f=Ke(a);Array.isArray(f)&&(f=f.map(p=>p)),d(o,["contents"],f)}const u=c(t,["config"]);return u!=null&&d(o,["generationConfig"],nN(e,u,o)),o}function Cy(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=c(e,["candidates"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(m=>Cw(m))),d(t,["candidates"],y)}const a=c(e,["modelVersion"]);a!=null&&d(t,["modelVersion"],a);const u=c(e,["promptFeedback"]);u!=null&&d(t,["promptFeedback"],u);const f=c(e,["responseId"]);f!=null&&d(t,["responseId"],f);const p=c(e,["usageMetadata"]);return p!=null&&d(t,["usageMetadata"],p),t}function Ry(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=c(e,["candidates"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(v=>v)),d(t,["candidates"],m)}const a=c(e,["createTime"]);a!=null&&d(t,["createTime"],a);const u=c(e,["modelVersion"]);u!=null&&d(t,["modelVersion"],u);const f=c(e,["promptFeedback"]);f!=null&&d(t,["promptFeedback"],f);const p=c(e,["responseId"]);p!=null&&d(t,["responseId"],p);const y=c(e,["usageMetadata"]);return y!=null&&d(t,["usageMetadata"],y),t}function iN(e,t){const o={};if(c(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=c(e,["numberOfImages"]);t!==void 0&&l!=null&&d(t,["parameters","sampleCount"],l);const a=c(e,["aspectRatio"]);t!==void 0&&a!=null&&d(t,["parameters","aspectRatio"],a);const u=c(e,["guidanceScale"]);if(t!==void 0&&u!=null&&d(t,["parameters","guidanceScale"],u),c(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=c(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&d(t,["parameters","safetySetting"],f);const p=c(e,["personGeneration"]);t!==void 0&&p!=null&&d(t,["parameters","personGeneration"],p);const y=c(e,["includeSafetyAttributes"]);t!==void 0&&y!=null&&d(t,["parameters","includeSafetyAttributes"],y);const m=c(e,["includeRaiReason"]);t!==void 0&&m!=null&&d(t,["parameters","includeRaiReason"],m);const v=c(e,["language"]);t!==void 0&&v!=null&&d(t,["parameters","language"],v);const _=c(e,["outputMimeType"]);t!==void 0&&_!=null&&d(t,["parameters","outputOptions","mimeType"],_);const S=c(e,["outputCompressionQuality"]);if(t!==void 0&&S!=null&&d(t,["parameters","outputOptions","compressionQuality"],S),c(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=c(e,["imageSize"]);if(t!==void 0&&E!=null&&d(t,["parameters","sampleImageSize"],E),c(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function oN(e,t){const o={},l=c(e,["outputGcsUri"]);t!==void 0&&l!=null&&d(t,["parameters","storageUri"],l);const a=c(e,["negativePrompt"]);t!==void 0&&a!=null&&d(t,["parameters","negativePrompt"],a);const u=c(e,["numberOfImages"]);t!==void 0&&u!=null&&d(t,["parameters","sampleCount"],u);const f=c(e,["aspectRatio"]);t!==void 0&&f!=null&&d(t,["parameters","aspectRatio"],f);const p=c(e,["guidanceScale"]);t!==void 0&&p!=null&&d(t,["parameters","guidanceScale"],p);const y=c(e,["seed"]);t!==void 0&&y!=null&&d(t,["parameters","seed"],y);const m=c(e,["safetyFilterLevel"]);t!==void 0&&m!=null&&d(t,["parameters","safetySetting"],m);const v=c(e,["personGeneration"]);t!==void 0&&v!=null&&d(t,["parameters","personGeneration"],v);const _=c(e,["includeSafetyAttributes"]);t!==void 0&&_!=null&&d(t,["parameters","includeSafetyAttributes"],_);const S=c(e,["includeRaiReason"]);t!==void 0&&S!=null&&d(t,["parameters","includeRaiReason"],S);const E=c(e,["language"]);t!==void 0&&E!=null&&d(t,["parameters","language"],E);const C=c(e,["outputMimeType"]);t!==void 0&&C!=null&&d(t,["parameters","outputOptions","mimeType"],C);const N=c(e,["outputCompressionQuality"]);t!==void 0&&N!=null&&d(t,["parameters","outputOptions","compressionQuality"],N);const w=c(e,["addWatermark"]);t!==void 0&&w!=null&&d(t,["parameters","addWatermark"],w);const I=c(e,["labels"]);t!==void 0&&I!=null&&d(t,["labels"],I);const O=c(e,["imageSize"]);t!==void 0&&O!=null&&d(t,["parameters","sampleImageSize"],O);const U=c(e,["enhancePrompt"]);return t!==void 0&&U!=null&&d(t,["parameters","enhancePrompt"],U),o}function lN(e,t){const o={},l=c(t,["model"]);l!=null&&d(o,["_url","model"],It(e,l));const a=c(t,["prompt"]);a!=null&&d(o,["instances[0]","prompt"],a);const u=c(t,["config"]);return u!=null&&iN(u,o),o}function rN(e,t){const o={},l=c(t,["model"]);l!=null&&d(o,["_url","model"],It(e,l));const a=c(t,["prompt"]);a!=null&&d(o,["instances[0]","prompt"],a);const u=c(t,["config"]);return u!=null&&oN(u,o),o}function aN(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=c(e,["predictions"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>_N(f))),d(t,["generatedImages"],u)}const a=c(e,["positivePromptSafetyAttributes"]);return a!=null&&d(t,["positivePromptSafetyAttributes"],Wv(a)),t}function sN(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=c(e,["predictions"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>Es(f))),d(t,["generatedImages"],u)}const a=c(e,["positivePromptSafetyAttributes"]);return a!=null&&d(t,["positivePromptSafetyAttributes"],jv(a)),t}function uN(e,t){const o={},l=c(e,["numberOfVideos"]);if(t!==void 0&&l!=null&&d(t,["parameters","sampleCount"],l),c(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=c(e,["durationSeconds"]);if(t!==void 0&&a!=null&&d(t,["parameters","durationSeconds"],a),c(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=c(e,["aspectRatio"]);t!==void 0&&u!=null&&d(t,["parameters","aspectRatio"],u);const f=c(e,["resolution"]);t!==void 0&&f!=null&&d(t,["parameters","resolution"],f);const p=c(e,["personGeneration"]);if(t!==void 0&&p!=null&&d(t,["parameters","personGeneration"],p),c(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=c(e,["negativePrompt"]);t!==void 0&&y!=null&&d(t,["parameters","negativePrompt"],y);const m=c(e,["enhancePrompt"]);if(t!==void 0&&m!=null&&d(t,["parameters","enhancePrompt"],m),c(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=c(e,["lastFrame"]);t!==void 0&&v!=null&&d(t,["instances[0]","lastFrame"],As(v));const _=c(e,["referenceImages"]);if(t!==void 0&&_!=null){let S=_;Array.isArray(S)&&(S=S.map(E=>fI(E))),d(t,["instances[0]","referenceImages"],S)}if(c(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(c(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function cN(e,t){const o={},l=c(e,["numberOfVideos"]);t!==void 0&&l!=null&&d(t,["parameters","sampleCount"],l);const a=c(e,["outputGcsUri"]);t!==void 0&&a!=null&&d(t,["parameters","storageUri"],a);const u=c(e,["fps"]);t!==void 0&&u!=null&&d(t,["parameters","fps"],u);const f=c(e,["durationSeconds"]);t!==void 0&&f!=null&&d(t,["parameters","durationSeconds"],f);const p=c(e,["seed"]);t!==void 0&&p!=null&&d(t,["parameters","seed"],p);const y=c(e,["aspectRatio"]);t!==void 0&&y!=null&&d(t,["parameters","aspectRatio"],y);const m=c(e,["resolution"]);t!==void 0&&m!=null&&d(t,["parameters","resolution"],m);const v=c(e,["personGeneration"]);t!==void 0&&v!=null&&d(t,["parameters","personGeneration"],v);const _=c(e,["pubsubTopic"]);t!==void 0&&_!=null&&d(t,["parameters","pubsubTopic"],_);const S=c(e,["negativePrompt"]);t!==void 0&&S!=null&&d(t,["parameters","negativePrompt"],S);const E=c(e,["enhancePrompt"]);t!==void 0&&E!=null&&d(t,["parameters","enhancePrompt"],E);const C=c(e,["generateAudio"]);t!==void 0&&C!=null&&d(t,["parameters","generateAudio"],C);const N=c(e,["lastFrame"]);t!==void 0&&N!=null&&d(t,["instances[0]","lastFrame"],ln(N));const w=c(e,["referenceImages"]);if(t!==void 0&&w!=null){let U=w;Array.isArray(U)&&(U=U.map(b=>dI(b))),d(t,["instances[0]","referenceImages"],U)}const I=c(e,["mask"]);t!==void 0&&I!=null&&d(t,["instances[0]","mask"],cI(I));const O=c(e,["compressionQuality"]);return t!==void 0&&O!=null&&d(t,["parameters","compressionQuality"],O),o}function fN(e){const t={},o=c(e,["name"]);o!=null&&d(t,["name"],o);const l=c(e,["metadata"]);l!=null&&d(t,["metadata"],l);const a=c(e,["done"]);a!=null&&d(t,["done"],a);const u=c(e,["error"]);u!=null&&d(t,["error"],u);const f=c(e,["response","generateVideoResponse"]);return f!=null&&d(t,["response"],mN(f)),t}function dN(e){const t={},o=c(e,["name"]);o!=null&&d(t,["name"],o);const l=c(e,["metadata"]);l!=null&&d(t,["metadata"],l);const a=c(e,["done"]);a!=null&&d(t,["done"],a);const u=c(e,["error"]);u!=null&&d(t,["error"],u);const f=c(e,["response"]);return f!=null&&d(t,["response"],gN(f)),t}function hN(e,t){const o={},l=c(t,["model"]);l!=null&&d(o,["_url","model"],It(e,l));const a=c(t,["prompt"]);a!=null&&d(o,["instances[0]","prompt"],a);const u=c(t,["image"]);u!=null&&d(o,["instances[0]","image"],As(u));const f=c(t,["video"]);f!=null&&d(o,["instances[0]","video"],e_(f));const p=c(t,["source"]);p!=null&&yN(p,o);const y=c(t,["config"]);return y!=null&&uN(y,o),o}function pN(e,t){const o={},l=c(t,["model"]);l!=null&&d(o,["_url","model"],It(e,l));const a=c(t,["prompt"]);a!=null&&d(o,["instances[0]","prompt"],a);const u=c(t,["image"]);u!=null&&d(o,["instances[0]","image"],ln(u));const f=c(t,["video"]);f!=null&&d(o,["instances[0]","video"],n_(f));const p=c(t,["source"]);p!=null&&vN(p,o);const y=c(t,["config"]);return y!=null&&cN(y,o),o}function mN(e){const t={},o=c(e,["generatedSamples"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>TN(f))),d(t,["generatedVideos"],u)}const l=c(e,["raiMediaFilteredCount"]);l!=null&&d(t,["raiMediaFilteredCount"],l);const a=c(e,["raiMediaFilteredReasons"]);return a!=null&&d(t,["raiMediaFilteredReasons"],a),t}function gN(e){const t={},o=c(e,["videos"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>EN(f))),d(t,["generatedVideos"],u)}const l=c(e,["raiMediaFilteredCount"]);l!=null&&d(t,["raiMediaFilteredCount"],l);const a=c(e,["raiMediaFilteredReasons"]);return a!=null&&d(t,["raiMediaFilteredReasons"],a),t}function yN(e,t){const o={},l=c(e,["prompt"]);t!==void 0&&l!=null&&d(t,["instances[0]","prompt"],l);const a=c(e,["image"]);t!==void 0&&a!=null&&d(t,["instances[0]","image"],As(a));const u=c(e,["video"]);return t!==void 0&&u!=null&&d(t,["instances[0]","video"],e_(u)),o}function vN(e,t){const o={},l=c(e,["prompt"]);t!==void 0&&l!=null&&d(t,["instances[0]","prompt"],l);const a=c(e,["image"]);t!==void 0&&a!=null&&d(t,["instances[0]","image"],ln(a));const u=c(e,["video"]);return t!==void 0&&u!=null&&d(t,["instances[0]","video"],n_(u)),o}function _N(e){const t={},o=c(e,["_self"]);o!=null&&d(t,["image"],IN(o));const l=c(e,["raiFilteredReason"]);l!=null&&d(t,["raiFilteredReason"],l);const a=c(e,["_self"]);return a!=null&&d(t,["safetyAttributes"],Wv(a)),t}function Es(e){const t={},o=c(e,["_self"]);o!=null&&d(t,["image"],$v(o));const l=c(e,["raiFilteredReason"]);l!=null&&d(t,["raiFilteredReason"],l);const a=c(e,["_self"]);a!=null&&d(t,["safetyAttributes"],jv(a));const u=c(e,["prompt"]);return u!=null&&d(t,["enhancedPrompt"],u),t}function SN(e){const t={},o=c(e,["_self"]);o!=null&&d(t,["mask"],$v(o));const l=c(e,["labels"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>u)),d(t,["labels"],a)}return t}function TN(e){const t={},o=c(e,["video"]);return o!=null&&d(t,["video"],sI(o)),t}function EN(e){const t={},o=c(e,["_self"]);return o!=null&&d(t,["video"],uI(o)),t}function AN(e){const t={},o=c(e,["modelSelectionConfig"]);o!=null&&d(t,["modelConfig"],o);const l=c(e,["responseJsonSchema"]);l!=null&&d(t,["responseJsonSchema"],l);const a=c(e,["audioTimestamp"]);a!=null&&d(t,["audioTimestamp"],a);const u=c(e,["candidateCount"]);u!=null&&d(t,["candidateCount"],u);const f=c(e,["enableAffectiveDialog"]);f!=null&&d(t,["enableAffectiveDialog"],f);const p=c(e,["frequencyPenalty"]);p!=null&&d(t,["frequencyPenalty"],p);const y=c(e,["logprobs"]);y!=null&&d(t,["logprobs"],y);const m=c(e,["maxOutputTokens"]);m!=null&&d(t,["maxOutputTokens"],m);const v=c(e,["mediaResolution"]);v!=null&&d(t,["mediaResolution"],v);const _=c(e,["presencePenalty"]);_!=null&&d(t,["presencePenalty"],_);const S=c(e,["responseLogprobs"]);S!=null&&d(t,["responseLogprobs"],S);const E=c(e,["responseMimeType"]);E!=null&&d(t,["responseMimeType"],E);const C=c(e,["responseModalities"]);C!=null&&d(t,["responseModalities"],C);const N=c(e,["responseSchema"]);N!=null&&d(t,["responseSchema"],N);const w=c(e,["routingConfig"]);w!=null&&d(t,["routingConfig"],w);const I=c(e,["seed"]);I!=null&&d(t,["seed"],I);const O=c(e,["speechConfig"]);O!=null&&d(t,["speechConfig"],O);const U=c(e,["stopSequences"]);U!=null&&d(t,["stopSequences"],U);const b=c(e,["temperature"]);b!=null&&d(t,["temperature"],b);const X=c(e,["thinkingConfig"]);X!=null&&d(t,["thinkingConfig"],X);const k=c(e,["topK"]);k!=null&&d(t,["topK"],k);const F=c(e,["topP"]);if(F!=null&&d(t,["topP"],F),c(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function CN(e,t){const o={},l=c(t,["model"]);return l!=null&&d(o,["_url","name"],It(e,l)),o}function RN(e,t){const o={},l=c(t,["model"]);return l!=null&&d(o,["_url","name"],It(e,l)),o}function xN(e){const t={};if(c(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(e,["enableWidget"]);return o!=null&&d(t,["enableWidget"],o),t}function MN(e){const t={};if(c(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(e,["timeRangeFilter"]);return o!=null&&d(t,["timeRangeFilter"],o),t}function wN(e){const t={},o=c(e,["aspectRatio"]);o!=null&&d(t,["aspectRatio"],o);const l=c(e,["imageSize"]);if(l!=null&&d(t,["imageSize"],l),c(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function NN(e){const t={},o=c(e,["aspectRatio"]);o!=null&&d(t,["aspectRatio"],o);const l=c(e,["imageSize"]);l!=null&&d(t,["imageSize"],l);const a=c(e,["outputMimeType"]);a!=null&&d(t,["imageOutputOptions","mimeType"],a);const u=c(e,["outputCompressionQuality"]);return u!=null&&d(t,["imageOutputOptions","compressionQuality"],u),t}function IN(e){const t={},o=c(e,["bytesBase64Encoded"]);o!=null&&d(t,["imageBytes"],mi(o));const l=c(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function $v(e){const t={},o=c(e,["gcsUri"]);o!=null&&d(t,["gcsUri"],o);const l=c(e,["bytesBase64Encoded"]);l!=null&&d(t,["imageBytes"],mi(l));const a=c(e,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function As(e){const t={};if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=c(e,["imageBytes"]);o!=null&&d(t,["bytesBase64Encoded"],mi(o));const l=c(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function ln(e){const t={},o=c(e,["gcsUri"]);o!=null&&d(t,["gcsUri"],o);const l=c(e,["imageBytes"]);l!=null&&d(t,["bytesBase64Encoded"],mi(l));const a=c(e,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function DN(e,t,o){const l={},a=c(t,["pageSize"]);o!==void 0&&a!=null&&d(o,["_query","pageSize"],a);const u=c(t,["pageToken"]);o!==void 0&&u!=null&&d(o,["_query","pageToken"],u);const f=c(t,["filter"]);o!==void 0&&f!=null&&d(o,["_query","filter"],f);const p=c(t,["queryBase"]);return o!==void 0&&p!=null&&d(o,["_url","models_url"],Fv(e,p)),l}function bN(e,t,o){const l={},a=c(t,["pageSize"]);o!==void 0&&a!=null&&d(o,["_query","pageSize"],a);const u=c(t,["pageToken"]);o!==void 0&&u!=null&&d(o,["_query","pageToken"],u);const f=c(t,["filter"]);o!==void 0&&f!=null&&d(o,["_query","filter"],f);const p=c(t,["queryBase"]);return o!==void 0&&p!=null&&d(o,["_url","models_url"],Fv(e,p)),l}function UN(e,t){const o={},l=c(t,["config"]);return l!=null&&DN(e,l,o),o}function LN(e,t){const o={},l=c(t,["config"]);return l!=null&&bN(e,l,o),o}function GN(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=c(e,["nextPageToken"]);l!=null&&d(t,["nextPageToken"],l);const a=c(e,["_self"]);if(a!=null){let u=Yv(a);Array.isArray(u)&&(u=u.map(f=>zf(f))),d(t,["models"],u)}return t}function HN(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=c(e,["nextPageToken"]);l!=null&&d(t,["nextPageToken"],l);const a=c(e,["_self"]);if(a!=null){let u=Yv(a);Array.isArray(u)&&(u=u.map(f=>qf(f))),d(t,["models"],u)}return t}function zN(e){const t={},o=c(e,["maskMode"]);o!=null&&d(t,["maskMode"],o);const l=c(e,["segmentationClasses"]);l!=null&&d(t,["maskClasses"],l);const a=c(e,["maskDilation"]);return a!=null&&d(t,["dilation"],a),t}function zf(e){const t={},o=c(e,["name"]);o!=null&&d(t,["name"],o);const l=c(e,["displayName"]);l!=null&&d(t,["displayName"],l);const a=c(e,["description"]);a!=null&&d(t,["description"],a);const u=c(e,["version"]);u!=null&&d(t,["version"],u);const f=c(e,["_self"]);f!=null&&d(t,["tunedModelInfo"],jN(f));const p=c(e,["inputTokenLimit"]);p!=null&&d(t,["inputTokenLimit"],p);const y=c(e,["outputTokenLimit"]);y!=null&&d(t,["outputTokenLimit"],y);const m=c(e,["supportedGenerationMethods"]);m!=null&&d(t,["supportedActions"],m);const v=c(e,["temperature"]);v!=null&&d(t,["temperature"],v);const _=c(e,["maxTemperature"]);_!=null&&d(t,["maxTemperature"],_);const S=c(e,["topP"]);S!=null&&d(t,["topP"],S);const E=c(e,["topK"]);E!=null&&d(t,["topK"],E);const C=c(e,["thinking"]);return C!=null&&d(t,["thinking"],C),t}function qf(e){const t={},o=c(e,["name"]);o!=null&&d(t,["name"],o);const l=c(e,["displayName"]);l!=null&&d(t,["displayName"],l);const a=c(e,["description"]);a!=null&&d(t,["description"],a);const u=c(e,["versionId"]);u!=null&&d(t,["version"],u);const f=c(e,["deployedModels"]);if(f!=null){let _=f;Array.isArray(_)&&(_=_.map(S=>Zw(S))),d(t,["endpoints"],_)}const p=c(e,["labels"]);p!=null&&d(t,["labels"],p);const y=c(e,["_self"]);y!=null&&d(t,["tunedModelInfo"],tI(y));const m=c(e,["defaultCheckpointId"]);m!=null&&d(t,["defaultCheckpointId"],m);const v=c(e,["checkpoints"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(S=>S)),d(t,["checkpoints"],_)}return t}function qN(e){const t={},o=c(e,["mediaResolution"]);o!=null&&d(t,["mediaResolution"],o);const l=c(e,["codeExecutionResult"]);l!=null&&d(t,["codeExecutionResult"],l);const a=c(e,["executableCode"]);a!=null&&d(t,["executableCode"],a);const u=c(e,["fileData"]);u!=null&&d(t,["fileData"],$w(u));const f=c(e,["functionCall"]);f!=null&&d(t,["functionCall"],Ww(f));const p=c(e,["functionResponse"]);p!=null&&d(t,["functionResponse"],p);const y=c(e,["inlineData"]);y!=null&&d(t,["inlineData"],Aw(y));const m=c(e,["text"]);m!=null&&d(t,["text"],m);const v=c(e,["thought"]);v!=null&&d(t,["thought"],v);const _=c(e,["thoughtSignature"]);_!=null&&d(t,["thoughtSignature"],_);const S=c(e,["videoMetadata"]);return S!=null&&d(t,["videoMetadata"],S),t}function VN(e){const t={},o=c(e,["productImage"]);return o!=null&&d(t,["image"],ln(o)),t}function PN(e,t){const o={},l=c(e,["numberOfImages"]);t!==void 0&&l!=null&&d(t,["parameters","sampleCount"],l);const a=c(e,["baseSteps"]);t!==void 0&&a!=null&&d(t,["parameters","baseSteps"],a);const u=c(e,["outputGcsUri"]);t!==void 0&&u!=null&&d(t,["parameters","storageUri"],u);const f=c(e,["seed"]);t!==void 0&&f!=null&&d(t,["parameters","seed"],f);const p=c(e,["safetyFilterLevel"]);t!==void 0&&p!=null&&d(t,["parameters","safetySetting"],p);const y=c(e,["personGeneration"]);t!==void 0&&y!=null&&d(t,["parameters","personGeneration"],y);const m=c(e,["addWatermark"]);t!==void 0&&m!=null&&d(t,["parameters","addWatermark"],m);const v=c(e,["outputMimeType"]);t!==void 0&&v!=null&&d(t,["parameters","outputOptions","mimeType"],v);const _=c(e,["outputCompressionQuality"]);t!==void 0&&_!=null&&d(t,["parameters","outputOptions","compressionQuality"],_);const S=c(e,["enhancePrompt"]);t!==void 0&&S!=null&&d(t,["parameters","enhancePrompt"],S);const E=c(e,["labels"]);return t!==void 0&&E!=null&&d(t,["labels"],E),o}function BN(e,t){const o={},l=c(t,["model"]);l!=null&&d(o,["_url","model"],It(e,l));const a=c(t,["source"]);a!=null&&ON(a,o);const u=c(t,["config"]);return u!=null&&PN(u,o),o}function kN(e){const t={},o=c(e,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(a=>Es(a))),d(t,["generatedImages"],l)}return t}function ON(e,t){const o={},l=c(e,["prompt"]);t!==void 0&&l!=null&&d(t,["instances[0]","prompt"],l);const a=c(e,["personImage"]);t!==void 0&&a!=null&&d(t,["instances[0]","personImage","image"],ln(a));const u=c(e,["productImages"]);if(t!==void 0&&u!=null){let f=u;Array.isArray(f)&&(f=f.map(p=>VN(p))),d(t,["instances[0]","productImages"],f)}return o}function FN(e){const t={},o=c(e,["referenceImage"]);o!=null&&d(t,["referenceImage"],ln(o));const l=c(e,["referenceId"]);l!=null&&d(t,["referenceId"],l);const a=c(e,["referenceType"]);a!=null&&d(t,["referenceType"],a);const u=c(e,["maskImageConfig"]);u!=null&&d(t,["maskImageConfig"],zN(u));const f=c(e,["controlImageConfig"]);f!=null&&d(t,["controlImageConfig"],Iw(f));const p=c(e,["styleImageConfig"]);p!=null&&d(t,["styleImageConfig"],p);const y=c(e,["subjectImageConfig"]);return y!=null&&d(t,["subjectImageConfig"],y),t}function Wv(e){const t={},o=c(e,["safetyAttributes","categories"]);o!=null&&d(t,["categories"],o);const l=c(e,["safetyAttributes","scores"]);l!=null&&d(t,["scores"],l);const a=c(e,["contentType"]);return a!=null&&d(t,["contentType"],a),t}function jv(e){const t={},o=c(e,["safetyAttributes","categories"]);o!=null&&d(t,["categories"],o);const l=c(e,["safetyAttributes","scores"]);l!=null&&d(t,["scores"],l);const a=c(e,["contentType"]);return a!=null&&d(t,["contentType"],a),t}function YN(e){const t={},o=c(e,["category"]);if(o!=null&&d(t,["category"],o),c(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=c(e,["threshold"]);return l!=null&&d(t,["threshold"],l),t}function JN(e){const t={},o=c(e,["image"]);return o!=null&&d(t,["image"],ln(o)),t}function XN(e,t){const o={},l=c(e,["mode"]);t!==void 0&&l!=null&&d(t,["parameters","mode"],l);const a=c(e,["maxPredictions"]);t!==void 0&&a!=null&&d(t,["parameters","maxPredictions"],a);const u=c(e,["confidenceThreshold"]);t!==void 0&&u!=null&&d(t,["parameters","confidenceThreshold"],u);const f=c(e,["maskDilation"]);t!==void 0&&f!=null&&d(t,["parameters","maskDilation"],f);const p=c(e,["binaryColorThreshold"]);t!==void 0&&p!=null&&d(t,["parameters","binaryColorThreshold"],p);const y=c(e,["labels"]);return t!==void 0&&y!=null&&d(t,["labels"],y),o}function KN(e,t){const o={},l=c(t,["model"]);l!=null&&d(o,["_url","model"],It(e,l));const a=c(t,["source"]);a!=null&&ZN(a,o);const u=c(t,["config"]);return u!=null&&XN(u,o),o}function QN(e){const t={},o=c(e,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(a=>SN(a))),d(t,["generatedMasks"],l)}return t}function ZN(e,t){const o={},l=c(e,["prompt"]);t!==void 0&&l!=null&&d(t,["instances[0]","prompt"],l);const a=c(e,["image"]);t!==void 0&&a!=null&&d(t,["instances[0]","image"],ln(a));const u=c(e,["scribbleImage"]);return t!==void 0&&u!=null&&d(t,["instances[0]","scribble"],JN(u)),o}function $N(e){const t={},o=c(e,["functionCallingConfig"]);o!=null&&d(t,["functionCallingConfig"],jw(o));const l=c(e,["retrievalConfig"]);return l!=null&&d(t,["retrievalConfig"],l),t}function WN(e){const t={},o=c(e,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(_=>_)),d(t,["functionDeclarations"],v)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=c(e,["googleSearchRetrieval"]);l!=null&&d(t,["googleSearchRetrieval"],l);const a=c(e,["computerUse"]);a!=null&&d(t,["computerUse"],a);const u=c(e,["fileSearch"]);u!=null&&d(t,["fileSearch"],u);const f=c(e,["codeExecution"]);if(f!=null&&d(t,["codeExecution"],f),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=c(e,["googleMaps"]);p!=null&&d(t,["googleMaps"],xN(p));const y=c(e,["googleSearch"]);y!=null&&d(t,["googleSearch"],MN(y));const m=c(e,["urlContext"]);return m!=null&&d(t,["urlContext"],m),t}function t_(e){const t={},o=c(e,["functionDeclarations"]);if(o!=null){let _=o;Array.isArray(_)&&(_=_.map(S=>tN(S))),d(t,["functionDeclarations"],_)}const l=c(e,["retrieval"]);l!=null&&d(t,["retrieval"],l);const a=c(e,["googleSearchRetrieval"]);a!=null&&d(t,["googleSearchRetrieval"],a);const u=c(e,["computerUse"]);if(u!=null&&d(t,["computerUse"],u),c(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const f=c(e,["codeExecution"]);f!=null&&d(t,["codeExecution"],f);const p=c(e,["enterpriseWebSearch"]);p!=null&&d(t,["enterpriseWebSearch"],p);const y=c(e,["googleMaps"]);y!=null&&d(t,["googleMaps"],y);const m=c(e,["googleSearch"]);m!=null&&d(t,["googleSearch"],m);const v=c(e,["urlContext"]);return v!=null&&d(t,["urlContext"],v),t}function jN(e){const t={},o=c(e,["baseModel"]);o!=null&&d(t,["baseModel"],o);const l=c(e,["createTime"]);l!=null&&d(t,["createTime"],l);const a=c(e,["updateTime"]);return a!=null&&d(t,["updateTime"],a),t}function tI(e){const t={},o=c(e,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&d(t,["baseModel"],o);const l=c(e,["createTime"]);l!=null&&d(t,["createTime"],l);const a=c(e,["updateTime"]);return a!=null&&d(t,["updateTime"],a),t}function eI(e,t){const o={},l=c(e,["displayName"]);t!==void 0&&l!=null&&d(t,["displayName"],l);const a=c(e,["description"]);t!==void 0&&a!=null&&d(t,["description"],a);const u=c(e,["defaultCheckpointId"]);return t!==void 0&&u!=null&&d(t,["defaultCheckpointId"],u),o}function nI(e,t){const o={},l=c(e,["displayName"]);t!==void 0&&l!=null&&d(t,["displayName"],l);const a=c(e,["description"]);t!==void 0&&a!=null&&d(t,["description"],a);const u=c(e,["defaultCheckpointId"]);return t!==void 0&&u!=null&&d(t,["defaultCheckpointId"],u),o}function iI(e,t){const o={},l=c(t,["model"]);l!=null&&d(o,["_url","name"],It(e,l));const a=c(t,["config"]);return a!=null&&eI(a,o),o}function oI(e,t){const o={},l=c(t,["model"]);l!=null&&d(o,["_url","model"],It(e,l));const a=c(t,["config"]);return a!=null&&nI(a,o),o}function lI(e,t){const o={},l=c(e,["outputGcsUri"]);t!==void 0&&l!=null&&d(t,["parameters","storageUri"],l);const a=c(e,["safetyFilterLevel"]);t!==void 0&&a!=null&&d(t,["parameters","safetySetting"],a);const u=c(e,["personGeneration"]);t!==void 0&&u!=null&&d(t,["parameters","personGeneration"],u);const f=c(e,["includeRaiReason"]);t!==void 0&&f!=null&&d(t,["parameters","includeRaiReason"],f);const p=c(e,["outputMimeType"]);t!==void 0&&p!=null&&d(t,["parameters","outputOptions","mimeType"],p);const y=c(e,["outputCompressionQuality"]);t!==void 0&&y!=null&&d(t,["parameters","outputOptions","compressionQuality"],y);const m=c(e,["enhanceInputImage"]);t!==void 0&&m!=null&&d(t,["parameters","upscaleConfig","enhanceInputImage"],m);const v=c(e,["imagePreservationFactor"]);t!==void 0&&v!=null&&d(t,["parameters","upscaleConfig","imagePreservationFactor"],v);const _=c(e,["labels"]);t!==void 0&&_!=null&&d(t,["labels"],_);const S=c(e,["numberOfImages"]);t!==void 0&&S!=null&&d(t,["parameters","sampleCount"],S);const E=c(e,["mode"]);return t!==void 0&&E!=null&&d(t,["parameters","mode"],E),o}function rI(e,t){const o={},l=c(t,["model"]);l!=null&&d(o,["_url","model"],It(e,l));const a=c(t,["image"]);a!=null&&d(o,["instances[0]","image"],ln(a));const u=c(t,["upscaleFactor"]);u!=null&&d(o,["parameters","upscaleConfig","upscaleFactor"],u);const f=c(t,["config"]);return f!=null&&lI(f,o),o}function aI(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=c(e,["predictions"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>Es(u))),d(t,["generatedImages"],a)}return t}function sI(e){const t={},o=c(e,["uri"]);o!=null&&d(t,["uri"],o);const l=c(e,["encodedVideo"]);l!=null&&d(t,["videoBytes"],mi(l));const a=c(e,["encoding"]);return a!=null&&d(t,["mimeType"],a),t}function uI(e){const t={},o=c(e,["gcsUri"]);o!=null&&d(t,["uri"],o);const l=c(e,["bytesBase64Encoded"]);l!=null&&d(t,["videoBytes"],mi(l));const a=c(e,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function cI(e){const t={},o=c(e,["image"]);o!=null&&d(t,["_self"],ln(o));const l=c(e,["maskMode"]);return l!=null&&d(t,["maskMode"],l),t}function fI(e){const t={},o=c(e,["image"]);o!=null&&d(t,["image"],As(o));const l=c(e,["referenceType"]);return l!=null&&d(t,["referenceType"],l),t}function dI(e){const t={},o=c(e,["image"]);o!=null&&d(t,["image"],ln(o));const l=c(e,["referenceType"]);return l!=null&&d(t,["referenceType"],l),t}function e_(e){const t={},o=c(e,["uri"]);o!=null&&d(t,["uri"],o);const l=c(e,["videoBytes"]);l!=null&&d(t,["encodedVideo"],mi(l));const a=c(e,["mimeType"]);return a!=null&&d(t,["encoding"],a),t}function n_(e){const t={},o=c(e,["uri"]);o!=null&&d(t,["gcsUri"],o);const l=c(e,["videoBytes"]);l!=null&&d(t,["bytesBase64Encoded"],mi(l));const a=c(e,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hI(e,t){const o={},l=c(e,["displayName"]);return t!==void 0&&l!=null&&d(t,["displayName"],l),o}function pI(e){const t={},o=c(e,["config"]);return o!=null&&hI(o,t),t}function mI(e,t){const o={},l=c(e,["force"]);return t!==void 0&&l!=null&&d(t,["_query","force"],l),o}function gI(e){const t={},o=c(e,["name"]);o!=null&&d(t,["_url","name"],o);const l=c(e,["config"]);return l!=null&&mI(l,t),t}function yI(e){const t={},o=c(e,["name"]);return o!=null&&d(t,["_url","name"],o),t}function vI(e,t){const o={},l=c(e,["customMetadata"]);if(t!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>f)),d(t,["customMetadata"],u)}const a=c(e,["chunkingConfig"]);return t!==void 0&&a!=null&&d(t,["chunkingConfig"],a),o}function _I(e){const t={},o=c(e,["name"]);o!=null&&d(t,["name"],o);const l=c(e,["metadata"]);l!=null&&d(t,["metadata"],l);const a=c(e,["done"]);a!=null&&d(t,["done"],a);const u=c(e,["error"]);u!=null&&d(t,["error"],u);const f=c(e,["response"]);return f!=null&&d(t,["response"],TI(f)),t}function SI(e){const t={},o=c(e,["fileSearchStoreName"]);o!=null&&d(t,["_url","file_search_store_name"],o);const l=c(e,["fileName"]);l!=null&&d(t,["fileName"],l);const a=c(e,["config"]);return a!=null&&vI(a,t),t}function TI(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=c(e,["parent"]);l!=null&&d(t,["parent"],l);const a=c(e,["documentName"]);return a!=null&&d(t,["documentName"],a),t}function EI(e,t){const o={},l=c(e,["pageSize"]);t!==void 0&&l!=null&&d(t,["_query","pageSize"],l);const a=c(e,["pageToken"]);return t!==void 0&&a!=null&&d(t,["_query","pageToken"],a),o}function AI(e){const t={},o=c(e,["config"]);return o!=null&&EI(o,t),t}function CI(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=c(e,["nextPageToken"]);l!=null&&d(t,["nextPageToken"],l);const a=c(e,["fileSearchStores"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>f)),d(t,["fileSearchStores"],u)}return t}function i_(e,t){const o={},l=c(e,["mimeType"]);t!==void 0&&l!=null&&d(t,["mimeType"],l);const a=c(e,["displayName"]);t!==void 0&&a!=null&&d(t,["displayName"],a);const u=c(e,["customMetadata"]);if(t!==void 0&&u!=null){let p=u;Array.isArray(p)&&(p=p.map(y=>y)),d(t,["customMetadata"],p)}const f=c(e,["chunkingConfig"]);return t!==void 0&&f!=null&&d(t,["chunkingConfig"],f),o}function RI(e){const t={},o=c(e,["fileSearchStoreName"]);o!=null&&d(t,["_url","file_search_store_name"],o);const l=c(e,["config"]);return l!=null&&i_(l,t),t}function xI(e){const t={},o=c(e,["sdkHttpResponse"]);return o!=null&&d(t,["sdkHttpResponse"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const MI="Content-Type",wI="X-Server-Timeout",NI="User-Agent",Vf="x-goog-api-client",II="1.34.0",DI=`google-genai-sdk/${II}`,bI="v1beta1",UI="v1beta";class LI{constructor(t){var o,l;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:bI,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:UI,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const l=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&l.push(t.apiVersion),l.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),o=new URL(t);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,o,l){const a=[this.getRequestUrlInternal(o)];return l&&a.push(this.getBaseResourcePath()),t!==""&&a.push(t),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const l=this.shouldPrependVertexProjectPath(t),a=this.constructUrl(t.path,o,l);if(t.queryParams)for(const[f,p]of Object.entries(t.queryParams))a.searchParams.append(f,String(p));let u={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=t.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,o,a.toString(),t.abortSignal),this.unaryApiCall(a,u,t.httpMethod)}patchHttpOptions(t,o){const l=JSON.parse(JSON.stringify(t));for(const[a,u]of Object.entries(o))typeof u=="object"?l[a]=Object.assign(Object.assign({},l[a]),u):u!==void 0&&(l[a]=u);return l}async requestStream(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const l=this.shouldPrependVertexProjectPath(t),a=this.constructUrl(t.path,o,l);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let u={};return u.body=t.body,u=await this.includeExtraHttpOptionsToRequestInit(u,o,a.toString(),t.abortSignal),this.streamApiCall(a,u,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,o,l,a){if(o&&o.timeout||a){const u=new AbortController,f=u.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const p=setTimeout(()=>u.abort(),o.timeout);p&&typeof p.unref=="function"&&p.unref()}a&&a.addEventListener("abort",()=>{u.abort()}),t.signal=f}return o&&o.extraBody!==null&&GI(t,o.extraBody),t.headers=await this.getHeadersInternal(o,l),t}async unaryApiCall(t,o,l){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:l})).then(async a=>(await xy(a),new Lf(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(t,o,l){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:l})).then(async a=>(await xy(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(t){return en(this,arguments,function*(){var l;const a=(l=t==null?void 0:t.body)===null||l===void 0?void 0:l.getReader(),u=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let f="";const p="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:m,value:v}=yield mt(a.read());if(m){if(f.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const _=u.decode(v,{stream:!0});try{const C=JSON.parse(_);if("error"in C){const N=JSON.parse(JSON.stringify(C.error)),w=N.status,I=N.code,O=`got status: ${w}. ${JSON.stringify(C)}`;if(I>=400&&I<600)throw new Ss({message:O,status:I})}}catch(C){if(C.name==="ApiError")throw C}f+=_;let S=-1,E=0;for(;;){S=-1,E=0;for(const w of y){const I=f.indexOf(w);I!==-1&&(S===-1||I<S)&&(S=I,E=w.length)}if(S===-1)break;const C=f.substring(0,S);f=f.substring(S+E);const N=C.trim();if(N.startsWith(p)){const w=N.substring(p.length).trim();try{const I=new Response(w,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield mt(new Lf(I))}catch(I){throw new Error(`exception parsing stream chunk ${w}. ${I}`)}}}}}finally{a.releaseLock()}})}async apiCall(t,o){return fetch(t,o).catch(l=>{throw new Error(`exception ${l} sending request`)})}getDefaultHeaders(){const t={},o=DI+" "+this.clientOptions.userAgentExtra;return t[NI]=o,t[Vf]=o,t[MI]="application/json",t}async getHeadersInternal(t,o){const l=new Headers;if(t&&t.headers){for(const[a,u]of Object.entries(t.headers))l.append(a,u);t.timeout&&t.timeout>0&&l.append(wI,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(l,o),l}getFileName(t){var o;let l="";return typeof t=="string"&&(l=t.replace(/[/\\]+$/,""),l=(o=l.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),l}async uploadFile(t,o){var l;const a={};o!=null&&(a.mimeType=o.mimeType,a.name=o.name,a.displayName=o.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const u=this.clientOptions.uploader,f=await u.stat(t);a.sizeBytes=String(f.size);const p=(l=o==null?void 0:o.mimeType)!==null&&l!==void 0?l:f.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=p;const y={file:a},m=this.getFileName(t),v=rt("upload/v1beta/files",y._url),_=await this.fetchUploadUrl(v,a.sizeBytes,a.mimeType,m,y,o==null?void 0:o.httpOptions);return u.upload(t,_,this)}async uploadFileToFileSearchStore(t,o,l){var a;const u=this.clientOptions.uploader,f=await u.stat(o),p=String(f.size),y=(a=l==null?void 0:l.mimeType)!==null&&a!==void 0?a:f.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${t}:uploadToFileSearchStore`,v=this.getFileName(o),_={};l!=null&&i_(l,_);const S=await this.fetchUploadUrl(m,p,y,v,_,l==null?void 0:l.httpOptions);return u.uploadToFileSearchStore(o,S,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,o,l,a,u,f){var p;let y={};f?y=f:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${l}`},a?{"X-Goog-Upload-File-Name":a}:{})};const m=await this.request({path:t,body:JSON.stringify(u),httpMethod:"POST",httpOptions:y});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(p=m==null?void 0:m.headers)===null||p===void 0?void 0:p["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function xy(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const o=e.status;let l;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?l=await e.json():l={error:{message:await e.text(),code:e.status,status:e.statusText}};const a=JSON.stringify(l);throw o>=400&&o<600?new Ss({message:a,status:o}):new Error(a)}}function GI(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof e.body=="string"&&e.body.length>0)try{const u=JSON.parse(e.body);if(typeof u=="object"&&u!==null&&!Array.isArray(u))o=u;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function l(u,f){const p=Object.assign({},u);for(const y in f)if(Object.prototype.hasOwnProperty.call(f,y)){const m=f[y],v=p[y];m&&typeof m=="object"&&!Array.isArray(m)&&v&&typeof v=="object"&&!Array.isArray(v)?p[y]=l(v,m):(v&&m&&typeof v!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof m}. Overwriting.`),p[y]=m)}return p}const a=l(o,t);e.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const HI="mcp_used/unknown";let zI=!1;function o_(e){for(const t of e)if(qI(t)||typeof t=="object"&&"inputSchema"in t)return!0;return zI}function l_(e){var t;const o=(t=e[Vf])!==null&&t!==void 0?t:"";e[Vf]=(o+` ${HI}`).trimStart()}function qI(e){return e!==null&&typeof e=="object"&&e instanceof sd}function VI(e){return en(this,arguments,function*(o,l=100){let a,u=0;for(;u<l;){const f=yield mt(o.listTools({cursor:a}));for(const p of f.tools)yield yield mt(p),u++;if(!f.nextCursor)break;a=f.nextCursor}})}class sd{constructor(t=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=o}static create(t,o){return new sd(t,o)}async initialize(){var t,o,l,a;if(this.mcpTools.length>0)return;const u={},f=[];for(const v of this.mcpClients)try{for(var p=!0,y=(o=void 0,nn(VI(v))),m;m=await y.next(),t=m.done,!t;p=!0){a=m.value,p=!1;const _=a;f.push(_);const S=_.name;if(u[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);u[S]=v}}catch(_){o={error:_}}finally{try{!p&&!t&&(l=y.return)&&await l.call(y)}finally{if(o)throw o.error}}this.mcpTools=f,this.functionNameToMcpClient=u}async tool(){return await this.initialize(),yx(this.mcpTools,this.config)}async callTool(t){await this.initialize();const o=[];for(const l of t)if(l.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[l.name];let u;this.config.timeout&&(u={timeout:this.config.timeout});const f=await a.callTool({name:l.name,arguments:l.args},void 0,u);o.push({functionResponse:{name:l.name,response:f.isError?{error:f}:f}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function PI(e,t,o){const l=new ux;let a;o.data instanceof Blob?a=JSON.parse(await o.data.text()):a=JSON.parse(o.data),Object.assign(l,a),t(l)}class BI{constructor(t,o,l){this.apiClient=t,this.auth=o,this.webSocketFactory=l}async connect(t){var o,l;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),f=FI(this.apiClient.getDefaultHeaders()),p=this.apiClient.getApiKey(),y=`${a}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateMusic?key=${p}`;let m=()=>{};const v=new Promise(U=>{m=U}),_=t.callbacks,S=function(){m({})},E=this.apiClient,C={onopen:S,onmessage:U=>{PI(E,_.onmessage,U)},onerror:(o=_==null?void 0:_.onerror)!==null&&o!==void 0?o:function(U){},onclose:(l=_==null?void 0:_.onclose)!==null&&l!==void 0?l:function(U){}},N=this.webSocketFactory.create(y,OI(f),C);N.connect(),await v;const O={setup:{model:It(this.apiClient,t.model)}};return N.send(JSON.stringify(O)),new kI(N,this.apiClient)}}class kI{constructor(t,o){this.conn=t,this.apiClient=o}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=pw(t);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const o=hw(t);this.conn.send(JSON.stringify(o))}sendPlaybackControl(t){const o={playbackControl:t};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(bo.PLAY)}pause(){this.sendPlaybackControl(bo.PAUSE)}stop(){this.sendPlaybackControl(bo.STOP)}resetContext(){this.sendPlaybackControl(bo.RESET_CONTEXT)}close(){this.conn.close()}}function OI(e){const t={};return e.forEach((o,l)=>{t[l]=o}),t}function FI(e){const t=new Headers;for(const[o,l]of Object.entries(e))t.append(o,l);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const YI="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function JI(e,t,o){const l=new sx;let a;o.data instanceof Blob?a=await o.data.text():o.data instanceof ArrayBuffer?a=new TextDecoder().decode(o.data):a=o.data;const u=JSON.parse(a);if(e.isVertexAI()){const f=yw(u);Object.assign(l,f)}else Object.assign(l,u);t(l)}class XI{constructor(t,o,l){this.apiClient=t,this.auth=o,this.webSocketFactory=l,this.music=new BI(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var o,l,a,u,f,p;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let v;const _=this.apiClient.getHeaders();t.config&&t.config.tools&&o_(t.config.tools)&&l_(_);const S=$I(_);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,v);else{const K=this.apiClient.getApiKey();let ot="BidiGenerateContent",it="key";K!=null&&K.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ot="BidiGenerateContentConstrained",it="access_token"),v=`${y}/ws/google.ai.generativelanguage.${m}.GenerativeService.${ot}?${it}=${K}`}let E=()=>{};const C=new Promise(K=>{E=K}),N=t.callbacks,w=function(){var K;(K=N==null?void 0:N.onopen)===null||K===void 0||K.call(N),E({})},I=this.apiClient,O={onopen:w,onmessage:K=>{JI(I,N.onmessage,K)},onerror:(o=N==null?void 0:N.onerror)!==null&&o!==void 0?o:function(K){},onclose:(l=N==null?void 0:N.onclose)!==null&&l!==void 0?l:function(K){}},U=this.webSocketFactory.create(v,ZI(S),O);U.connect(),await C;let b=It(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&b.startsWith("publishers/")){const K=this.apiClient.getProject(),ot=this.apiClient.getLocation();b=`projects/${K}/locations/${ot}/`+b}let X={};this.apiClient.isVertexAI()&&((a=t.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[us.AUDIO]}:t.config.responseModalities=[us.AUDIO]),!((u=t.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const k=(p=(f=t.config)===null||f===void 0?void 0:f.tools)!==null&&p!==void 0?p:[],F=[];for(const K of k)if(this.isCallableTool(K)){const ot=K;F.push(await ot.tool())}else F.push(K);F.length>0&&(t.config.tools=F);const W={model:b,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?X=dw(this.apiClient,W):X=fw(this.apiClient,W),delete X.config,U.send(JSON.stringify(X)),new QI(U,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const KI={turnComplete:!0};class QI{constructor(t,o){this.conn=t,this.apiClient=o}tLiveClientContent(t,o){if(o.turns!==null&&o.turns!==void 0){let l=[];try{l=Ke(o.turns),t.isVertexAI()||(l=l.map(a=>Ts(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:l,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(t,o){let l=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?l=o.functionResponses:l=[o.functionResponses],l.length===0)throw new Error("functionResponses is required.");for(const u of l){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!t.isVertexAI()&&!("id"in u))throw new Error(YI)}return{toolResponse:{functionResponses:l}}}sendClientContent(t){t=Object.assign(Object.assign({},KI),t);const o=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(o))}sendRealtimeInput(t){let o={};this.apiClient.isVertexAI()?o={realtimeInput:gw(t)}:o={realtimeInput:mw(t)},this.conn.send(JSON.stringify(o))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function ZI(e){const t={};return e.forEach((o,l)=>{t[l]=o}),t}function $I(e){const t=new Headers;for(const[o,l]of Object.entries(e))t.append(o,l);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const My=10;function wy(e){var t,o,l;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let a=!1;for(const f of(o=e==null?void 0:e.tools)!==null&&o!==void 0?o:[])if(zo(f)){a=!0;break}if(!a)return!0;const u=(l=e==null?void 0:e.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls;return u&&(u<0||!Number.isInteger(u))||u==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",u),!0):!1}function zo(e){return"callTool"in e&&typeof e.callTool=="function"}function WI(e){var t,o,l;return(l=(o=(t=e.config)===null||t===void 0?void 0:t.tools)===null||o===void 0?void 0:o.some(a=>zo(a)))!==null&&l!==void 0?l:!1}function Ny(e){var t;const o=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((l,a)=>{if(zo(l))return;const u=l;u.functionDeclarations&&u.functionDeclarations.length>0&&o.push(a)}),o}function Iy(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jI extends Vn{constructor(t){super(),this.apiClient=t,this.generateContent=async o=>{var l,a,u,f,p;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!WI(o)||wy(o.config))return await this.generateContentInternal(y);const m=Ny(o);if(m.length>0){const N=m.map(w=>`tools[${w}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${N}.`)}let v,_;const S=Ke(y.contents),E=(u=(a=(l=y.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&u!==void 0?u:My;let C=0;for(;C<E&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const N=v.candidates[0].content,w=[];for(const I of(p=(f=o.config)===null||f===void 0?void 0:f.tools)!==null&&p!==void 0?p:[])if(zo(I)){const U=await I.callTool(v.functionCalls);w.push(...U)}C++,_={role:"user",parts:w},y.contents=Ke(y.contents),y.contents.push(N),y.contents.push(_),Iy(y.config)&&(S.push(N),S.push(_))}return Iy(y.config)&&(v.automaticFunctionCallingHistory=S),v},this.generateContentStream=async o=>{var l,a,u,f,p;if(this.maybeMoveToResponseJsonSchem(o),wy(o.config)){const _=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(_)}const y=Ny(o);if(y.length>0){const _=y.map(S=>`tools[${S}]`).join(", ");throw new Error(`Incompatible tools found at ${_}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(u=(a=(l=o==null?void 0:o.config)===null||l===void 0?void 0:l.toolConfig)===null||a===void 0?void 0:a.functionCallingConfig)===null||u===void 0?void 0:u.streamFunctionCallArguments,v=(p=(f=o==null?void 0:o.config)===null||f===void 0?void 0:f.automaticFunctionCalling)===null||p===void 0?void 0:p.disable;if(m&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(l=>{var a;let u;const f=[];if(l!=null&&l.generatedImages)for(const y of l.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((a=y==null?void 0:y.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?u=y==null?void 0:y.safetyAttributes:f.push(y);let p;return u?p={generatedImages:f,positivePromptSafetyAttributes:u,sdkHttpResponse:l.sdkHttpResponse}:p={generatedImages:f,sdkHttpResponse:l.sdkHttpResponse},p}),this.list=async o=>{var l;const f={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!f.config.queryBase){if(!((l=f.config)===null||l===void 0)&&l.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");f.config.filter="labels.tune-type:*"}return new ki(qn.PAGED_ITEM_MODELS,p=>this.listInternal(p),await this.listInternal(f),f)},this.editImage=async o=>{const l={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(l.referenceImages=o.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(l)},this.upscaleImage=async o=>{let l={numberOfImages:1,mode:"upscale"};o.config&&(l=Object.assign(Object.assign({},l),o.config));const a={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:l};return await this.upscaleImageInternal(a)},this.generateVideos=async o=>{var l,a,u,f,p,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((l=o.video)===null||l===void 0)&&l.uri&&(!((a=o.video)===null||a===void 0)&&a.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((f=(u=o.source)===null||u===void 0?void 0:u.video)===null||f===void 0)&&f.uri&&(!((y=(p=o.source)===null||p===void 0?void 0:p.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var o,l,a;const u=(o=t.config)===null||o===void 0?void 0:o.tools;if(!u)return t;const f=await Promise.all(u.map(async y=>zo(y)?await y.tool():y)),p={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:f})};if(p.config.tools=f,t.config&&t.config.tools&&o_(t.config.tools)){const y=(a=(l=t.config.httpOptions)===null||l===void 0?void 0:l.headers)!==null&&a!==void 0?a:{};let m=Object.assign({},y);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),l_(m),p.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:m})}return p}async initAfcToolsMap(t){var o,l,a;const u=new Map;for(const f of(l=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[])if(zo(f)){const p=f,y=await p.tool();for(const m of(a=y.functionDeclarations)!==null&&a!==void 0?a:[]){if(!m.name)throw new Error("Function declaration name is required.");if(u.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);u.set(m.name,p)}}return u}async processAfcStream(t){var o,l,a;const u=(a=(l=(o=t.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&a!==void 0?a:My;let f=!1,p=0;const y=await this.initAfcToolsMap(t);return(function(m,v,_){return en(this,arguments,function*(){for(var S,E,C,N,w,I;p<u;){f&&(p++,f=!1);const X=yield mt(m.processParamsMaybeAddMcpUsage(_)),k=yield mt(m.generateContentStreamInternal(X)),F=[],W=[];try{for(var O=!0,U=(E=void 0,nn(k)),b;b=yield mt(U.next()),S=b.done,!S;O=!0){N=b.value,O=!1;const K=N;if(yield yield mt(K),K.candidates&&(!((w=K.candidates[0])===null||w===void 0)&&w.content)){W.push(K.candidates[0].content);for(const ot of(I=K.candidates[0].content.parts)!==null&&I!==void 0?I:[])if(p<u&&ot.functionCall){if(!ot.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(ot.functionCall.name)){const it=yield mt(v.get(ot.functionCall.name).callTool([ot.functionCall]));F.push(...it)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${ot.functionCall.name}`)}}}}catch(K){E={error:K}}finally{try{!O&&!S&&(C=U.return)&&(yield mt(C.call(U)))}finally{if(E)throw E.error}}if(F.length>0){f=!0;const K=new Ol;K.candidates=[{content:{role:"user",parts:F}}],yield yield mt(K);const ot=[];ot.push(...W),ot.push({role:"user",parts:F});const it=Ke(_.contents).concat(ot);_.contents=it}else break}})})(this,y,t)}async generateContentInternal(t){var o,l,a,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=Ay(this.apiClient,t);return p=rt("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=Ry(v),S=new Ol;return Object.assign(S,_),S})}else{const m=Ey(this.apiClient,t);return p=rt("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=Cy(v),S=new Ol;return Object.assign(S,_),S})}}async generateContentStreamInternal(t){var o,l,a,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=Ay(this.apiClient,t);return p=rt("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.requestStream({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}),f.then(function(_){return en(this,arguments,function*(){var S,E,C,N;try{for(var w=!0,I=nn(_),O;O=yield mt(I.next()),S=O.done,!S;w=!0){N=O.value,w=!1;const U=N,b=Ry(yield mt(U.json()));b.sdkHttpResponse={headers:U.headers};const X=new Ol;Object.assign(X,b),yield yield mt(X)}}catch(U){E={error:U}}finally{try{!w&&!S&&(C=I.return)&&(yield mt(C.call(I)))}finally{if(E)throw E.error}}})})}else{const m=Ey(this.apiClient,t);return p=rt("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.requestStream({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}),f.then(function(_){return en(this,arguments,function*(){var S,E,C,N;try{for(var w=!0,I=nn(_),O;O=yield mt(I.next()),S=O.done,!S;w=!0){N=O.value,w=!1;const U=N,b=Cy(yield mt(U.json()));b.sdkHttpResponse={headers:U.headers};const X=new Ol;Object.assign(X,b),yield yield mt(X)}}catch(U){E={error:U}}finally{try{!w&&!S&&(C=I.return)&&(yield mt(C.call(I)))}finally{if(E)throw E.error}}})})}}async embedContent(t){var o,l,a,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=Xw(this.apiClient,t);return p=rt("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=Qw(v),S=new ly;return Object.assign(S,_),S})}else{const m=Jw(this.apiClient,t);return p=rt("{model}:batchEmbedContents",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=Kw(v),S=new ly;return Object.assign(S,_),S})}}async generateImagesInternal(t){var o,l,a,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=rN(this.apiClient,t);return p=rt("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=sN(v),S=new ry;return Object.assign(S,_),S})}else{const m=lN(this.apiClient,t);return p=rt("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=aN(v),S=new ry;return Object.assign(S,_),S})}}async editImageInternal(t){var o,l;let a,u="",f={};if(this.apiClient.isVertexAI()){const p=kw(this.apiClient,t);return u=rt("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const m=Ow(y),v=new $R;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var o,l;let a,u="",f={};if(this.apiClient.isVertexAI()){const p=rI(this.apiClient,t);return u=rt("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const m=aI(y),v=new WR;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var o,l;let a,u="",f={};if(this.apiClient.isVertexAI()){const p=BN(this.apiClient,t);return u=rt("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a.then(y=>{const m=kN(y),v=new jR;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var o,l;let a,u="",f={};if(this.apiClient.isVertexAI()){const p=KN(this.apiClient,t);return u=rt("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a.then(y=>{const m=QN(y),v=new tx;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var o,l,a,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=RN(this.apiClient,t);return p=rt("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>qf(v))}else{const m=CN(this.apiClient,t);return p=rt("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>zf(v))}}async listInternal(t){var o,l,a,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=LN(this.apiClient,t);return p=rt("{models_url}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=HN(v),S=new ay;return Object.assign(S,_),S})}else{const m=UN(this.apiClient,t);return p=rt("{models_url}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=GN(v),S=new ay;return Object.assign(S,_),S})}}async update(t){var o,l,a,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=oI(this.apiClient,t);return p=rt("{model}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>qf(v))}else{const m=iI(this.apiClient,t);return p=rt("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>zf(v))}}async delete(t){var o,l,a,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=qw(this.apiClient,t);return p=rt("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=Pw(v),S=new sy;return Object.assign(S,_),S})}else{const m=zw(this.apiClient,t);return p=rt("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=Vw(v),S=new sy;return Object.assign(S,_),S})}}async countTokens(t){var o,l,a,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=Lw(this.apiClient,t);return p=rt("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=Hw(v),S=new uy;return Object.assign(S,_),S})}else{const m=Uw(this.apiClient,t);return p=rt("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=Gw(v),S=new uy;return Object.assign(S,_),S})}}async computeTokens(t){var o,l;let a,u="",f={};if(this.apiClient.isVertexAI()){const p=xw(this.apiClient,t);return u=rt("{model}:computeTokens",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const m=Mw(y),v=new ex;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var o,l,a,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=pN(this.apiClient,t);return p=rt("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f.then(v=>{const _=dN(v),S=new cs;return Object.assign(S,_),S})}else{const m=hN(this.apiClient,t);return p=rt("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f.then(v=>{const _=fN(v),S=new cs;return Object.assign(S,_),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tD extends Vn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const o=t.operation,l=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=o.name.split("/operations/")[0];let u;l&&"httpOptions"in l&&(u=l.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:a,config:{httpOptions:u}});return o._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:o.name,config:l});return o._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async get(t){const o=t.operation,l=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=o.name.split("/operations/")[0];let u;l&&"httpOptions"in l&&(u=l.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:a,config:{httpOptions:u}});return o._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:o.name,config:l});return o._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async getVideosOperationInternal(t){var o,l,a,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=YR(t);return p=rt("{operationName}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),f}else{const m=FR(t);return p=rt("{operationName}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),f}}async fetchPredictVideosOperationInternal(t){var o,l;let a,u="",f={};if(this.apiClient.isVertexAI()){const p=zR(t);return u=rt("{resourceName}:fetchPredictOperation",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eD(e){const t={},o=c(e,["data"]);if(o!=null&&d(t,["data"],o),c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function nD(e){const t={},o=c(e,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>fD(u))),d(t,["parts"],a)}const l=c(e,["role"]);return l!=null&&d(t,["role"],l),t}function iD(e,t,o){const l={},a=c(t,["expireTime"]);o!==void 0&&a!=null&&d(o,["expireTime"],a);const u=c(t,["newSessionExpireTime"]);o!==void 0&&u!=null&&d(o,["newSessionExpireTime"],u);const f=c(t,["uses"]);o!==void 0&&f!=null&&d(o,["uses"],f);const p=c(t,["liveConnectConstraints"]);o!==void 0&&p!=null&&d(o,["bidiGenerateContentSetup"],cD(e,p));const y=c(t,["lockAdditionalFields"]);return o!==void 0&&y!=null&&d(o,["fieldMask"],y),l}function oD(e,t){const o={},l=c(t,["config"]);return l!=null&&d(o,["config"],iD(e,l,o)),o}function lD(e){const t={};if(c(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(e,["fileUri"]);o!=null&&d(t,["fileUri"],o);const l=c(e,["mimeType"]);return l!=null&&d(t,["mimeType"],l),t}function rD(e){const t={},o=c(e,["id"]);o!=null&&d(t,["id"],o);const l=c(e,["args"]);l!=null&&d(t,["args"],l);const a=c(e,["name"]);if(a!=null&&d(t,["name"],a),c(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function aD(e){const t={};if(c(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(e,["enableWidget"]);return o!=null&&d(t,["enableWidget"],o),t}function sD(e){const t={};if(c(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(e,["timeRangeFilter"]);return o!=null&&d(t,["timeRangeFilter"],o),t}function uD(e,t){const o={},l=c(e,["generationConfig"]);t!==void 0&&l!=null&&d(t,["setup","generationConfig"],l);const a=c(e,["responseModalities"]);t!==void 0&&a!=null&&d(t,["setup","generationConfig","responseModalities"],a);const u=c(e,["temperature"]);t!==void 0&&u!=null&&d(t,["setup","generationConfig","temperature"],u);const f=c(e,["topP"]);t!==void 0&&f!=null&&d(t,["setup","generationConfig","topP"],f);const p=c(e,["topK"]);t!==void 0&&p!=null&&d(t,["setup","generationConfig","topK"],p);const y=c(e,["maxOutputTokens"]);t!==void 0&&y!=null&&d(t,["setup","generationConfig","maxOutputTokens"],y);const m=c(e,["mediaResolution"]);t!==void 0&&m!=null&&d(t,["setup","generationConfig","mediaResolution"],m);const v=c(e,["seed"]);t!==void 0&&v!=null&&d(t,["setup","generationConfig","seed"],v);const _=c(e,["speechConfig"]);t!==void 0&&_!=null&&d(t,["setup","generationConfig","speechConfig"],ad(_));const S=c(e,["thinkingConfig"]);t!==void 0&&S!=null&&d(t,["setup","generationConfig","thinkingConfig"],S);const E=c(e,["enableAffectiveDialog"]);t!==void 0&&E!=null&&d(t,["setup","generationConfig","enableAffectiveDialog"],E);const C=c(e,["systemInstruction"]);t!==void 0&&C!=null&&d(t,["setup","systemInstruction"],nD(ce(C)));const N=c(e,["tools"]);if(t!==void 0&&N!=null){let k=Fo(N);Array.isArray(k)&&(k=k.map(F=>hD(Oo(F)))),d(t,["setup","tools"],k)}const w=c(e,["sessionResumption"]);t!==void 0&&w!=null&&d(t,["setup","sessionResumption"],dD(w));const I=c(e,["inputAudioTranscription"]);t!==void 0&&I!=null&&d(t,["setup","inputAudioTranscription"],I);const O=c(e,["outputAudioTranscription"]);t!==void 0&&O!=null&&d(t,["setup","outputAudioTranscription"],O);const U=c(e,["realtimeInputConfig"]);t!==void 0&&U!=null&&d(t,["setup","realtimeInputConfig"],U);const b=c(e,["contextWindowCompression"]);t!==void 0&&b!=null&&d(t,["setup","contextWindowCompression"],b);const X=c(e,["proactivity"]);if(t!==void 0&&X!=null&&d(t,["setup","proactivity"],X),c(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function cD(e,t){const o={},l=c(t,["model"]);l!=null&&d(o,["setup","model"],It(e,l));const a=c(t,["config"]);return a!=null&&d(o,["config"],uD(a,o)),o}function fD(e){const t={},o=c(e,["mediaResolution"]);o!=null&&d(t,["mediaResolution"],o);const l=c(e,["codeExecutionResult"]);l!=null&&d(t,["codeExecutionResult"],l);const a=c(e,["executableCode"]);a!=null&&d(t,["executableCode"],a);const u=c(e,["fileData"]);u!=null&&d(t,["fileData"],lD(u));const f=c(e,["functionCall"]);f!=null&&d(t,["functionCall"],rD(f));const p=c(e,["functionResponse"]);p!=null&&d(t,["functionResponse"],p);const y=c(e,["inlineData"]);y!=null&&d(t,["inlineData"],eD(y));const m=c(e,["text"]);m!=null&&d(t,["text"],m);const v=c(e,["thought"]);v!=null&&d(t,["thought"],v);const _=c(e,["thoughtSignature"]);_!=null&&d(t,["thoughtSignature"],_);const S=c(e,["videoMetadata"]);return S!=null&&d(t,["videoMetadata"],S),t}function dD(e){const t={},o=c(e,["handle"]);if(o!=null&&d(t,["handle"],o),c(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function hD(e){const t={},o=c(e,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(_=>_)),d(t,["functionDeclarations"],v)}if(c(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=c(e,["googleSearchRetrieval"]);l!=null&&d(t,["googleSearchRetrieval"],l);const a=c(e,["computerUse"]);a!=null&&d(t,["computerUse"],a);const u=c(e,["fileSearch"]);u!=null&&d(t,["fileSearch"],u);const f=c(e,["codeExecution"]);if(f!=null&&d(t,["codeExecution"],f),c(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=c(e,["googleMaps"]);p!=null&&d(t,["googleMaps"],aD(p));const y=c(e,["googleSearch"]);y!=null&&d(t,["googleSearch"],sD(y));const m=c(e,["urlContext"]);return m!=null&&d(t,["urlContext"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pD(e){const t=[];for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){const l=e[o];if(typeof l=="object"&&l!=null&&Object.keys(l).length>0){const a=Object.keys(l).map(u=>`${o}.${u}`);t.push(...a)}else t.push(o)}return t.join(",")}function mD(e,t){let o=null;const l=e.bidiGenerateContentSetup;if(typeof l=="object"&&l!==null&&"setup"in l){const u=l.setup;typeof u=="object"&&u!==null?(e.bidiGenerateContentSetup=u,o=u):delete e.bidiGenerateContentSetup}else l!==void 0&&delete e.bidiGenerateContentSetup;const a=e.fieldMask;if(o){const u=pD(o);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)u?e.fieldMask=u:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const f=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let p=[];a.length>0&&(p=a.map(m=>f.includes(m)?`generationConfig.${m}`:m));const y=[];u&&y.push(u),p.length>0&&y.push(...p),y.length>0?e.fieldMask=y.join(","):delete e.fieldMask}else delete e.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?e.fieldMask=a.join(","):delete e.fieldMask;return e}class gD extends Vn{constructor(t){super(),this.apiClient=t}async create(t){var o,l;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const p=oD(this.apiClient,t);u=rt("auth_tokens",p._url),f=p._query,delete p.config,delete p._url,delete p._query;const y=mD(p,t.config);return a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),a.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yD(e,t){const o={},l=c(e,["force"]);return t!==void 0&&l!=null&&d(t,["_query","force"],l),o}function vD(e){const t={},o=c(e,["name"]);o!=null&&d(t,["_url","name"],o);const l=c(e,["config"]);return l!=null&&yD(l,t),t}function _D(e){const t={},o=c(e,["name"]);return o!=null&&d(t,["_url","name"],o),t}function SD(e,t){const o={},l=c(e,["pageSize"]);t!==void 0&&l!=null&&d(t,["_query","pageSize"],l);const a=c(e,["pageToken"]);return t!==void 0&&a!=null&&d(t,["_query","pageToken"],a),o}function TD(e){const t={},o=c(e,["parent"]);o!=null&&d(t,["_url","parent"],o);const l=c(e,["config"]);return l!=null&&SD(l,t),t}function ED(e){const t={},o=c(e,["sdkHttpResponse"]);o!=null&&d(t,["sdkHttpResponse"],o);const l=c(e,["nextPageToken"]);l!=null&&d(t,["nextPageToken"],l);const a=c(e,["documents"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>f)),d(t,["documents"],u)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AD extends Vn{constructor(t){super(),this.apiClient=t,this.list=async o=>new ki(qn.PAGED_ITEM_DOCUMENTS,l=>this.listInternal({parent:o.parent,config:l.config}),await this.listInternal(o),o)}async get(t){var o,l;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=_D(t);return u=rt("{name}",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a.then(y=>y)}}async delete(t){var o,l;let a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=vD(t);a=rt("{name}",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(t){var o,l;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=TD(t);return u=rt("{parent}/documents",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a.then(y=>{const m=ED(y),v=new nx;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CD extends Vn{constructor(t,o=new AD(t)){super(),this.apiClient=t,this.documents=o,this.list=async(l={})=>new ki(qn.PAGED_ITEM_FILE_SEARCH_STORES,a=>this.listInternal(a),await this.listInternal(l),l)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var o,l;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=pI(t);return u=rt("fileSearchStores",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a.then(y=>y)}}async get(t){var o,l;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=yI(t);return u=rt("{name}",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a.then(y=>y)}}async delete(t){var o,l;let a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=gI(t);a=rt("{name}",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(t){var o,l;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=AI(t);return u=rt("fileSearchStores",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a.then(y=>{const m=CI(y),v=new ix;return Object.assign(v,m),v})}}async uploadToFileSearchStoreInternal(t){var o,l;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=RI(t);return u=rt("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a.then(y=>{const m=xI(y),v=new ox;return Object.assign(v,m),v})}}async importFile(t){var o,l;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=SI(t);return u=rt("{file_search_store_name}:importFile",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),a.then(y=>{const m=_I(y),v=new nd;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let r_=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return r_=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),o=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,l=>(+l^o()&15>>+l/4).toString(16))};const RD=()=>r_();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pf(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const Bf=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ze extends Error{}class he extends Ze{constructor(t,o,l,a){super(`${he.makeMessage(t,o,l)}`),this.status=t,this.headers=a,this.error=o}static makeMessage(t,o,l){const a=o!=null&&o.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):l;return t&&a?`${t} ${a}`:t?`${t} status code (no body)`:a||"(no status code or body)"}static generate(t,o,l,a){if(!t||!a)return new Cs({message:l,cause:Bf(o)});const u=o;return t===400?new s_(t,u,l,a):t===401?new u_(t,u,l,a):t===403?new c_(t,u,l,a):t===404?new f_(t,u,l,a):t===409?new d_(t,u,l,a):t===422?new h_(t,u,l,a):t===429?new p_(t,u,l,a):t>=500?new m_(t,u,l,a):new he(t,u,l,a)}}class kf extends he{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Cs extends he{constructor({message:t,cause:o}){super(void 0,void 0,t||"Connection error.",void 0),o&&(this.cause=o)}}class a_ extends Cs{constructor({message:t}={}){super({message:t??"Request timed out."})}}class s_ extends he{}class u_ extends he{}class c_ extends he{}class f_ extends he{}class d_ extends he{}class h_ extends he{}class p_ extends he{}class m_ extends he{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xD=/^[a-z][a-z0-9+.-]*:/i,MD=e=>xD.test(e);let Of=e=>(Of=Array.isArray,Of(e));const wD=Of;let ND=wD;const Dy=ND;function ID(e){if(!e)return!0;for(const t in e)return!1;return!0}function DD(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const bD=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Ze(`${e} must be an integer`);if(t<0)throw new Ze(`${e} must be a positive integer`);return t},UD=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LD=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const No="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GD(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const HD=()=>{var e,t,o,l,a;const u=GD();if(u==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":No,"X-Stainless-OS":Uy(Deno.build.os),"X-Stainless-Arch":by(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":No,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(u==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":No,"X-Stainless-OS":Uy((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":by((l=globalThis.process.arch)!==null&&l!==void 0?l:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(a=globalThis.process.version)!==null&&a!==void 0?a:"unknown"};const f=zD();return f?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":No,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${f.browser}`,"X-Stainless-Runtime-Version":f.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":No,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function zD(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:o}of e){const l=o.exec(navigator.userAgent);if(l){const a=l[1]||0,u=l[2]||0,f=l[3]||0;return{browser:t,version:`${a}.${u}.${f}`}}}return null}const by=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",Uy=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let za;const qD=()=>za??(za=HD());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VD(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function g_(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function PD(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return g_({start(){},async pull(o){const{done:l,value:a}=await t.next();l?o.close():o.enqueue(a)},async cancel(){var o;await((o=t.return)===null||o===void 0?void 0:o.call(t))}})}function y_(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const o=await t.read();return o!=null&&o.done&&t.releaseLock(),o}catch(o){throw t.releaseLock(),o}},async return(){const o=t.cancel();return t.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function BD(e){var t,o;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((o=(t=e[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(t));return}const l=e.getReader(),a=l.cancel();l.releaseLock(),await a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kD=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const v_=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,o=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function af(e,t,o){return v_(),new File(e,t??"unknown_file",o)}function OD(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const FD=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const __=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",YD=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&__(e),JD=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function XD(e,t,o){if(v_(),e=await e,YD(e))return e instanceof File?e:af([await e.arrayBuffer()],e.name);if(JD(e)){const a=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),af(await Ff(a),t,o)}const l=await Ff(e);if(t||(t=OD(e)),!(o!=null&&o.type)){const a=l.find(u=>typeof u=="object"&&"type"in u&&u.type);typeof a=="string"&&(o=Object.assign(Object.assign({},o),{type:a}))}return af(l,t,o)}async function Ff(e){var t,o,l,a,u;let f=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)f.push(e);else if(__(e))f.push(e instanceof Blob?e:await e.arrayBuffer());else if(FD(e))try{for(var p=!0,y=nn(e),m;m=await y.next(),t=m.done,!t;p=!0){a=m.value,p=!1;const v=a;f.push(...await Ff(v))}}catch(v){o={error:v}}finally{try{!p&&!t&&(l=y.return)&&await l.call(y)}finally{if(o)throw o.error}}else{const v=(u=e==null?void 0:e.constructor)===null||u===void 0?void 0:u.name;throw new Error(`Unexpected data type: ${typeof e}${v?`; constructor: ${v}`:""}${KD(e)}`)}return f}function KD(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(o=>`"${o}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class S_{constructor(t){this._client=t}}S_._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function T_(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Ly=Object.freeze(Object.create(null)),QD=(e=T_)=>(function(o,...l){if(o.length===1)return o[0];let a=!1;const u=[],f=o.reduce((v,_,S)=>{var E,C,N;/[?#]/.test(_)&&(a=!0);const w=l[S];let I=(a?encodeURIComponent:e)(""+w);return S!==l.length&&(w==null||typeof w=="object"&&w.toString===((N=Object.getPrototypeOf((C=Object.getPrototypeOf((E=w.hasOwnProperty)!==null&&E!==void 0?E:Ly))!==null&&C!==void 0?C:Ly))===null||N===void 0?void 0:N.toString))&&(I=w+"",u.push({start:v.length+_.length,length:I.length,error:`Value of type ${Object.prototype.toString.call(w).slice(8,-1)} is not a valid path parameter`})),v+_+(S===l.length?"":I)},""),p=f.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let m;for(;(m=y.exec(p))!==null;)u.push({start:m.index,length:m[0].length,error:`Value "${m[0]}" can't be safely passed as a path parameter`});if(u.sort((v,_)=>v.start-_.start),u.length>0){let v=0;const _=u.reduce((S,E)=>{const C=" ".repeat(E.start-v),N="^".repeat(E.length);return v=E.start+E.length,S+C+N},"");throw new Ze(`Path parameters result in path with invalid segments:
${u.map(S=>S.error).join(`
`)}
${f}
${_}`)}return f}),qa=QD(T_);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class E_ extends S_{create(t,o){var l;const{api_version:a=this._client.apiVersion}=t,u=ds(t,["api_version"]);if("model"in u&&"agent_config"in u)throw new Ze("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in u&&"generation_config"in u)throw new Ze("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(qa`/${a}/interactions`,Object.assign(Object.assign({body:u},o),{stream:(l=t.stream)!==null&&l!==void 0?l:!1}))}delete(t,o={},l){const{api_version:a=this._client.apiVersion}=o??{};return this._client.delete(qa`/${a}/interactions/${t}`,l)}cancel(t,o={},l){const{api_version:a=this._client.apiVersion}=o??{};return this._client.post(qa`/${a}/interactions/${t}/cancel`,l)}get(t,o={},l){var a;const u=o??{},{api_version:f=this._client.apiVersion}=u,p=ds(u,["api_version"]);return this._client.get(qa`/${f}/interactions/${t}`,Object.assign(Object.assign({query:p},l),{stream:(a=o==null?void 0:o.stream)!==null&&a!==void 0?a:!1}))}}E_._key=Object.freeze(["interactions"]);class A_ extends E_{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZD(e){let t=0;for(const a of e)t+=a.length;const o=new Uint8Array(t);let l=0;for(const a of e)o.set(a,l),l+=a.length;return o}let Va;function ud(e){let t;return(Va??(t=new globalThis.TextEncoder,Va=t.encode.bind(t)))(e)}let Pa;function Gy(e){let t;return(Pa??(t=new globalThis.TextDecoder,Pa=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rs{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const o=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?ud(t):t;this.buffer=ZD([this.buffer,o]);const l=[];let a;for(;(a=$D(this.buffer,this.carriageReturnIndex))!=null;){if(a.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=a.index;continue}if(this.carriageReturnIndex!=null&&(a.index!==this.carriageReturnIndex+1||a.carriage)){l.push(Gy(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const u=this.carriageReturnIndex!==null?a.preceding-1:a.preceding,f=Gy(this.buffer.subarray(0,u));l.push(f),this.buffer=this.buffer.subarray(a.index),this.carriageReturnIndex=null}return l}flush(){return this.buffer.length?this.decode(`
`):[]}}Rs.NEWLINE_CHARS=new Set([`
`,"\r"]);Rs.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function $D(e,t){for(let a=t??0;a<e.length;a++){if(e[a]===10)return{preceding:a,index:a+1,carriage:!1};if(e[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function WD(e){for(let l=0;l<e.length-1;l++){if(e[l]===10&&e[l+1]===10||e[l]===13&&e[l+1]===13)return l+2;if(e[l]===13&&e[l+1]===10&&l+3<e.length&&e[l+2]===13&&e[l+3]===10)return l+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hs={off:0,error:200,warn:300,info:400,debug:500},Hy=(e,t,o)=>{if(e){if(DD(hs,e))return e;de(o).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(hs))}`)}};function Wl(){}function Ba(e,t,o){return!t||hs[e]>hs[o]?Wl:t[e].bind(t)}const jD={error:Wl,warn:Wl,info:Wl,debug:Wl};let zy=new WeakMap;function de(e){var t;const o=e.logger,l=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!o)return jD;const a=zy.get(o);if(a&&a[0]===l)return a[1];const u={error:Ba("error",o,l),warn:Ba("warn",o,l),info:Ba("info",o,l),debug:Ba("debug",o,l)};return zy.set(o,[l,u]),u}const Gi=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,o])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Uo{constructor(t,o,l){this.iterator=t,this.controller=o,this.client=l}static fromSSEResponse(t,o,l){let a=!1;const u=l?de(l):console;function f(){return en(this,arguments,function*(){var y,m,v,_;if(a)throw new Ze("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let S=!1;try{try{for(var E=!0,C=nn(tb(t,o)),N;N=yield mt(C.next()),y=N.done,!y;E=!0){_=N.value,E=!1;const w=_;if(!S)if(w.data.startsWith("[DONE]")){S=!0;continue}else try{yield yield mt(JSON.parse(w.data))}catch(I){throw u.error("Could not parse message into JSON:",w.data),u.error("From chunk:",w.raw),I}}}catch(w){m={error:w}}finally{try{!E&&!y&&(v=C.return)&&(yield mt(v.call(C)))}finally{if(m)throw m.error}}S=!0}catch(w){if(Pf(w))return yield mt(void 0);throw w}finally{S||o.abort()}})}return new Uo(f,o,l)}static fromReadableStream(t,o,l){let a=!1;function u(){return en(this,arguments,function*(){var y,m,v,_;const S=new Rs,E=y_(t);try{for(var C=!0,N=nn(E),w;w=yield mt(N.next()),y=w.done,!y;C=!0){_=w.value,C=!1;const I=_;for(const O of S.decode(I))yield yield mt(O)}}catch(I){m={error:I}}finally{try{!C&&!y&&(v=N.return)&&(yield mt(v.call(N)))}finally{if(m)throw m.error}}for(const I of S.flush())yield yield mt(I)})}function f(){return en(this,arguments,function*(){var y,m,v,_;if(a)throw new Ze("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let S=!1;try{try{for(var E=!0,C=nn(u()),N;N=yield mt(C.next()),y=N.done,!y;E=!0){_=N.value,E=!1;const w=_;S||w&&(yield yield mt(JSON.parse(w)))}}catch(w){m={error:w}}finally{try{!E&&!y&&(v=C.return)&&(yield mt(v.call(C)))}finally{if(m)throw m.error}}S=!0}catch(w){if(Pf(w))return yield mt(void 0);throw w}finally{S||o.abort()}})}return new Uo(f,o,l)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],o=[],l=this.iterator(),a=u=>({next:()=>{if(u.length===0){const f=l.next();t.push(f),o.push(f)}return u.shift()}});return[new Uo(()=>a(t),this.controller,this.client),new Uo(()=>a(o),this.controller,this.client)]}toReadableStream(){const t=this;let o;return g_({async start(){o=t[Symbol.asyncIterator]()},async pull(l){try{const{value:a,done:u}=await o.next();if(u)return l.close();const f=ud(JSON.stringify(a)+`
`);l.enqueue(f)}catch(a){l.error(a)}},async cancel(){var l;await((l=o.return)===null||l===void 0?void 0:l.call(o))}})}}function tb(e,t){return en(this,arguments,function*(){var l,a,u,f;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Ze("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Ze("Attempted to iterate over a response with no body");const p=new nb,y=new Rs,m=y_(e.body);try{for(var v=!0,_=nn(eb(m)),S;S=yield mt(_.next()),l=S.done,!l;v=!0){f=S.value,v=!1;const E=f;for(const C of y.decode(E)){const N=p.decode(C);N&&(yield yield mt(N))}}}catch(E){a={error:E}}finally{try{!v&&!l&&(u=_.return)&&(yield mt(u.call(_)))}finally{if(a)throw a.error}}for(const E of y.flush()){const C=p.decode(E);C&&(yield yield mt(C))}})}function eb(e){return en(this,arguments,function*(){var o,l,a,u;let f=new Uint8Array;try{for(var p=!0,y=nn(e),m;m=yield mt(y.next()),o=m.done,!o;p=!0){u=m.value,p=!1;const v=u;if(v==null)continue;const _=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?ud(v):v;let S=new Uint8Array(f.length+_.length);S.set(f),S.set(_,f.length),f=S;let E;for(;(E=WD(f))!==-1;)yield yield mt(f.slice(0,E)),f=f.slice(E)}}catch(v){l={error:v}}finally{try{!p&&!o&&(a=y.return)&&(yield mt(a.call(y)))}finally{if(l)throw l.error}}f.length>0&&(yield yield mt(f))})}class nb{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const u={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],u}if(this.chunks.push(t),t.startsWith(":"))return null;let[o,l,a]=ib(t,":");return a.startsWith(" ")&&(a=a.substring(1)),o==="event"?this.event=a:o==="data"&&this.data.push(a),null}}function ib(e,t){const o=e.indexOf(t);return o!==-1?[e.substring(0,o),t,e.substring(o+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function ob(e,t){const{response:o,requestLogID:l,retryOfRequestLogID:a,startTime:u}=t,f=await(async()=>{var p;if(t.options.stream)return de(e).debug("response",o.status,o.url,o.headers,o.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(o,t.controller,e):Uo.fromSSEResponse(o,t.controller,e);if(o.status===204)return null;if(t.options.__binaryResponse)return o;const y=o.headers.get("content-type"),m=(p=y==null?void 0:y.split(";")[0])===null||p===void 0?void 0:p.trim();return(m==null?void 0:m.includes("application/json"))||(m==null?void 0:m.endsWith("+json"))?await o.json():await o.text()})();return de(e).debug(`[${l}] response parsed`,Gi({retryOfRequestLogID:a,url:o.url,status:o.status,body:f,durationMs:Date.now()-u})),f}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cd extends Promise{constructor(t,o,l=ob){super(a=>{a(null)}),this.responsePromise=o,this.parseResponse=l,this.client=t}_thenUnwrap(t){return new cd(this.client,this.responsePromise,async(o,l)=>t(await this.parseResponse(o,l),l))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,o){return this.parse().then(t,o)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const C_=Symbol("brand.privateNullableHeaders");function*lb(e){if(!e)return;if(C_ in e){const{values:l,nulls:a}=e;yield*l.entries();for(const u of a)yield[u,null];return}let t=!1,o;e instanceof Headers?o=e.entries():Dy(e)?o=e:(t=!0,o=Object.entries(e??{}));for(let l of o){const a=l[0];if(typeof a!="string")throw new TypeError("expected header name to be a string");const u=Dy(l[1])?l[1]:[l[1]];let f=!1;for(const p of u)p!==void 0&&(t&&!f&&(f=!0,yield[a,null]),yield[a,p])}}const Fl=e=>{const t=new Headers,o=new Set;for(const l of e){const a=new Set;for(const[u,f]of lb(l)){const p=u.toLowerCase();a.has(p)||(t.delete(u),a.add(p)),f===null?(t.delete(u),o.add(p)):(t.append(u,f),o.delete(p))}}return{[C_]:!0,values:t,nulls:o}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sf=e=>{var t,o,l,a,u,f;if(typeof globalThis.process<"u")return(l=(o=(t=DR)===null||t===void 0?void 0:t[e])===null||o===void 0?void 0:o.trim())!==null&&l!==void 0?l:void 0;if(typeof globalThis.Deno<"u")return(f=(u=(a=globalThis.Deno.env)===null||a===void 0?void 0:a.get)===null||u===void 0?void 0:u.call(a,e))===null||f===void 0?void 0:f.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var R_;class xs{constructor(t){var o,l,a,u,f,p,y,{baseURL:m=sf("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(o=sf("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:_="v1beta"}=t,S=ds(t,["baseURL","apiKey","apiVersion"]);const E=Object.assign(Object.assign({apiKey:v,apiVersion:_},S),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=E.baseURL,this.timeout=(l=E.timeout)!==null&&l!==void 0?l:xs.DEFAULT_TIMEOUT,this.logger=(a=E.logger)!==null&&a!==void 0?a:console;const C="warn";this.logLevel=C,this.logLevel=(f=(u=Hy(E.logLevel,"ClientOptions.logLevel",this))!==null&&u!==void 0?u:Hy(sf("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&f!==void 0?f:C,this.fetchOptions=E.fetchOptions,this.maxRetries=(p=E.maxRetries)!==null&&p!==void 0?p:2,this.fetch=(y=E.fetch)!==null&&y!==void 0?y:VD(),this.encoder=kD,this._options=E,this.apiKey=v,this.apiVersion=_,this.clientAdapter=E.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:o}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const o=Fl([t.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return Fl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Fl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([o,l])=>typeof l<"u").map(([o,l])=>{if(typeof l=="string"||typeof l=="number"||typeof l=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(l)}`;if(l===null)return`${encodeURIComponent(o)}=`;throw new Ze(`Cannot stringify type ${typeof l}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${No}`}defaultIdempotencyKey(){return`stainless-node-retry-${RD()}`}makeStatusError(t,o,l,a){return he.generate(t,o,l,a)}buildURL(t,o,l){const a=!this.baseURLOverridden()&&l||this.baseURL,u=MD(t)?new URL(t):new URL(a+(a.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),f=this.defaultQuery();return ID(f)||(o=Object.assign(Object.assign({},f),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(u.search=this.stringifyQuery(o)),u.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const o=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(t,{url:o,options:l}){}get(t,o){return this.methodRequest("get",t,o)}post(t,o){return this.methodRequest("post",t,o)}patch(t,o){return this.methodRequest("patch",t,o)}put(t,o){return this.methodRequest("put",t,o)}delete(t,o){return this.methodRequest("delete",t,o)}methodRequest(t,o,l){return this.request(Promise.resolve(l).then(a=>Object.assign({method:t,path:o},a)))}request(t,o=null){return new cd(this,this.makeRequest(t,o,void 0))}async makeRequest(t,o,l){var a,u,f;const p=await t,y=(a=p.maxRetries)!==null&&a!==void 0?a:this.maxRetries;o==null&&(o=y),await this.prepareOptions(p);const{req:m,url:v,timeout:_}=await this.buildRequest(p,{retryCount:y-o});await this.prepareRequest(m,{url:v,options:p});const S="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),E=l===void 0?"":`, retryOf: ${l}`,C=Date.now();if(de(this).debug(`[${S}] sending request`,Gi({retryOfRequestLogID:l,method:p.method,url:v,options:p,headers:m.headers})),!((u=p.signal)===null||u===void 0)&&u.aborted)throw new kf;const N=new AbortController,w=await this.fetchWithTimeout(v,m,_,N).catch(Bf),I=Date.now();if(w instanceof globalThis.Error){const U=`retrying, ${o} attempts remaining`;if(!((f=p.signal)===null||f===void 0)&&f.aborted)throw new kf;const b=Pf(w)||/timed? ?out/i.test(String(w)+("cause"in w?String(w.cause):""));if(o)return de(this).info(`[${S}] connection ${b?"timed out":"failed"} - ${U}`),de(this).debug(`[${S}] connection ${b?"timed out":"failed"} (${U})`,Gi({retryOfRequestLogID:l,url:v,durationMs:I-C,message:w.message})),this.retryRequest(p,o,l??S);throw de(this).info(`[${S}] connection ${b?"timed out":"failed"} - error; no more retries left`),de(this).debug(`[${S}] connection ${b?"timed out":"failed"} (error; no more retries left)`,Gi({retryOfRequestLogID:l,url:v,durationMs:I-C,message:w.message})),b?new a_:new Cs({cause:w})}const O=`[${S}${E}] ${m.method} ${v} ${w.ok?"succeeded":"failed"} with status ${w.status} in ${I-C}ms`;if(!w.ok){const U=await this.shouldRetry(w);if(o&&U){const K=`retrying, ${o} attempts remaining`;return await BD(w.body),de(this).info(`${O} - ${K}`),de(this).debug(`[${S}] response error (${K})`,Gi({retryOfRequestLogID:l,url:w.url,status:w.status,headers:w.headers,durationMs:I-C})),this.retryRequest(p,o,l??S,w.headers)}const b=U?"error; no more retries left":"error; not retryable";de(this).info(`${O} - ${b}`);const X=await w.text().catch(K=>Bf(K).message),k=UD(X),F=k?void 0:X;throw de(this).debug(`[${S}] response error (${b})`,Gi({retryOfRequestLogID:l,url:w.url,status:w.status,headers:w.headers,message:F,durationMs:Date.now()-C})),this.makeStatusError(w.status,k,F,w.headers)}return de(this).info(O),de(this).debug(`[${S}] response start`,Gi({retryOfRequestLogID:l,url:w.url,status:w.status,headers:w.headers,durationMs:I-C})),{response:w,options:p,controller:N,requestLogID:S,retryOfRequestLogID:l,startTime:C}}async fetchWithTimeout(t,o,l,a){const u=o||{},{signal:f,method:p}=u,y=ds(u,["signal","method"]);f&&f.addEventListener("abort",()=>a.abort());const m=setTimeout(()=>a.abort(),l),v=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,_=Object.assign(Object.assign(Object.assign({signal:a.signal},v?{duplex:"half"}:{}),{method:"GET"}),y);p&&(_.method=p.toUpperCase());try{return await this.fetch.call(void 0,t,_)}finally{clearTimeout(m)}}async shouldRetry(t){const o=t.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,o,l,a){var u;let f;const p=a==null?void 0:a.get("retry-after-ms");if(p){const m=parseFloat(p);Number.isNaN(m)||(f=m)}const y=a==null?void 0:a.get("retry-after");if(y&&!f){const m=parseFloat(y);Number.isNaN(m)?f=Date.parse(y)-Date.now():f=m*1e3}if(!(f&&0<=f&&f<60*1e3)){const m=(u=t.maxRetries)!==null&&u!==void 0?u:this.maxRetries;f=this.calculateDefaultRetryTimeoutMillis(o,m)}return await LD(f),this.makeRequest(t,o-1,l)}calculateDefaultRetryTimeoutMillis(t,o){const u=o-t,f=Math.min(.5*Math.pow(2,u),8),p=1-Math.random()*.25;return f*p*1e3}async buildRequest(t,{retryCount:o=0}={}){var l,a,u;const f=Object.assign({},t),{method:p,path:y,query:m,defaultBaseURL:v}=f,_=this.buildURL(y,m,v);"timeout"in f&&bD("timeout",f.timeout),f.timeout=(l=f.timeout)!==null&&l!==void 0?l:this.timeout;const{bodyHeaders:S,body:E}=this.buildBody({options:f}),C=await this.buildHeaders({options:t,method:p,bodyHeaders:S,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:p,headers:C},f.signal&&{signal:f.signal}),globalThis.ReadableStream&&E instanceof globalThis.ReadableStream&&{duplex:"half"}),E&&{body:E}),(a=this.fetchOptions)!==null&&a!==void 0?a:{}),(u=f.fetchOptions)!==null&&u!==void 0?u:{}),url:_,timeout:f.timeout}}async buildHeaders({options:t,method:o,bodyHeaders:l,retryCount:a}){let u={};this.idempotencyHeader&&o!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),u[this.idempotencyHeader]=t.idempotencyKey);const f=await this.authHeaders(t);let p=Fl([u,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(a)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),qD()),this._options.defaultHeaders,l,t.headers,f]);return this.validateHeaders(p),p.values}buildBody({options:{body:t,headers:o}}){if(!t)return{bodyHeaders:void 0,body:void 0};const l=Fl([o]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&l.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:PD(t)}:this.encoder({body:t,headers:l})}}xs.DEFAULT_TIMEOUT=6e4;class ie extends xs{constructor(){super(...arguments),this.interactions=new A_(this)}}R_=ie;ie.GeminiNextGenAPIClient=R_;ie.GeminiNextGenAPIClientError=Ze;ie.APIError=he;ie.APIConnectionError=Cs;ie.APIConnectionTimeoutError=a_;ie.APIUserAbortError=kf;ie.NotFoundError=f_;ie.ConflictError=d_;ie.RateLimitError=p_;ie.BadRequestError=s_;ie.AuthenticationError=u_;ie.InternalServerError=m_;ie.PermissionDeniedError=c_;ie.UnprocessableEntityError=h_;ie.toFile=XD;ie.Interactions=A_;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rb(e,t){const o={},l=c(e,["name"]);return l!=null&&d(o,["_url","name"],l),o}function ab(e,t){const o={},l=c(e,["name"]);return l!=null&&d(o,["_url","name"],l),o}function sb(e,t){const o={},l=c(e,["sdkHttpResponse"]);return l!=null&&d(o,["sdkHttpResponse"],l),o}function ub(e,t){const o={},l=c(e,["sdkHttpResponse"]);return l!=null&&d(o,["sdkHttpResponse"],l),o}function cb(e,t,o){const l={};if(c(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=c(e,["tunedModelDisplayName"]);if(t!==void 0&&a!=null&&d(t,["displayName"],a),c(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=c(e,["epochCount"]);t!==void 0&&u!=null&&d(t,["tuningTask","hyperparameters","epochCount"],u);const f=c(e,["learningRateMultiplier"]);if(f!=null&&d(l,["tuningTask","hyperparameters","learningRateMultiplier"],f),c(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(c(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const p=c(e,["batchSize"]);t!==void 0&&p!=null&&d(t,["tuningTask","hyperparameters","batchSize"],p);const y=c(e,["learningRate"]);if(t!==void 0&&y!=null&&d(t,["tuningTask","hyperparameters","learningRate"],y),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(c(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return l}function fb(e,t,o){const l={};let a=c(o,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const E=c(e,["validationDataset"]);t!==void 0&&E!=null&&d(t,["supervisedTuningSpec"],qy(E))}else if(a==="PREFERENCE_TUNING"){const E=c(e,["validationDataset"]);t!==void 0&&E!=null&&d(t,["preferenceOptimizationSpec"],qy(E))}const u=c(e,["tunedModelDisplayName"]);t!==void 0&&u!=null&&d(t,["tunedModelDisplayName"],u);const f=c(e,["description"]);t!==void 0&&f!=null&&d(t,["description"],f);let p=c(o,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const E=c(e,["epochCount"]);t!==void 0&&E!=null&&d(t,["supervisedTuningSpec","hyperParameters","epochCount"],E)}else if(p==="PREFERENCE_TUNING"){const E=c(e,["epochCount"]);t!==void 0&&E!=null&&d(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],E)}let y=c(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const E=c(e,["learningRateMultiplier"]);t!==void 0&&E!=null&&d(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],E)}else if(y==="PREFERENCE_TUNING"){const E=c(e,["learningRateMultiplier"]);t!==void 0&&E!=null&&d(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],E)}let m=c(o,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const E=c(e,["exportLastCheckpointOnly"]);t!==void 0&&E!=null&&d(t,["supervisedTuningSpec","exportLastCheckpointOnly"],E)}else if(m==="PREFERENCE_TUNING"){const E=c(e,["exportLastCheckpointOnly"]);t!==void 0&&E!=null&&d(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],E)}let v=c(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const E=c(e,["adapterSize"]);t!==void 0&&E!=null&&d(t,["supervisedTuningSpec","hyperParameters","adapterSize"],E)}else if(v==="PREFERENCE_TUNING"){const E=c(e,["adapterSize"]);t!==void 0&&E!=null&&d(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],E)}if(c(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(c(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const _=c(e,["labels"]);t!==void 0&&_!=null&&d(t,["labels"],_);const S=c(e,["beta"]);return t!==void 0&&S!=null&&d(t,["preferenceOptimizationSpec","hyperParameters","beta"],S),l}function db(e,t){const o={},l=c(e,["baseModel"]);l!=null&&d(o,["baseModel"],l);const a=c(e,["preTunedModel"]);a!=null&&d(o,["preTunedModel"],a);const u=c(e,["trainingDataset"]);u!=null&&Ab(u);const f=c(e,["config"]);return f!=null&&cb(f,o),o}function hb(e,t){const o={},l=c(e,["baseModel"]);l!=null&&d(o,["baseModel"],l);const a=c(e,["preTunedModel"]);a!=null&&d(o,["preTunedModel"],a);const u=c(e,["trainingDataset"]);u!=null&&Cb(u,o,t);const f=c(e,["config"]);return f!=null&&fb(f,o,t),o}function pb(e,t){const o={},l=c(e,["name"]);return l!=null&&d(o,["_url","name"],l),o}function mb(e,t){const o={},l=c(e,["name"]);return l!=null&&d(o,["_url","name"],l),o}function gb(e,t,o){const l={},a=c(e,["pageSize"]);t!==void 0&&a!=null&&d(t,["_query","pageSize"],a);const u=c(e,["pageToken"]);t!==void 0&&u!=null&&d(t,["_query","pageToken"],u);const f=c(e,["filter"]);return t!==void 0&&f!=null&&d(t,["_query","filter"],f),l}function yb(e,t,o){const l={},a=c(e,["pageSize"]);t!==void 0&&a!=null&&d(t,["_query","pageSize"],a);const u=c(e,["pageToken"]);t!==void 0&&u!=null&&d(t,["_query","pageToken"],u);const f=c(e,["filter"]);return t!==void 0&&f!=null&&d(t,["_query","filter"],f),l}function vb(e,t){const o={},l=c(e,["config"]);return l!=null&&gb(l,o),o}function _b(e,t){const o={},l=c(e,["config"]);return l!=null&&yb(l,o),o}function Sb(e,t){const o={},l=c(e,["sdkHttpResponse"]);l!=null&&d(o,["sdkHttpResponse"],l);const a=c(e,["nextPageToken"]);a!=null&&d(o,["nextPageToken"],a);const u=c(e,["tunedModels"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(p=>x_(p))),d(o,["tuningJobs"],f)}return o}function Tb(e,t){const o={},l=c(e,["sdkHttpResponse"]);l!=null&&d(o,["sdkHttpResponse"],l);const a=c(e,["nextPageToken"]);a!=null&&d(o,["nextPageToken"],a);const u=c(e,["tuningJobs"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(p=>Yf(p))),d(o,["tuningJobs"],f)}return o}function Eb(e,t){const o={},l=c(e,["name"]);l!=null&&d(o,["model"],l);const a=c(e,["name"]);return a!=null&&d(o,["endpoint"],a),o}function Ab(e,t){const o={};if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const l=c(e,["examples"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>u)),d(o,["examples","examples"],a)}return o}function Cb(e,t,o){const l={};let a=c(o,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const f=c(e,["gcsUri"]);t!==void 0&&f!=null&&d(t,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(a==="PREFERENCE_TUNING"){const f=c(e,["gcsUri"]);t!==void 0&&f!=null&&d(t,["preferenceOptimizationSpec","trainingDatasetUri"],f)}let u=c(o,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const f=c(e,["vertexDatasetResource"]);t!==void 0&&f!=null&&d(t,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(u==="PREFERENCE_TUNING"){const f=c(e,["vertexDatasetResource"]);t!==void 0&&f!=null&&d(t,["preferenceOptimizationSpec","trainingDatasetUri"],f)}if(c(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return l}function x_(e,t){const o={},l=c(e,["sdkHttpResponse"]);l!=null&&d(o,["sdkHttpResponse"],l);const a=c(e,["name"]);a!=null&&d(o,["name"],a);const u=c(e,["state"]);u!=null&&d(o,["state"],kv(u));const f=c(e,["createTime"]);f!=null&&d(o,["createTime"],f);const p=c(e,["tuningTask","startTime"]);p!=null&&d(o,["startTime"],p);const y=c(e,["tuningTask","completeTime"]);y!=null&&d(o,["endTime"],y);const m=c(e,["updateTime"]);m!=null&&d(o,["updateTime"],m);const v=c(e,["description"]);v!=null&&d(o,["description"],v);const _=c(e,["baseModel"]);_!=null&&d(o,["baseModel"],_);const S=c(e,["_self"]);return S!=null&&d(o,["tunedModel"],Eb(S)),o}function Yf(e,t){const o={},l=c(e,["sdkHttpResponse"]);l!=null&&d(o,["sdkHttpResponse"],l);const a=c(e,["name"]);a!=null&&d(o,["name"],a);const u=c(e,["state"]);u!=null&&d(o,["state"],kv(u));const f=c(e,["createTime"]);f!=null&&d(o,["createTime"],f);const p=c(e,["startTime"]);p!=null&&d(o,["startTime"],p);const y=c(e,["endTime"]);y!=null&&d(o,["endTime"],y);const m=c(e,["updateTime"]);m!=null&&d(o,["updateTime"],m);const v=c(e,["error"]);v!=null&&d(o,["error"],v);const _=c(e,["description"]);_!=null&&d(o,["description"],_);const S=c(e,["baseModel"]);S!=null&&d(o,["baseModel"],S);const E=c(e,["tunedModel"]);E!=null&&d(o,["tunedModel"],E);const C=c(e,["preTunedModel"]);C!=null&&d(o,["preTunedModel"],C);const N=c(e,["supervisedTuningSpec"]);N!=null&&d(o,["supervisedTuningSpec"],N);const w=c(e,["preferenceOptimizationSpec"]);w!=null&&d(o,["preferenceOptimizationSpec"],w);const I=c(e,["tuningDataStats"]);I!=null&&d(o,["tuningDataStats"],I);const O=c(e,["encryptionSpec"]);O!=null&&d(o,["encryptionSpec"],O);const U=c(e,["partnerModelTuningSpec"]);U!=null&&d(o,["partnerModelTuningSpec"],U);const b=c(e,["customBaseModel"]);b!=null&&d(o,["customBaseModel"],b);const X=c(e,["experiment"]);X!=null&&d(o,["experiment"],X);const k=c(e,["labels"]);k!=null&&d(o,["labels"],k);const F=c(e,["outputUri"]);F!=null&&d(o,["outputUri"],F);const W=c(e,["pipelineJob"]);W!=null&&d(o,["pipelineJob"],W);const K=c(e,["serviceAccount"]);K!=null&&d(o,["serviceAccount"],K);const ot=c(e,["tunedModelDisplayName"]);ot!=null&&d(o,["tunedModelDisplayName"],ot);const it=c(e,["veoTuningSpec"]);return it!=null&&d(o,["veoTuningSpec"],it),o}function Rb(e,t){const o={},l=c(e,["sdkHttpResponse"]);l!=null&&d(o,["sdkHttpResponse"],l);const a=c(e,["name"]);a!=null&&d(o,["name"],a);const u=c(e,["metadata"]);u!=null&&d(o,["metadata"],u);const f=c(e,["done"]);f!=null&&d(o,["done"],f);const p=c(e,["error"]);return p!=null&&d(o,["error"],p),o}function qy(e,t){const o={},l=c(e,["gcsUri"]);l!=null&&d(o,["validationDatasetUri"],l);const a=c(e,["vertexDatasetResource"]);return a!=null&&d(o,["validationDatasetUri"],a),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xb extends Vn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new ki(qn.PAGED_ITEM_TUNING_JOBS,l=>this.listInternal(l),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var l;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const a={tunedModelName:o.baseModel};!((l=o.config)===null||l===void 0)&&l.preTunedModelCheckpointId&&(a.checkpointId=o.config.preTunedModelCheckpointId);const u=Object.assign(Object.assign({},o),{preTunedModel:a});return u.baseModel=void 0,await this.tuneInternal(u)}else{const a=Object.assign({},o);return await this.tuneInternal(a)}else{const a=Object.assign({},o),u=await this.tuneMldevInternal(a);let f="";return u.metadata!==void 0&&u.metadata.tunedModel!==void 0?f=u.metadata.tunedModel:u.name!==void 0&&u.name.includes("/operations/")&&(f=u.name.split("/operations/")[0]),{name:f,state:Uf.JOB_STATE_QUEUED}}}}async getInternal(t){var o,l,a,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=mb(t);return p=rt("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>Yf(v))}else{const m=pb(t);return p=rt("{name}",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>x_(v))}}async listInternal(t){var o,l,a,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=_b(t);return p=rt("tuningJobs",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=Tb(v),S=new cy;return Object.assign(S,_),S})}else{const m=vb(t);return p=rt("tunedModels",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=Sb(v),S=new cy;return Object.assign(S,_),S})}}async cancel(t){var o,l,a,u;let f,p="",y={};if(this.apiClient.isVertexAI()){const m=ab(t);return p=rt("{name}:cancel",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=ub(v),S=new fy;return Object.assign(S,_),S})}else{const m=rb(t);return p=rt("{name}:cancel",m._url),y=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=t.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:v.headers},S})),f.then(v=>{const _=sb(v),S=new fy;return Object.assign(S,_),S})}}async tuneInternal(t){var o,l;let a,u="",f={};if(this.apiClient.isVertexAI()){const p=hb(t,t);return u=rt("tuningJobs",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>Yf(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var o,l;let a,u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=db(t);return u=rt("tunedModels",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>Rb(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mb{async download(t,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const wb=1024*1024*8,Nb=3,Ib=1e3,Db=2,ps="x-goog-upload-status";async function bb(e,t,o){var l;const a=await M_(e,t,o),u=await(a==null?void 0:a.json());if(((l=a==null?void 0:a.headers)===null||l===void 0?void 0:l[ps])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}async function Ub(e,t,o){var l;const a=await M_(e,t,o),u=await(a==null?void 0:a.json());if(((l=a==null?void 0:a.headers)===null||l===void 0?void 0:l[ps])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const f=Hv(u),p=new id;return Object.assign(p,f),p}async function M_(e,t,o){var l,a;let u=0,f=0,p=new Lf(new Response),y="upload";for(u=e.size;f<u;){const m=Math.min(wb,u-f),v=e.slice(f,f+m);f+m>=u&&(y+=", finalize");let _=0,S=Ib;for(;_<Nb&&(p=await o.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(f),"Content-Length":String(m)}}}),!(!((l=p==null?void 0:p.headers)===null||l===void 0)&&l[ps]));)_++,await Gb(S),S=S*Db;if(f+=m,((a=p==null?void 0:p.headers)===null||a===void 0?void 0:a[ps])!=="active")break;if(u<=f)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return p}async function Lb(e){return{size:e.size,type:e.type}}function Gb(e){return new Promise(t=>setTimeout(t,e))}class Hb{async upload(t,o,l){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await bb(t,o,l)}async uploadToFileSearchStore(t,o,l){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Ub(t,o,l)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Lb(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zb{create(t,o,l){return new qb(t,o,l)}}class qb{constructor(t,o,l){this.url=t,this.headers=o,this.callbacks=l}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Vy="x-goog-api-key";class Vb{constructor(t){this.apiKey=t}async addAuthHeaders(t,o){if(t.get(Vy)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Vy,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Pb="gl-node/";class Bb{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const o=new ie({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=o.interactions,this._interactions}constructor(t){var o;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=t.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=t.apiKey;const l=GR(t.httpOptions,t.vertexai,void 0,void 0);l&&(t.httpOptions?t.httpOptions.baseUrl=l:t.httpOptions={baseUrl:l}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const a=new Vb(this.apiKey);this.apiClient=new LI({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:Pb+"web",uploader:new Hb,downloader:new Mb}),this.models=new jI(this.apiClient),this.live=new XI(this.apiClient,a,new zb),this.batches=new cM(this.apiClient),this.chats=new YM(this.models,this.apiClient),this.caches=new kM(this.apiClient),this.files=new ew(this.apiClient),this.operations=new tD(this.apiClient),this.authTokens=new gD(this.apiClient),this.tunings=new xb(this.apiClient),this.fileSearchStores=new CD(this.apiClient)}}const kb=new Bb({apiKey:void 0}),Ob=e=>`
You are "Kidrise Star Guide", a friendly and enthusiastic astronomy expert for children (ages 6-12).
You work for Kidrise (www.stemtoy.com.hk), a Hong Kong toy shop selling telescopes and STEM toys.
Your goal is to answer questions about stars, planets, and space in a simple, fun, and educational way.
Always relate complex topics to things kids understand.
If appropriate, mention that a telescope helps see these things better!
Keep answers concise (under 3 sentences usually) unless asked for a story.
Current context: The user is looking at a digital star map.

IMPORTANT: You MUST reply in the language: ${e==="zh-HK"?"Traditional Chinese (Cantonese style if casual, written Chinese if formal, but keep it kid-friendly)":"English"}.
`,Fb=async(e,t,o)=>{try{return(await kb.chats.create({model:"gemini-3-flash-preview",config:{systemInstruction:Ob(o)},history:e.map(f=>({role:f.role,parts:[{text:f.text}]}))}).sendMessage({message:t})).text||(o==="zh-HK"?"":"I'm having trouble seeing the stars right now. Try again!")}catch(l){return console.error("Gemini API Error:",l),o==="zh-HK"?"":"Oops! My telescope lens is a bit foggy. Can you ask that again?"}},Yb=({lang:e})=>{const t=_s[e],[o,l]=Nt.useState(!1),[a,u]=Nt.useState([]),[f,p]=Nt.useState(""),[y,m]=Nt.useState(!1),v=Nt.useRef(null);Nt.useEffect(()=>{u([{role:"model",text:t.askMe}])},[e]);const _=()=>{var C;(C=v.current)==null||C.scrollIntoView({behavior:"smooth"})};Nt.useEffect(()=>{o&&_()},[a,o]);const S=async()=>{if(!f.trim()||y)return;const C={role:"user",text:f};u(N=>[...N,C]),p(""),m(!0);try{const N=await Fb(a,f,e);u(w=>[...w,{role:"model",text:N}])}catch{u(w=>[...w,{role:"model",text:t.chatError,isError:!0}])}finally{m(!1)}},E=C=>{C.key==="Enter"&&S()};return Z.jsxs(Z.Fragment,{children:[Z.jsx("button",{onClick:()=>l(!o),className:"fixed bottom-6 right-6 md:right-10 z-50 bg-gradient-to-r from-kidrise-orange to-red-500 hover:scale-110 text-white rounded-full p-4 shadow-[0_0_20px_rgba(255,140,0,0.6)] transition-all flex items-center justify-center w-16 h-16 border-2 border-white/20",title:t.chatTitle,children:o?Z.jsx("i",{className:"fas fa-times text-2xl"}):Z.jsx("i",{className:"fas fa-robot text-2xl animate-pulse"})}),Z.jsxs("div",{className:`fixed bottom-24 right-6 md:right-10 z-40 w-[85vw] md:w-96 bg-[#161825]/95 backdrop-blur-xl border border-white/20 rounded-3xl shadow-2xl flex flex-col transition-all duration-300 origin-bottom-right ${o?"opacity-100 scale-100":"opacity-0 scale-95 pointer-events-none"}`,style:{maxHeight:"60vh",height:"500px"},children:[Z.jsxs("div",{className:"p-4 border-b border-white/10 flex items-center gap-3 bg-gradient-to-r from-white/5 to-transparent rounded-t-3xl",children:[Z.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-kidrise-orange to-yellow-400 flex items-center justify-center shadow-lg",children:Z.jsx("i",{className:"fas fa-star text-white text-sm"})}),Z.jsxs("div",{children:[Z.jsx("h3",{className:"font-bold text-white text-base",children:t.chatTitle}),Z.jsx("p",{className:"text-xs text-gray-400",children:t.chatSubtitle})]})]}),Z.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 scrollbar-hide",children:[a.map((C,N)=>Z.jsx("div",{className:`flex ${C.role==="user"?"justify-end":"justify-start"}`,children:Z.jsx("div",{className:`max-w-[85%] p-3.5 rounded-2xl text-sm leading-relaxed ${C.role==="user"?"bg-gradient-to-r from-kidrise-orange to-orange-600 text-white rounded-br-sm shadow-md":"bg-white/10 text-gray-100 rounded-bl-sm border border-white/5"}`,children:C.text})},N)),y&&Z.jsx("div",{className:"flex justify-start",children:Z.jsxs("div",{className:"bg-white/10 p-3 rounded-2xl rounded-bl-none text-gray-400 text-xs flex gap-1 items-center border border-white/5",children:[Z.jsx("span",{children:t.chatThinking}),Z.jsx("span",{className:"animate-bounce",children:"."}),Z.jsx("span",{className:"animate-bounce delay-100",children:"."}),Z.jsx("span",{className:"animate-bounce delay-200",children:"."})]})}),Z.jsx("div",{ref:v})]}),Z.jsxs("div",{className:"p-3 border-t border-white/10 flex gap-2 bg-black/20 rounded-b-3xl",children:[Z.jsx("input",{type:"text",value:f,onChange:C=>p(C.target.value),onKeyDown:E,placeholder:t.chatPlaceholder,className:"flex-1 bg-white/5 border border-white/10 rounded-full px-4 py-2.5 text-sm text-white focus:outline-none focus:border-kidrise-orange focus:bg-white/10 transition-colors placeholder-gray-500"}),Z.jsx("button",{onClick:S,disabled:y,className:"w-10 h-10 rounded-full bg-kidrise-orange hover:bg-orange-600 text-white flex items-center justify-center transition-colors disabled:opacity-50 shadow-lg",children:Z.jsx("i",{className:"fas fa-paper-plane text-xs"})})]})]})]})},Jb=({lang:e,onClose:t})=>{const o=_s[e].tutorial;return Z.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-fade-in",children:Z.jsxs("div",{className:"bg-[#1c1e33] border-2 border-kidrise-orange/50 rounded-3xl p-6 md:p-8 max-w-lg w-full shadow-[0_0_50px_rgba(255,140,0,0.2)] relative overflow-hidden",children:[Z.jsx("div",{className:"absolute top-[-50px] right-[-50px] w-32 h-32 bg-kidrise-orange/20 rounded-full blur-3xl"}),Z.jsxs("div",{className:"text-center mb-8",children:[Z.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-2",children:o.title}),Z.jsx("div",{className:"h-1 w-20 bg-kidrise-orange mx-auto rounded-full"})]}),Z.jsxs("div",{className:"space-y-6",children:[Z.jsxs("div",{className:"flex items-start gap-4",children:[Z.jsx("div",{className:"w-12 h-12 bg-blue-600/30 rounded-full flex items-center justify-center flex-shrink-0 border border-blue-400/30",children:Z.jsx("i",{className:"fas fa-hand-pointer text-blue-300 text-xl"})}),Z.jsxs("div",{children:[Z.jsx("h3",{className:"text-lg font-bold text-white",children:o.step1Title}),Z.jsx("p",{className:"text-gray-300 text-sm",children:o.step1Desc})]})]}),Z.jsxs("div",{className:"flex items-start gap-4",children:[Z.jsx("div",{className:"w-12 h-12 bg-purple-600/30 rounded-full flex items-center justify-center flex-shrink-0 border border-purple-400/30",children:Z.jsx("i",{className:"fas fa-magic text-purple-300 text-xl"})}),Z.jsxs("div",{children:[Z.jsx("h3",{className:"text-lg font-bold text-white",children:o.step2Title}),Z.jsx("p",{className:"text-gray-300 text-sm",children:o.step2Desc})]})]}),Z.jsxs("div",{className:"flex items-start gap-4",children:[Z.jsx("div",{className:"w-12 h-12 bg-kidrise-orange/30 rounded-full flex items-center justify-center flex-shrink-0 border border-kidrise-orange/30",children:Z.jsx("i",{className:"fas fa-robot text-kidrise-orange text-xl"})}),Z.jsxs("div",{children:[Z.jsx("h3",{className:"text-lg font-bold text-white",children:o.step3Title}),Z.jsx("p",{className:"text-gray-300 text-sm",children:o.step3Desc})]})]})]}),Z.jsx("button",{onClick:t,className:"w-full mt-8 py-3 bg-gradient-to-r from-kidrise-orange to-orange-600 rounded-xl text-white font-bold text-lg shadow-lg hover:scale-[1.02] transition-transform active:scale-95",children:o.startBtn})]})})},Xb=({lang:e,currentDate:t,viewMode:o,isLiveTime:l,enableGyro:a,onSetViewMode:u,onShiftTime:f,onSetLiveTime:p,onToggleGyro:y,onLocationUpdate:m})=>Z.jsx("div",{className:"fixed bottom-6 left-1/2 transform -translate-x-1/2 z-40 w-[95%] max-w-2xl",children:Z.jsxs("div",{className:`bg-[#161825]/80 backdrop-blur-xl border border-white/10 rounded-3xl shadow-[0_10px_40px_rgba(0,0,0,0.5)] 
                      p-2 flex flex-nowrap items-center justify-between gap-2 overflow-x-auto scrollbar-hide`,children:[Z.jsxs("div",{className:"flex items-center gap-1 bg-black/20 rounded-2xl p-1.5 border border-white/5 flex-shrink-0",children:[Z.jsx("button",{onClick:()=>f(-1),className:"w-10 h-10 rounded-xl bg-white/5 hover:bg-white/10 flex items-center justify-center text-white transition-all active:scale-95",children:Z.jsx("i",{className:"fas fa-backward text-xs"})}),Z.jsxs("div",{className:"flex flex-col items-center min-w-[80px] px-2 cursor-pointer",onClick:p,children:[Z.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider ${l?"text-kidrise-orange animate-pulse":"text-gray-500"}`,children:l?"LIVE":"MANUAL"}),Z.jsx("span",{className:"text-sm font-mono font-bold text-white",children:t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),Z.jsx("button",{onClick:()=>f(1),className:"w-10 h-10 rounded-xl bg-white/5 hover:bg-white/10 flex items-center justify-center text-white transition-all active:scale-95",children:Z.jsx("i",{className:"fas fa-forward text-xs"})})]}),Z.jsx("div",{className:"h-8 w-px bg-white/10 mx-1 flex-shrink-0"}),Z.jsxs("div",{className:"flex bg-black/20 p-1 rounded-2xl flex-shrink-0",children:[Z.jsxs("button",{onClick:()=>u("stereo"),className:`px-4 py-2 rounded-xl text-xs font-bold transition-all ${o==="stereo"?"bg-kidrise-orange text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:[Z.jsx("i",{className:"fas fa-expand mr-1"})," 2D"]}),Z.jsxs("button",{onClick:()=>u("ortho"),className:`px-4 py-2 rounded-xl text-xs font-bold transition-all ${o==="ortho"?"bg-kidrise-orange text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:["3D ",Z.jsx("i",{className:"fas fa-globe ml-1"})]})]}),Z.jsx("div",{className:"h-8 w-px bg-white/10 mx-1 flex-shrink-0"}),Z.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0 pr-2",children:[Z.jsx("button",{onClick:y,className:`w-11 h-11 rounded-full flex items-center justify-center border transition-all shadow-lg active:scale-95
                    ${a?"bg-red-500 border-red-400 text-white animate-pulse":"bg-white/5 border-white/10 text-gray-400 hover:bg-white/10 hover:text-white"}`,children:Z.jsx("i",{className:"fas fa-mobile-alt"})}),Z.jsx("button",{onClick:m,className:"w-11 h-11 rounded-full bg-blue-600/80 hover:bg-blue-500 border border-blue-400 text-white flex items-center justify-center transition-all shadow-lg shadow-blue-500/30 active:scale-95",children:Z.jsx("i",{className:"fas fa-crosshairs"})})]})]})}),Kb=({star:e,onClose:t,lang:o})=>{const l=o==="zh-HK"&&e.proper_zh?e.proper_zh:e.proper;return Z.jsxs("div",{className:`absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 
                    bg-[#1c1e33]/90 backdrop-blur-xl border border-white/20 rounded-2xl 
                    p-6 shadow-[0_0_50px_rgba(0,0,0,0.8)] z-50 min-w-[300px] animate-fade-in-up`,children:[Z.jsx("button",{onClick:t,className:"absolute top-3 right-3 text-white/50 hover:text-white transition-colors",children:Z.jsx("i",{className:"fas fa-times text-lg"})}),Z.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[Z.jsx("div",{className:`w-12 h-12 rounded-full bg-gradient-to-br from-kidrise-orange to-yellow-500 
                        shadow-[0_0_15px_rgba(255,140,0,0.4)] flex items-center justify-center text-white text-2xl`,children:""}),Z.jsxs("div",{children:[Z.jsx("h2",{className:"text-2xl font-bold text-white tracking-wide",children:l}),Z.jsxs("p",{className:"text-xs text-blue-200 uppercase tracking-wider font-mono",children:["MAG: ",e.mag," | CON: ",e.con]})]})]}),Z.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[Z.jsxs("div",{className:"flex justify-between border-b border-white/10 pb-2",children:[Z.jsx("span",{children:"Right Ascension (RA):"}),Z.jsxs("span",{className:"font-mono text-kidrise-orange",children:[e.ra.toFixed(2),"h"]})]}),Z.jsxs("div",{className:"flex justify-between border-b border-white/10 pb-2",children:[Z.jsx("span",{children:"Declination (Dec):"}),Z.jsxs("span",{className:"font-mono text-kidrise-orange",children:[e.dec.toFixed(2),""]})]})]}),Z.jsx("div",{className:"mt-5 pt-3 text-center border-t border-white/10",children:Z.jsx("p",{className:"text-[10px] text-gray-500 italic",children:'"Every star has a story."'})})]})},Qb={latitude:22.3193,longitude:114.1694};function Zb(){const[e,t]=Nt.useState("zh-HK"),[o,l]=Nt.useState(Qb),[a,u]=Nt.useState(new Date),[f,p]=Nt.useState("stereo"),[y,m]=Nt.useState(!1),[v,_]=Nt.useState(!0),[S,E]=Nt.useState(!0),[C,N]=Nt.useState(!1),[w,I]=Nt.useState(!1),[O,U]=Nt.useState(null),b=_s[e];Nt.useEffect(()=>{let W;return v&&(W=window.setInterval(()=>{u(new Date)},1e4)),()=>clearInterval(W)},[v]);const X=()=>{if(!navigator.geolocation){alert("Geolocation is not supported by your browser.");return}m(!0),navigator.geolocation.getCurrentPosition(W=>{l({latitude:W.coords.latitude,longitude:W.coords.longitude})},W=>{console.error("Error getting location:",W),m(!1)})},k=async()=>{if(w){I(!1);return}if(typeof DeviceOrientationEvent.requestPermission=="function")try{await DeviceOrientationEvent.requestPermission()==="granted"?I(!0):alert(b.gyroNotSupported)}catch(W){console.error(W),alert(b.gyroNotSupported)}else I(!0)},F=W=>{_(!1);const K=new Date(a);K.setHours(K.getHours()+W),u(K)};return Z.jsxs("div",{className:"flex flex-col h-screen w-screen bg-space-black text-white overflow-hidden relative font-sans selection:bg-kidrise-orange selection:text-white",children:[S&&Z.jsx(Jb,{lang:e,onClose:()=>E(!1)}),Z.jsx("div",{className:"absolute inset-0 z-0",children:Z.jsx(IR,{location:o,date:a,viewMode:f,lang:e,showArt:C,enableGyro:w,onStarClick:W=>U(W)})}),Z.jsx("header",{className:"absolute top-0 left-0 right-0 z-30 p-4 pointer-events-none",children:Z.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-start",children:[Z.jsxs("div",{className:"pointer-events-auto bg-[#161825]/90 backdrop-blur-md rounded-2xl p-2 pr-4 flex items-center gap-3 border border-white/10 shadow-lg",children:[Z.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-kidrise-orange to-yellow-500 rounded-xl flex items-center justify-center shadow-lg shadow-orange-500/20",children:Z.jsx("i",{className:"fas fa-meteor text-white text-xl"})}),Z.jsxs("div",{children:[Z.jsx("h1",{className:"font-bold text-base leading-none tracking-wide text-white",children:"Kidrise"}),Z.jsx("span",{className:"text-[10px] text-blue-200 uppercase tracking-[0.2em] font-semibold",children:"Sky Explorer"})]})]}),Z.jsxs("div",{className:"flex flex-col gap-2 pointer-events-auto",children:[Z.jsxs("div",{className:"flex gap-2",children:[Z.jsxs("button",{onClick:()=>N(!C),className:`h-9 px-3 rounded-xl text-xs font-bold transition-all border shadow-lg flex items-center gap-2 ${C?"bg-purple-600 border-purple-400 text-white":"bg-black/40 border-white/10 text-gray-300 hover:bg-black/60"}`,children:[Z.jsx("i",{className:"fas fa-star"})," ",b.btnArt]}),Z.jsx("button",{onClick:()=>t(W=>W==="en"?"zh-HK":"en"),className:"h-9 w-9 rounded-xl bg-black/40 hover:bg-black/60 border border-white/10 flex items-center justify-center text-xs font-bold transition-colors shadow-lg",children:e==="en"?"":"EN"})]}),Z.jsxs("a",{href:"https://www.stemtoy.com.hk",target:"_blank",rel:"noreferrer",className:"hidden md:flex bg-kidrise-orange/90 hover:bg-orange-500 text-xs px-3 py-1.5 rounded-full transition-all shadow-lg font-bold items-center justify-center gap-2 text-white no-underline",children:["Shop ",Z.jsx("i",{className:"fas fa-shopping-bag"})]})]})]})}),O&&Z.jsx(Kb,{star:O,lang:e,onClose:()=>U(null)}),Z.jsx(Xb,{lang:e,currentDate:a,viewMode:f,isLiveTime:v,enableGyro:w,onSetViewMode:p,onShiftTime:F,onSetLiveTime:()=>_(!0),onToggleGyro:k,onLocationUpdate:X}),Z.jsx(Yb,{lang:e})]})}class $b extends Nt.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,o){console.error("Uncaught error:",t,o)}render(){var t;return this.state.hasError?Z.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-space-black text-white p-8 text-center",children:[Z.jsx("div",{className:"text-6xl mb-4",children:""}),Z.jsx("h1",{className:"text-2xl font-bold text-red-500 mb-4",children:"Something went wrong."}),Z.jsx("p",{className:"bg-black/50 p-4 rounded-xl font-mono text-s text-left overflow-auto max-w-full",children:(t=this.state.error)==null?void 0:t.toString()}),Z.jsx("button",{onClick:()=>window.location.reload(),className:"mt-6 bg-kidrise-orange px-6 py-2 rounded-xl font-bold text-white hover:bg-orange-600 transition",children:"Reload App"})]}):this.props.children}}const w_=document.getElementById("root");if(!w_)throw new Error("Could not find root element to mount to");const Wb=uE.createRoot(w_);Wb.render(Z.jsx(eE.StrictMode,{children:Z.jsx($b,{children:Z.jsx(Zb,{})})}));
